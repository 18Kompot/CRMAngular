(self.webpackChunkcrm=self.webpackChunkcrm||[]).push([[179],{2011:(wt,ue,B)=>{"use strict";B.d(ue,{Dh:()=>pe,GT:()=>we,cc:()=>Pe,hO:()=>qe,on:()=>Y,pX:()=>fe,xv:()=>Ce});var c=B(4650),R=B(127),L=B(5813);wt=B.hmd(wt);const le=["ngOnDestroy"],fe=(me,$e,rt,Be={})=>new Proxy(me,{get:(Fe,Ae)=>rt.runOutsideAngular(()=>{var et;if(me[Ae])return!(null===(et=Be?.spy)||void 0===et)&&et.get&&Be.spy.get(Ae,me[Ae]),me[Ae];if(le.indexOf(Ae)>-1)return()=>{};const oe=$e.toPromise().then(ge=>{const be=ge&&ge[Ae];return"function"==typeof be?be.bind(ge):be&&be.then?be.then(X=>rt.run(()=>X)):rt.run(()=>be)});return new Proxy(()=>{},{get:(ge,be)=>oe[be],apply:(ge,be,X)=>oe.then(ne=>{var ye;const ae=ne&&ne(...X);return!(null===(ye=Be?.spy)||void 0===ye)&&ye.apply&&Be.spy.apply(Ae,X,ae),ae})})})}),we=(me,$e)=>{$e.forEach(rt=>{Object.getOwnPropertyNames(rt.prototype||rt).forEach(Be=>{Object.defineProperty(me.prototype,Be,Object.getOwnPropertyDescriptor(rt.prototype||rt,Be))})})};class he{constructor($e){return $e}}const pe=new c.OlP("angularfire2.app.options"),Ce=new c.OlP("angularfire2.app.name");function Y(me,$e,rt){const Fe="object"==typeof rt&&rt||{};Fe.name=Fe.name||"string"==typeof rt&&rt||"[DEFAULT]";const et=R.Z.apps.filter(oe=>oe&&oe.name===Fe.name)[0]||$e.runOutsideAngular(()=>R.Z.initializeApp(me,Fe));try{JSON.stringify(me)!==JSON.stringify(et.options)&&Z("error",`${et.name} Firebase App already initialized with different options${wt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new he(et)}const Z=(me,...$e)=>{(0,c.X6Q)()&&typeof console<"u"&&console[me](...$e)},te={provide:he,useFactory:Y,deps:[pe,c.R0b,[new c.FiY,Ce]]};let qe=(()=>{class me{constructor(rt){R.Z.registerVersion("angularfire",L.q4.full,"core"),R.Z.registerVersion("angularfire",L.q4.full,"app-compat"),R.Z.registerVersion("angular",c.q4F.full,rt.toString())}static initializeApp(rt,Be){return{ngModule:me,providers:[{provide:pe,useValue:rt},{provide:Ce,useValue:Be}]}}}return me.\u0275fac=function(rt){return new(rt||me)(c.LFG(c.Lbi))},me.\u0275mod=c.oAB({type:me}),me.\u0275inj=c.cJS({providers:[te]}),me})();function Pe(me,$e,rt,Be,Fe){const[,Ae,et]=globalThis.\u0275AngularfireInstanceCache.find(oe=>oe[0]===me)||[];if(Ae)return function xe(me,$e){try{return me.toString()===$e.toString()}catch{return me===$e}}(Fe,et)||(Ie("error",`${$e} was already initialized on the ${rt} Firebase App with different settings.${Xe?" You may need to reload as Firebase is not HMR aware.":""}`),Ie("warn",{is:Fe,was:et})),Ae;{const oe=Be();return globalThis.\u0275AngularfireInstanceCache.push([me,oe,Fe]),oe}}const Xe=!!wt.hot,Ie=(me,...$e)=>{(0,c.X6Q)()&&typeof console<"u"&&console[me](...$e)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(wt,ue,B)=>{"use strict";B.d(ue,{q4:()=>bu,iC:()=>dr,HU:()=>ea,vb:()=>Ai,JM:()=>Eo,u3:()=>wr});var c=B(4650),R=B(5867),L=B(5861),le=B(9681),fe=B(2090),we=B(4859),he=B(1877),pe=B(8766);const Ce="@firebase/installations",Y="0.5.16",te=`w:${Y}`,qe="FIS_v2",$e=new fe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function rt(T){return T instanceof fe.ZR&&T.code.includes("request-failed")}function Be({projectId:T}){return`https://firebaseinstallations.googleapis.com/v1/projects/${T}/installations`}function Fe(T){return{token:T.token,requestStatus:2,expiresIn:ne(T.expiresIn),creationTime:Date.now()}}function Ae(T,A){return et.apply(this,arguments)}function et(){return(et=(0,L.Z)(function*(T,A){const G=(yield A.json()).error;return $e.create("request-failed",{requestName:T,serverCode:G.code,serverMessage:G.message,serverStatus:G.status})})).apply(this,arguments)}function oe({apiKey:T}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T})}function ge(T,{refreshToken:A}){const k=oe(T);return k.append("Authorization",function ye(T){return`${qe} ${T}`}(A)),k}function be(T){return X.apply(this,arguments)}function X(){return(X=(0,L.Z)(function*(T){const A=yield T();return A.status>=500&&A.status<600?T():A})).apply(this,arguments)}function ne(T){return Number(T.replace("s","000"))}function ae(T,A){return je.apply(this,arguments)}function je(){return(je=(0,L.Z)(function*({appConfig:T,heartbeatServiceProvider:A},{fid:k}){const G=Be(T),ee=oe(T),de=A.getImmediate({optional:!0});if(de){const jt=yield de.getHeartbeatsHeader();jt&&ee.append("x-firebase-client",jt)}const Je={method:"POST",headers:ee,body:JSON.stringify({fid:k,authVersion:qe,appId:T.appId,sdkVersion:te})},Tt=yield be(()=>fetch(G,Je));if(Tt.ok){const jt=yield Tt.json();return{fid:jt.fid||k,registrationStatus:2,refreshToken:jt.refreshToken,authToken:Fe(jt.authToken)}}throw yield Ae("Create Installation",Tt)})).apply(this,arguments)}function We(T){return new Promise(A=>{setTimeout(A,T)})}const ln=/^[cdef][\w-]{21}$/;function tt(){try{const T=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(T),T[0]=112+T[0]%16;const k=function gn(T){return function vt(T){return btoa(String.fromCharCode(...T)).replace(/\+/g,"-").replace(/\//g,"_")}(T).substr(0,22)}(T);return ln.test(k)?k:""}catch{return""}}function mn(T){return`${T.appName}!${T.appId}`}const dn=new Map;function Jt(T,A){const k=mn(T);kr(k,A),function Zn(T,A){const k=function Ln(){return!Ar&&"BroadcastChannel"in self&&(Ar=new BroadcastChannel("[Firebase] FID Change"),Ar.onmessage=T=>{kr(T.data.key,T.data.fid)}),Ar}();k&&k.postMessage({key:T,fid:A}),function Vi(){0===dn.size&&Ar&&(Ar.close(),Ar=null)}()}(k,A)}function kr(T,A){const k=dn.get(T);if(k)for(const G of k)G(A)}let Ar=null;const Dn="firebase-installations-store";let Nr=null;function On(){return Nr||(Nr=(0,pe.X3)("firebase-installations-database",1,{upgrade:(T,A)=>{0===A&&T.createObjectStore(Dn)}})),Nr}function Ye(T,A){return er.apply(this,arguments)}function er(){return(er=(0,L.Z)(function*(T,A){const k=mn(T),ee=(yield On()).transaction(Dn,"readwrite"),de=ee.objectStore(Dn),Se=yield de.get(k);return yield de.put(A,k),yield ee.done,(!Se||Se.fid!==A.fid)&&Jt(T,A.fid),A})).apply(this,arguments)}function Bn(T){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,L.Z)(function*(T){const A=mn(T),G=(yield On()).transaction(Dn,"readwrite");yield G.objectStore(Dn).delete(A),yield G.done})).apply(this,arguments)}function vr(T,A){return hs.apply(this,arguments)}function hs(){return(hs=(0,L.Z)(function*(T,A){const k=mn(T),ee=(yield On()).transaction(Dn,"readwrite"),de=ee.objectStore(Dn),Se=yield de.get(k),Je=A(Se);return void 0===Je?yield de.delete(k):yield de.put(Je,k),yield ee.done,Je&&(!Se||Se.fid!==Je.fid)&&Jt(T,Je.fid),Je})).apply(this,arguments)}function An(T){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,L.Z)(function*(T){let A;const k=yield vr(T.appConfig,G=>{const ee=En(G),de=Ct(T,ee);return A=de.registrationPromise,de.installationEntry});return""===k.fid?{installationEntry:yield A}:{installationEntry:k,registrationPromise:A}})).apply(this,arguments)}function En(T){return Ft(T||{fid:tt(),registrationStatus:0})}function Ct(T,A){if(0===A.registrationStatus){if(!navigator.onLine)return{installationEntry:A,registrationPromise:Promise.reject($e.create("app-offline"))};const k={fid:A.fid,registrationStatus:1,registrationTime:Date.now()},G=function Ze(T,A){return Lt.apply(this,arguments)}(T,k);return{installationEntry:k,registrationPromise:G}}return 1===A.registrationStatus?{installationEntry:A,registrationPromise:qr(T)}:{installationEntry:A}}function Lt(){return(Lt=(0,L.Z)(function*(T,A){try{const k=yield ae(T,A);return Ye(T.appConfig,k)}catch(k){throw rt(k)&&409===k.customData.serverCode?yield Bn(T.appConfig):yield Ye(T.appConfig,{fid:A.fid,registrationStatus:0}),k}})).apply(this,arguments)}function qr(T){return tr.apply(this,arguments)}function tr(){return(tr=(0,L.Z)(function*(T){let A=yield Pr(T.appConfig);for(;1===A.registrationStatus;)yield We(100),A=yield Pr(T.appConfig);if(0===A.registrationStatus){const{installationEntry:k,registrationPromise:G}=yield An(T);return G||k}return A})).apply(this,arguments)}function Pr(T){return vr(T,A=>{if(!A)throw $e.create("installation-not-found");return Ft(A)})}function Ft(T){return function nr(T){return 1===T.registrationStatus&&T.registrationTime+1e4<Date.now()}(T)?{fid:T.fid,registrationStatus:0}:T}function Wt(T,A){return hi.apply(this,arguments)}function hi(){return(hi=(0,L.Z)(function*({appConfig:T,heartbeatServiceProvider:A},k){const G=sn(T,k),ee=ge(T,k),de=A.getImmediate({optional:!0});if(de){const jt=yield de.getHeartbeatsHeader();jt&&ee.append("x-firebase-client",jt)}const Je={method:"POST",headers:ee,body:JSON.stringify({installation:{sdkVersion:te,appId:T.appId}})},Tt=yield be(()=>fetch(G,Je));if(Tt.ok)return Fe(yield Tt.json());throw yield Ae("Generate Auth Token",Tt)})).apply(this,arguments)}function sn(T,{fid:A}){return`${Be(T)}/${A}/authTokens:generate`}function pr(T){return kn.apply(this,arguments)}function kn(){return(kn=(0,L.Z)(function*(T,A=!1){let k;const G=yield vr(T.appConfig,de=>{if(!on(de))throw $e.create("not-registered");const Se=de.authToken;if(!A&&K(Se))return de;if(1===Se.requestStatus)return k=lt(T,A),de;{if(!navigator.onLine)throw $e.create("app-offline");const Je=J(de);return k=Et(T,Je),Je}});return k?yield k:G.authToken})).apply(this,arguments)}function lt(T,A){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,L.Z)(function*(T,A){let k=yield dt(T.appConfig);for(;1===k.authToken.requestStatus;)yield We(100),k=yield dt(T.appConfig);const G=k.authToken;return 0===G.requestStatus?pr(T,A):G})).apply(this,arguments)}function dt(T){return vr(T,A=>{if(!on(A))throw $e.create("not-registered");return function H(T){return 1===T.requestStatus&&T.requestTime+1e4<Date.now()}(A.authToken)?Object.assign(Object.assign({},A),{authToken:{requestStatus:0}}):A})}function Et(T,A){return xt.apply(this,arguments)}function xt(){return(xt=(0,L.Z)(function*(T,A){try{const k=yield Wt(T,A),G=Object.assign(Object.assign({},A),{authToken:k});return yield Ye(T.appConfig,G),k}catch(k){if(!rt(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const G=Object.assign(Object.assign({},A),{authToken:{requestStatus:0}});yield Ye(T.appConfig,G)}else yield Bn(T.appConfig);throw k}})).apply(this,arguments)}function on(T){return void 0!==T&&2===T.registrationStatus}function K(T){return 2===T.requestStatus&&!function z(T){const A=Date.now();return A<T.creationTime||T.creationTime+T.expiresIn<A+36e5}(T)}function J(T){const A={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},T),{authToken:A})}function $(){return($=(0,L.Z)(function*(T){const A=T,{installationEntry:k,registrationPromise:G}=yield An(A);return G?G.catch(console.error):pr(A).catch(console.error),k.fid})).apply(this,arguments)}function Ve(){return(Ve=(0,L.Z)(function*(T,A=!1){const k=T;return yield ht(k),(yield pr(k,A)).token})).apply(this,arguments)}function ht(T){return ft.apply(this,arguments)}function ft(){return(ft=(0,L.Z)(function*(T){const{registrationPromise:A}=yield An(T);A&&(yield A)})).apply(this,arguments)}function rr(T){return $e.create("missing-app-config-values",{valueName:T})}const lo="installations",Ps=T=>{const A=T.getProvider("app").getImmediate(),k=function yn(T){if(!T||!T.options)throw rr("App Configuration");if(!T.name)throw rr("App Name");const A=["projectId","apiKey","appId"];for(const k of A)if(!T.options[k])throw rr(k);return{appName:T.name,projectId:T.options.projectId,apiKey:T.options.apiKey,appId:T.options.appId}}(A);return{app:A,appConfig:k,heartbeatServiceProvider:(0,le._getProvider)(A,"heartbeat"),_delete:()=>Promise.resolve()}},fs=T=>{const A=T.getProvider("app").getImmediate(),k=(0,le._getProvider)(A,lo).getImmediate();return{getId:()=>function F(T){return $.apply(this,arguments)}(k),getToken:ee=>function se(T){return Ve.apply(this,arguments)}(k,ee)}};(function ha(){(0,le._registerComponent)(new we.wA(lo,Ps,"PUBLIC")),(0,le._registerComponent)(new we.wA("installations-internal",fs,"PRIVATE"))})(),(0,le.registerVersion)(Ce,Y),(0,le.registerVersion)(Ce,Y,"esm2017");const Xi="@firebase/remote-config",sr=new fe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class sl{constructor(A,k,G,ee){this.client=A,this.storage=k,this.storageCache=G,this.logger=ee}isCachedDataFresh(A,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const G=Date.now()-k,ee=G<=A;return this.logger.debug(`Config fetch cache check. Cache age millis: ${G}. Cache max age millis (minimumFetchIntervalMillis setting): ${A}. Is cache hit: ${ee}.`),ee}fetch(A){var k=this;return(0,L.Z)(function*(){const[G,ee]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(ee&&k.isCachedDataFresh(A.cacheMaxAgeMillis,G))return ee;A.eTag=ee&&ee.eTag;const de=yield k.client.fetch(A),Se=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===de.status&&Se.push(k.storage.setLastSuccessfulFetchResponse(de)),yield Promise.all(Se),de})()}}function ts(T=navigator){return T.languages&&T.languages[0]||T.language}class Ls{constructor(A,k,G,ee,de,Se){this.firebaseInstallations=A,this.sdkVersion=k,this.namespace=G,this.projectId=ee,this.apiKey=de,this.appId=Se}fetch(A){var k=this;return(0,L.Z)(function*(){var G,ee,de;const[Se,Je]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),jt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,qt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":A.eTag||"*"},St={sdk_version:k.sdkVersion,app_instance_id:Se,app_instance_id_token:Je,app_id:k.appId,language_code:ts()},gr={method:"POST",headers:qt,body:JSON.stringify(St)},Hr=fetch(jt,gr),ra=new Promise((To,Br)=>{A.signal.addEventListener(()=>{const Ad=new Error("The operation was aborted.");Ad.name="AbortError",Br(Ad)})});let Zt;try{yield Promise.race([Hr,ra]),Zt=yield Hr}catch(To){let Br="fetch-client-network";throw"AbortError"===(null===(G=To)||void 0===G?void 0:G.name)&&(Br="fetch-timeout"),sr.create(Br,{originalErrorMessage:null===(ee=To)||void 0===ee?void 0:ee.message})}let Gr=Zt.status;const ia=Zt.headers.get("ETag")||void 0;let Io,_c;if(200===Zt.status){let To;try{To=yield Zt.json()}catch(Br){throw sr.create("fetch-client-parse",{originalErrorMessage:null===(de=Br)||void 0===de?void 0:de.message})}Io=To.entries,_c=To.state}if("INSTANCE_STATE_UNSPECIFIED"===_c?Gr=500:"NO_CHANGE"===_c?Gr=304:("NO_TEMPLATE"===_c||"EMPTY_CONFIG"===_c)&&(Io={}),304!==Gr&&200!==Gr)throw sr.create("fetch-status",{httpStatus:Gr});return{status:Gr,eTag:ia,config:Io}})()}}class ns{constructor(A,k){this.client=A,this.storage=k}fetch(A){var k=this;return(0,L.Z)(function*(){const G=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(A,G)})()}attemptFetch(A,{throttleEndTimeMillis:k,backoffCount:G}){var ee=this;return(0,L.Z)(function*(){yield function pi(T,A){return new Promise((k,G)=>{const ee=Math.max(A-Date.now(),0),de=setTimeout(k,ee);T.addEventListener(()=>{clearTimeout(de),G(sr.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(A.signal,k);try{const de=yield ee.client.fetch(A);return yield ee.storage.deleteThrottleMetadata(),de}catch(de){if(!function yd(T){if(!(T instanceof fe.ZR&&T.customData))return!1;const A=Number(T.customData.httpStatus);return 429===A||500===A||503===A||504===A}(de))throw de;const Se={throttleEndTimeMillis:Date.now()+(0,fe.$s)(G),backoffCount:G+1};return yield ee.storage.setThrottleMetadata(Se),ee.attemptFetch(A,Se)}})()}}class au{constructor(A,k,G,ee,de){this.app=A,this._client=k,this._storageCache=G,this._storage=ee,this._logger=de,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Lo(T,A){var k;const G=T.target.error||void 0;return sr.create(A,{originalErrorMessage:G&&(null===(k=G)||void 0===k?void 0:k.message)})}const ho="app_namespace_store";class Ql{constructor(A,k,G,ee=function bd(){return new Promise((T,A)=>{var k;try{const G=indexedDB.open("firebase_remote_config",1);G.onerror=ee=>{A(Lo(ee,"storage-open"))},G.onsuccess=ee=>{T(ee.target.result)},G.onupgradeneeded=ee=>{0===ee.oldVersion&&ee.target.result.createObjectStore(ho,{keyPath:"compositeKey"})}}catch(G){A(sr.create("storage-open",{originalErrorMessage:null===(k=G)||void 0===k?void 0:k.message}))}})}()){this.appId=A,this.appName=k,this.namespace=G,this.openDbPromise=ee}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(A){return this.set("last_fetch_status",A)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(A){return this.set("last_successful_fetch_timestamp_millis",A)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(A){return this.set("last_successful_fetch_response",A)}getActiveConfig(){return this.get("active_config")}setActiveConfig(A){return this.set("active_config",A)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(A){return this.set("active_config_etag",A)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(A){return this.set("throttle_metadata",A)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(A){var k=this;return(0,L.Z)(function*(){const G=yield k.openDbPromise;return new Promise((ee,de)=>{var Se;const Tt=G.transaction([ho],"readonly").objectStore(ho),jt=k.createCompositeKey(A);try{const qt=Tt.get(jt);qt.onerror=St=>{de(Lo(St,"storage-get"))},qt.onsuccess=St=>{const gr=St.target.result;ee(gr?gr.value:void 0)}}catch(qt){de(sr.create("storage-get",{originalErrorMessage:null===(Se=qt)||void 0===Se?void 0:Se.message}))}})})()}set(A,k){var G=this;return(0,L.Z)(function*(){const ee=yield G.openDbPromise;return new Promise((de,Se)=>{var Je;const jt=ee.transaction([ho],"readwrite").objectStore(ho),qt=G.createCompositeKey(A);try{const St=jt.put({compositeKey:qt,value:k});St.onerror=gr=>{Se(Lo(gr,"storage-set"))},St.onsuccess=()=>{de()}}catch(St){Se(sr.create("storage-set",{originalErrorMessage:null===(Je=St)||void 0===Je?void 0:Je.message}))}})})()}delete(A){var k=this;return(0,L.Z)(function*(){const G=yield k.openDbPromise;return new Promise((ee,de)=>{var Se;const Tt=G.transaction([ho],"readwrite").objectStore(ho),jt=k.createCompositeKey(A);try{const qt=Tt.delete(jt);qt.onerror=St=>{de(Lo(St,"storage-delete"))},qt.onsuccess=()=>{ee()}}catch(qt){de(sr.create("storage-delete",{originalErrorMessage:null===(Se=qt)||void 0===Se?void 0:Se.message}))}})})()}createCompositeKey(A){return[this.appId,this.appName,this.namespace,A].join()}}class fo{constructor(A){this.storage=A}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var A=this;return(0,L.Z)(function*(){const k=A.storage.getLastFetchStatus(),G=A.storage.getLastSuccessfulFetchTimestampMillis(),ee=A.storage.getActiveConfig(),de=yield k;de&&(A.lastFetchStatus=de);const Se=yield G;Se&&(A.lastSuccessfulFetchTimestampMillis=Se);const Je=yield ee;Je&&(A.activeConfig=Je)})()}setLastFetchStatus(A){return this.lastFetchStatus=A,this.storage.setLastFetchStatus(A)}setLastSuccessfulFetchTimestampMillis(A){return this.lastSuccessfulFetchTimestampMillis=A,this.storage.setLastSuccessfulFetchTimestampMillis(A)}setActiveConfig(A){return this.activeConfig=A,this.storage.setActiveConfig(A)}}function af(){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,L.Z)(function*(){if(!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch{return!1}})).apply(this,arguments)}!function Jl(){(0,le._registerComponent)(new we.wA("remote-config",function T(A,{instanceIdentifier:k}){const G=A.getProvider("app").getImmediate(),ee=A.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw sr.create("registration-window");if(!(0,fe.hl)())throw sr.create("indexed-db-unavailable");const{projectId:de,apiKey:Se,appId:Je}=G.options;if(!de)throw sr.create("registration-project-id");if(!Se)throw sr.create("registration-api-key");if(!Je)throw sr.create("registration-app-id");const Tt=new Ql(Je,G.name,k=k||"firebase"),jt=new fo(Tt),qt=new he.Yd(Xi);qt.logLevel=he.in.ERROR;const St=new Ls(ee,le.SDK_VERSION,k,de,Se,Je),gr=new ns(St,Tt),Hr=new sl(gr,Tt,jt,qt),ra=new au(G,Hr,jt,Tt,qt);return function Un(T){const A=(0,fe.m9)(T);A._initializePromise||(A._initializePromise=A._storageCache.loadFromStorage().then(()=>{A._isInitializationComplete=!0}))}(ra),ra},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(Xi,"0.3.15"),(0,le.registerVersion)(Xi,"0.3.15","esm2017")}();const xr="/firebase-messaging-sw.js",po="/firebase-cloud-messaging-push-scope",_s="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",pa="google.c.a.c_id",ol="google.c.a.c_l",ec="google.c.a.ts",Us="google.c.a.e";var Jr=(()=>{return(T=Jr||(Jr={})).PUSH_RECEIVED="push-received",T.NOTIFICATION_CLICKED="notification-clicked",Jr;var T})();function rs(T){const A=new Uint8Array(T);return btoa(String.fromCharCode(...A)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Xr(T){const k=(T+"=".repeat((4-T.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),G=atob(k),ee=new Uint8Array(G.length);for(let de=0;de<G.length;++de)ee[de]=G.charCodeAt(de);return ee}const js="fcm_token_details_db",mo="fcm_token_object_Store";function wd(T){return al.apply(this,arguments)}function al(){return al=(0,L.Z)(function*(T){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(de=>de.name).includes(js))return null;let A=null;return(yield(0,pe.X3)(js,5,{upgrade:(G=(0,L.Z)(function*(ee,de,Se,Je){var Tt;if(de<2||!ee.objectStoreNames.contains(mo))return;const jt=Je.objectStore(mo),qt=yield jt.index("fcmSenderId").get(T);if(yield jt.clear(),qt)if(2===de){const St=qt;if(!St.auth||!St.p256dh||!St.endpoint)return;A={token:St.fcmToken,createTime:null!==(Tt=St.createTime)&&void 0!==Tt?Tt:Date.now(),subscriptionOptions:{auth:St.auth,p256dh:St.p256dh,endpoint:St.endpoint,swScope:St.swScope,vapidKey:"string"==typeof St.vapidKey?St.vapidKey:rs(St.vapidKey)}}}else if(3===de){const St=qt;A={token:St.fcmToken,createTime:St.createTime,subscriptionOptions:{auth:rs(St.auth),p256dh:rs(St.p256dh),endpoint:St.endpoint,swScope:St.swScope,vapidKey:rs(St.vapidKey)}}}else if(4===de){const St=qt;A={token:St.fcmToken,createTime:St.createTime,subscriptionOptions:{auth:rs(St.auth),p256dh:rs(St.p256dh),endpoint:St.endpoint,swScope:St.swScope,vapidKey:rs(St.vapidKey)}}}}),function(de,Se,Je,Tt){return G.apply(this,arguments)})})).close(),yield(0,pe.Lj)(js),yield(0,pe.Lj)("fcm_vapid_details_db"),yield(0,pe.Lj)("undefined"),In(A)?A:null;var G}),al.apply(this,arguments)}function In(T){if(!T||!T.subscriptionOptions)return!1;const{subscriptionOptions:A}=T;return"number"==typeof T.createTime&&T.createTime>0&&"string"==typeof T.token&&T.token.length>0&&"string"==typeof A.auth&&A.auth.length>0&&"string"==typeof A.p256dh&&A.p256dh.length>0&&"string"==typeof A.endpoint&&A.endpoint.length>0&&"string"==typeof A.swScope&&A.swScope.length>0&&"string"==typeof A.vapidKey&&A.vapidKey.length>0}const Si="firebase-messaging-store";let br=null;function Vo(){return br||(br=(0,pe.X3)("firebase-messaging-database",1,{upgrade:(T,A)=>{0===A&&T.createObjectStore(Si)}})),br}function ys(T){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,L.Z)(function*(T){const A=mi(T),G=yield(yield Vo()).transaction(Si).objectStore(Si).get(A);if(G)return G;{const ee=yield wd(T.appConfig.senderId);if(ee)return yield fn(T,ee),ee}})).apply(this,arguments)}function fn(T,A){return ll.apply(this,arguments)}function ll(){return(ll=(0,L.Z)(function*(T,A){const k=mi(T),ee=(yield Vo()).transaction(Si,"readwrite");return yield ee.objectStore(Si).put(A,k),yield ee.done,A})).apply(this,arguments)}function vs(T){return cl.apply(this,arguments)}function cl(){return(cl=(0,L.Z)(function*(T){const A=mi(T),G=(yield Vo()).transaction(Si,"readwrite");yield G.objectStore(Si).delete(A),yield G.done})).apply(this,arguments)}function mi({appConfig:T}){return T.appId}const Kn=new fe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ut(T,A){return $s.apply(this,arguments)}function $s(){return($s=(0,L.Z)(function*(T,A){var k;const G=yield jo(T),ee=Le(A),de={method:"POST",headers:G,body:JSON.stringify(ee)};let Se;try{Se=yield(yield fetch(Hs(T.appConfig),de)).json()}catch(Je){throw Kn.create("token-subscribe-failed",{errorInfo:null===(k=Je)||void 0===k?void 0:k.toString()})}if(Se.error)throw Kn.create("token-subscribe-failed",{errorInfo:Se.error.message});if(!Se.token)throw Kn.create("token-subscribe-no-token");return Se.token})).apply(this,arguments)}function cu(T,A){return ji.apply(this,arguments)}function ji(){return(ji=(0,L.Z)(function*(T,A){var k;const G=yield jo(T),ee=Le(A.subscriptionOptions),de={method:"PATCH",headers:G,body:JSON.stringify(ee)};let Se;try{Se=yield(yield fetch(`${Hs(T.appConfig)}/${A.token}`,de)).json()}catch(Je){throw Kn.create("token-update-failed",{errorInfo:null===(k=Je)||void 0===k?void 0:k.toString()})}if(Se.error)throw Kn.create("token-update-failed",{errorInfo:Se.error.message});if(!Se.token)throw Kn.create("token-update-no-token");return Se.token})).apply(this,arguments)}function nc(T,A){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,L.Z)(function*(T,A){var k;const ee={method:"DELETE",headers:yield jo(T)};try{const Se=yield(yield fetch(`${Hs(T.appConfig)}/${A}`,ee)).json();if(Se.error)throw Kn.create("token-unsubscribe-failed",{errorInfo:Se.error.message})}catch(de){throw Kn.create("token-unsubscribe-failed",{errorInfo:null===(k=de)||void 0===k?void 0:k.toString()})}})).apply(this,arguments)}function Hs({projectId:T}){return`https://fcmregistrations.googleapis.com/v1/projects/${T}/registrations`}function jo(T){return _o.apply(this,arguments)}function _o(){return(_o=(0,L.Z)(function*({appConfig:T,installations:A}){const k=yield A.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function Le({p256dh:T,auth:A,endpoint:k,vapidKey:G}){const ee={web:{endpoint:k,auth:A,p256dh:T}};return G!==_s&&(ee.web.applicationPubKey=G),ee}const rn=6048e5;function uu(T){return yo.apply(this,arguments)}function yo(){return(yo=(0,L.Z)(function*(T){const A=yield du(T.swRegistration,T.vapidKey),k={vapidKey:T.vapidKey,swScope:T.swRegistration.scope,endpoint:A.endpoint,auth:rs(A.getKey("auth")),p256dh:rs(A.getKey("p256dh"))},G=yield ys(T.firebaseDependencies);if(G){if(hu(G.subscriptionOptions,k))return Date.now()>=G.createTime+rn?ga(T,{token:G.token,createTime:Date.now(),subscriptionOptions:k}):G.token;try{yield nc(T.firebaseDependencies,G.token)}catch(ee){console.warn(ee)}return ma(T.firebaseDependencies,k)}return ma(T.firebaseDependencies,k)})).apply(this,arguments)}function Yn(T){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,L.Z)(function*(T){const A=yield ys(T.firebaseDependencies);A&&(yield nc(T.firebaseDependencies,A.token),yield vs(T.firebaseDependencies));const k=yield T.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function ga(T,A){return jr.apply(this,arguments)}function jr(){return(jr=(0,L.Z)(function*(T,A){try{const k=yield cu(T.firebaseDependencies,A),G=Object.assign(Object.assign({},A),{token:k,createTime:Date.now()});return yield fn(T.firebaseDependencies,G),k}catch(k){throw yield Yn(T),k}})).apply(this,arguments)}function ma(T,A){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,L.Z)(function*(T,A){const G={token:yield Ut(T,A),createTime:Date.now(),subscriptionOptions:A};return yield fn(T,G),G.token})).apply(this,arguments)}function du(T,A){return zs.apply(this,arguments)}function zs(){return(zs=(0,L.Z)(function*(T,A){return(yield T.pushManager.getSubscription())||T.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Xr(A)})})).apply(this,arguments)}function hu(T,A){return A.vapidKey===T.vapidKey&&A.endpoint===T.endpoint&&A.auth===T.auth&&A.p256dh===T.p256dh}function bs(T){const A={from:T.from,collapseKey:T.collapse_key,messageId:T.fcmMessageId};return function Qn(T,A){if(!A.notification)return;T.notification={};const k=A.notification.title;k&&(T.notification.title=k);const G=A.notification.body;G&&(T.notification.body=G);const ee=A.notification.image;ee&&(T.notification.image=ee);const de=A.notification.icon;de&&(T.notification.icon=de)}(A,T),function $i(T,A){!A.data||(T.data=A.data)}(A,T),function $o(T,A){var k,G,ee,de,Se;if(!(A.fcmOptions||null!==(k=A.notification)&&void 0!==k&&k.click_action))return;T.fcmOptions={};const Je=null!==(ee=null===(G=A.fcmOptions)||void 0===G?void 0:G.link)&&void 0!==ee?ee:null===(de=A.notification)||void 0===de?void 0:de.click_action;Je&&(T.fcmOptions.link=Je);const Tt=null===(Se=A.fcmOptions)||void 0===Se?void 0:Se.analytics_label;Tt&&(T.fcmOptions.analyticsLabel=Tt)}(A,T),A}function Ho(T){return"object"==typeof T&&!!T&&pa in T}function _i(T,A){const k=[];for(let G=0;G<T.length;G++)k.push(T.charAt(G)),G<A.length&&k.push(A.charAt(G));return k.join("")}function ul(T){return Kn.create("missing-app-config-values",{valueName:T})}_i("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),_i("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ic{constructor(A,k,G){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ee=function rc(T){if(!T||!T.options)throw ul("App Configuration Object");if(!T.name)throw ul("App Name");const A=["projectId","apiKey","appId","messagingSenderId"],{options:k}=T;for(const G of A)if(!k[G])throw ul(G);return{appName:T.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(A);this.firebaseDependencies={app:A,appConfig:ee,installations:k,analyticsProvider:G}}_delete(){return Promise.resolve()}}function fu(T){return qs.apply(this,arguments)}function qs(){return(qs=(0,L.Z)(function*(T){var A;try{T.swRegistration=yield navigator.serviceWorker.register(xr,{scope:po}),T.swRegistration.update().catch(()=>{})}catch(k){throw Kn.create("failed-service-worker-registration",{browserErrorMessage:null===(A=k)||void 0===A?void 0:A.message})}})).apply(this,arguments)}function dl(T,A){return Go.apply(this,arguments)}function Go(){return(Go=(0,L.Z)(function*(T,A){if(!A&&!T.swRegistration&&(yield fu(T)),A||!T.swRegistration){if(!(A instanceof ServiceWorkerRegistration))throw Kn.create("invalid-sw-registration");T.swRegistration=A}})).apply(this,arguments)}function hl(T,A){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,L.Z)(function*(T,A){A?T.vapidKey=A:T.vapidKey||(T.vapidKey=_s)})).apply(this,arguments)}function Zs(){return(Zs=(0,L.Z)(function*(T,A){if(!navigator)throw Kn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Kn.create("permission-blocked");return yield hl(T,A?.vapidKey),yield dl(T,A?.serviceWorkerRegistration),uu(T)})).apply(this,arguments)}function pu(T,A,k){return zo.apply(this,arguments)}function zo(){return(zo=(0,L.Z)(function*(T,A,k){const G=gu(A);(yield T.firebaseDependencies.analyticsProvider.get()).logEvent(G,{message_id:k[pa],message_name:k[ol],message_time:k[ec],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function gu(T){switch(T){case Jr.NOTIFICATION_CLICKED:return"notification_open";case Jr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Hi(){return(Hi=(0,L.Z)(function*(T,A){const k=A.data;if(!k.isFirebaseMessaging)return;T.onMessageHandler&&k.messageType===Jr.PUSH_RECEIVED&&("function"==typeof T.onMessageHandler?T.onMessageHandler(bs(k)):T.onMessageHandler.next(bs(k)));const G=k.data;Ho(G)&&"1"===G[Us]&&(yield pu(T,k.messageType,G))})).apply(this,arguments)}const ws="@firebase/messaging",jn=T=>{const A=new ic(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),T.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function pl(T,A){return Hi.apply(this,arguments)}(A,k)),A},is=T=>{const A=T.getProvider("messaging").getImmediate();return{getToken:G=>function fl(T,A){return Zs.apply(this,arguments)}(A,G)}};function oc(){return gl.apply(this,arguments)}function gl(){return(gl=(0,L.Z)(function*(){try{yield(0,fe.eu)()}catch{return!1}return typeof window<"u"&&(0,fe.hl)()&&(0,fe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Pn(){(0,le._registerComponent)(new we.wA("messaging",jn,"PUBLIC")),(0,le._registerComponent)(new we.wA("messaging-internal",is,"PRIVATE")),(0,le.registerVersion)(ws,"0.10.0"),(0,le.registerVersion)(ws,"0.10.0","esm2017")}();const Ks="analytics",ac="firebase_id",vl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",lc="https://www.googletagmanager.com/gtag/js",Hn=new he.Yd("@firebase/analytics");function ya(T){return Promise.all(T.map(A=>A.catch(k=>k)))}function va(T,A){const k=document.createElement("script");k.src=`${lc}?l=${T}&id=${A}`,k.async=!0,document.head.appendChild(k)}function Gi(T,A,k,G,ee,de){return ss.apply(this,arguments)}function ss(){return(ss=(0,L.Z)(function*(T,A,k,G,ee,de){const Se=G[ee];try{if(Se)yield A[Se];else{const Tt=(yield ya(k)).find(jt=>jt.measurementId===ee);Tt&&(yield A[Tt.appId])}}catch(Je){Hn.error(Je)}T("config",ee,de)})).apply(this,arguments)}function os(T,A,k,G,ee){return qo.apply(this,arguments)}function qo(){return(qo=(0,L.Z)(function*(T,A,k,G,ee){try{let de=[];if(ee&&ee.send_to){let Se=ee.send_to;Array.isArray(Se)||(Se=[Se]);const Je=yield ya(k);for(const Tt of Se){const jt=Je.find(St=>St.measurementId===Tt),qt=jt&&A[jt.appId];if(!qt){de=[];break}de.push(qt)}}0===de.length&&(de=Object.values(A)),yield Promise.all(de),T("event",G,ee||{})}catch(de){Hn.error(de)}})).apply(this,arguments)}function cc(T){const A=window.document.getElementsByTagName("script");for(const k of Object.values(A))if(k.src&&k.src.includes(lc)&&k.src.includes(T))return k;return null}const cr=new fe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),M=new class E{constructor(A={},k=1e3){this.throttleMetadata=A,this.intervalMillis=k}getThrottleMetadata(A){return this.throttleMetadata[A]}setThrottleMetadata(A,k){this.throttleMetadata[A]=k}deleteThrottleMetadata(A){delete this.throttleMetadata[A]}};function W(T){return new Headers({Accept:"application/json","x-goog-api-key":T})}function Te(T){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,L.Z)(function*(T){var A;const{appId:k,apiKey:G}=T,ee={method:"GET",headers:W(G)},de=vl.replace("{app-id}",k),Se=yield fetch(de,ee);if(200!==Se.status&&304!==Se.status){let Je="";try{const Tt=yield Se.json();null!==(A=Tt.error)&&void 0!==A&&A.message&&(Je=Tt.error.message)}catch{}throw cr.create("config-fetch-failed",{httpStatus:Se.status,responseMessage:Je})}return Se.json()})).apply(this,arguments)}function Gn(T){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,L.Z)(function*(T,A=M,k){const{appId:G,apiKey:ee,measurementId:de}=T.options;if(!G)throw cr.create("no-app-id");if(!ee){if(de)return{measurementId:de,appId:G};throw cr.create("no-api-key")}const Se=A.getThrottleMetadata(G)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Je=new wl;return setTimeout((0,L.Z)(function*(){Je.abort()}),void 0!==k?k:6e4),Mr({appId:G,apiKey:ee,measurementId:de},Se,Je,A)})).apply(this,arguments)}function Mr(T,A,k){return $r.apply(this,arguments)}function $r(){return($r=(0,L.Z)(function*(T,{throttleEndTimeMillis:A,backoffCount:k},G,ee=M){var de,Se;const{appId:Je,measurementId:Tt}=T;try{yield Ko(G,A)}catch(jt){if(Tt)return Hn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Tt} provided in the "measurementId" field in the local Firebase config. [${null===(de=jt)||void 0===de?void 0:de.message}]`),{appId:Je,measurementId:Tt};throw jt}try{const jt=yield Te(T);return ee.deleteThrottleMetadata(Je),jt}catch(jt){const qt=jt;if(!uc(qt)){if(ee.deleteThrottleMetadata(Je),Tt)return Hn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Tt} provided in the "measurementId" field in the local Firebase config. [${qt?.message}]`),{appId:Je,measurementId:Tt};throw jt}const St=503===Number(null===(Se=qt?.customData)||void 0===Se?void 0:Se.httpStatus)?(0,fe.$s)(k,ee.intervalMillis,30):(0,fe.$s)(k,ee.intervalMillis),gr={throttleEndTimeMillis:Date.now()+St,backoffCount:k+1};return ee.setThrottleMetadata(Je,gr),Hn.debug(`Calling attemptFetch again in ${St} millis`),Mr(T,gr,G,ee)}})).apply(this,arguments)}function Ko(T,A){return new Promise((k,G)=>{const ee=Math.max(A-Date.now(),0),de=setTimeout(k,ee);T.addEventListener(()=>{clearTimeout(de),G(cr.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}function uc(T){if(!(T instanceof fe.ZR&&T.customData))return!1;const A=Number(T.customData.httpStatus);return 429===A||500===A||503===A||504===A}class wl{constructor(){this.listeners=[]}addEventListener(A){this.listeners.push(A)}abort(){this.listeners.forEach(A=>A())}}let Yo,hc;function Da(){return(Da=(0,L.Z)(function*(T,A,k,G,ee){if(ee&&ee.global)T("event",k,G);else{const de=yield A;T("event",k,Object.assign(Object.assign({},G),{send_to:de}))}})).apply(this,arguments)}function Ta(T){hc=T}function yu(T){Yo=T}function wo(){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,L.Z)(function*(){var T;if(!(0,fe.hl)())return Hn.warn(cr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,fe.eu)()}catch(A){return Hn.warn(cr.create("indexeddb-unavailable",{errorInfo:null===(T=A)||void 0===T?void 0:T.toString()}).message),!1}return!0})).apply(this,arguments)}function Aa(){return(Aa=(0,L.Z)(function*(T,A,k,G,ee,de,Se){var Je;const Tt=Gn(T);Tt.then(Hr=>{k[Hr.measurementId]=Hr.appId,T.options.measurementId&&Hr.measurementId!==T.options.measurementId&&Hn.warn(`The measurement ID in the local Firebase config (${T.options.measurementId}) does not match the measurement ID fetched from the server (${Hr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Hr=>Hn.error(Hr)),A.push(Tt);const jt=wo().then(Hr=>{if(Hr)return G.getId()}),[qt,St]=yield Promise.all([Tt,jt]);cc(de)||va(de,qt.measurementId),hc&&(ee("consent","default",hc),Ta(void 0)),ee("js",new Date);const gr=null!==(Je=Se?.config)&&void 0!==Je?Je:{};return gr.origin="firebase",gr.update=!0,null!=St&&(gr[ac]=St),ee("config",qt.measurementId,gr),Yo&&(ee("set",Yo),yu(void 0)),qt.measurementId})).apply(this,arguments)}class fc{constructor(A){this.app=A}_delete(){return delete ei[this.app.options.appId],Promise.resolve()}}let ei={},Na=[];const Qo={};let Ma,Es,xa="dataLayer",Cd=!1;function uf(T,A,k){!function pg(){const T=[];if((0,fe.ru)()&&T.push("This is a browser extension environment."),(0,fe.zI)()||T.push("Cookies are not available."),T.length>0){const A=T.map((G,ee)=>`(${ee+1}) ${G}`).join(" "),k=cr.create("invalid-analytics-context",{errorInfo:A});Hn.warn(k.message)}}();const G=T.options.appId;if(!G)throw cr.create("no-app-id");if(!T.options.apiKey){if(!T.options.measurementId)throw cr.create("no-api-key");Hn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${T.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ei[G])throw cr.create("already-exists",{id:G});if(!Cd){!function ba(T){let A=[];Array.isArray(window[T])?A=window[T]:window[T]=A}(xa);const{wrappedGtag:de,gtagCore:Se}=function Zo(T,A,k,G,ee){let de=function(...Se){window[G].push(arguments)};return window[ee]&&"function"==typeof window[ee]&&(de=window[ee]),window[ee]=function bl(T,A,k,G){function de(){return(de=(0,L.Z)(function*(Se,Je,Tt){try{"event"===Se?yield os(T,A,k,Je,Tt):"config"===Se?yield Gi(T,A,k,G,Je,Tt):"consent"===Se?T("consent","update",Tt):T("set",Je)}catch(jt){Hn.error(jt)}})).apply(this,arguments)}return function ee(Se,Je,Tt){return de.apply(this,arguments)}}(de,T,A,k),{gtagCore:de,wrappedGtag:window[ee]}}(ei,Na,Qo,xa,"gtag");Es=de,Ma=Se,Cd=!0}return ei[G]=function cf(T,A,k,G,ee,de,Se){return Aa.apply(this,arguments)}(T,Na,Qo,A,Ma,xa,k),new fc(T)}function Y_(){return df.apply(this,arguments)}function df(){return(df=(0,L.Z)(function*(){if((0,fe.ru)()||!(0,fe.zI)()||!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch{return!1}})).apply(this,arguments)}const yt="@firebase/analytics";!function pn(){(0,le._registerComponent)(new we.wA(Ks,(A,{options:k})=>uf(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,le._registerComponent)(new we.wA("analytics-internal",function T(A){try{const k=A.getProvider(Ks).getImmediate();return{logEvent:(G,ee,de)=>function Tn(T,A,k,G){T=(0,fe.m9)(T),function Dl(T,A,k,G,ee){return Da.apply(this,arguments)}(Es,ei[T.app.options.appId],A,k,G).catch(ee=>Hn.error(ee))}(k,G,ee,de)}}catch(k){throw cr.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,le.registerVersion)(yt,"0.8.4"),(0,le.registerVersion)(yt,"0.8.4","esm2017")}();var Ys=B(4408),ur=B(7565);const Ed=new class Xo extends ur.v{}(class Jo extends Ys.o{constructor(A,k){super(A,k),this.scheduler=A,this.work=k}schedule(A,k=0){return k>0?super.schedule(A,k):(this.delay=k,this.state=A,this.scheduler.flush(this),this)}execute(A,k){return k>0||this.closed?super.execute(A,k):this._execute(A,k)}requestAsyncId(A,k,G=0){return null!=G&&G>0||null==G&&this.delay>0?super.requestAsyncId(A,k,G):(A.flush(this),0)}});var hf=B(4986),Do=B(9751),Td=B(8505),Co=B(9468),mt=B(5363);const bu=new c.GfV("7.4.1"),Is="__angularfire_symbol__analyticsIsSupportedValue",El="__angularfire_symbol__analyticsIsSupported",Il="__angularfire_symbol__remoteConfigIsSupportedValue",zn="__angularfire_symbol__remoteConfigIsSupported",Tl="__angularfire_symbol__messagingIsSupportedValue",Oa="__angularfire_symbol__messagingIsSupported";function Eo(T,A,k){if(A){if(1===A.length)return A[0];const de=A.filter(Se=>Se.app===k);if(1===de.length)return de[0]}return k.container.getProvider(T).getImmediate({optional:!0})}globalThis[El]||(globalThis[El]=Y_().then(T=>globalThis[Is]=T).catch(()=>globalThis[Is]=!1)),globalThis[Oa]||(globalThis[Oa]=oc().then(T=>globalThis[Tl]=T).catch(()=>globalThis[Tl]=!1)),globalThis[zn]||(globalThis[zn]=af().then(T=>globalThis[Il]=T).catch(()=>globalThis[Il]=!1));const Ai=(T,A)=>{const k=A?[A]:(0,R.C6)(),G=[];return k.forEach(ee=>{ee.container.getProvider(T).instances.forEach(Se=>{G.includes(Se)||G.push(Se)})}),G};function ls(){}class mc{constructor(A,k=Ed){this.zone=A,this.delegate=k}now(){return this.delegate.now()}schedule(A,k,G){const ee=this.zone;return this.delegate.schedule(function(Se){ee.runGuarded(()=>{A.apply(this,[Se])})},k,G)}}class ti{constructor(A){this.zone=A,this.task=null}call(A,k){const G=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ls,{},ls,ls)),k.pipe((0,Td.b)({next:G,complete:G,error:G})).subscribe(A).add(G)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ea=(()=>{class T{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new mc(Zone.current)),this.insideAngular=k.run(()=>new mc(Zone.current,hf.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return T.\u0275fac=function(k){return new(k||T)(c.LFG(c.R0b))},T.\u0275prov=c.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function Vr(){const T=globalThis.\u0275AngularFireScheduler;if(!T)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return T}function Sd(T){return Vr().ngZone.runOutsideAngular(()=>T())}function Fn(T){return Vr().ngZone.run(()=>T())}function dr(T){return Vr(),function cn(T){return function(k){return(k=k.lift(new ti(T.ngZone))).pipe((0,Co.R)(T.outsideAngular),(0,mt.Q)(T.insideAngular))}}(Vr())(T)}const Ts=(T,A)=>function(){const G=arguments;return A&&setTimeout(()=>{"scheduled"===A.state&&A.invoke()},10),Fn(()=>T.apply(void 0,G))},wr=(T,A)=>function(){let k;const G=arguments;for(let de=0;de<arguments.length;de++)"function"==typeof G[de]&&(A&&(k||(k=Fn(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ls,{},ls,ls)))),G[de]=Ts(G[de],k));const ee=Sd(()=>T.apply(this,G));if(!A){if(ee instanceof Do.y){const de=Vr();return ee.pipe((0,Co.R)(de.outsideAngular),(0,mt.Q)(de.insideAngular))}return Fn(()=>ee)}return ee instanceof Do.y?ee.pipe(dr):ee instanceof Promise?Fn(()=>new Promise((de,Se)=>ee.then(Je=>Fn(()=>de(Je)),Je=>Fn(()=>Se(Je))))):"function"==typeof ee&&k?function(){return setTimeout(()=>{k&&"scheduled"===k.state&&k.invoke()},10),ee.apply(this,arguments)}:Fn(()=>ee)}},8247:(wt,ue,B)=>{"use strict";B.d(ue,{$:()=>Hs,A:()=>Z,B:()=>Pe,G:()=>fs,H:()=>Zr,J:()=>ns,L:()=>K,M:()=>Bs,N:()=>go,P:()=>hf,Q:()=>pa,R:()=>Q_,T:()=>ol,U:()=>_s,V:()=>Jr,W:()=>rs,X:()=>wd,Y:()=>Bo,Z:()=>Ut,_:()=>cu,a:()=>C,a0:()=>uu,a1:()=>Yn,a2:()=>ga,a3:()=>ma,a4:()=>du,a5:()=>hu,a6:()=>Qn,a7:()=>$i,a8:()=>Ho,a9:()=>_i,aA:()=>z,aB:()=>Je,aC:()=>Fn,aD:()=>Sd,aE:()=>It,aI:()=>W,aL:()=>Us,aa:()=>fu,ab:()=>dl,ac:()=>hl,af:()=>pu,ag:()=>gu,ah:()=>pl,ak:()=>Si,al:()=>ml,an:()=>lc,ao:()=>ss,ap:()=>be,aq:()=>Ge,ar:()=>ht,as:()=>rt,at:()=>yc,au:()=>Gr,av:()=>Vt,aw:()=>Be,ax:()=>oe,ay:()=>gr,az:()=>ne,b:()=>cr,c:()=>zn,d:()=>ff,e:()=>Oa,f:()=>dr,g:()=>k,h:()=>wr,i:()=>Sa,j:()=>de,k:()=>vf,l:()=>Jn,m:()=>So,n:()=>ty,o:()=>pe,r:()=>Ys,s:()=>as,u:()=>Ed});var c=B(5861),R=B(2090),L=B(9681),le=B(1877),fe=B(655),we=B(4859);const pe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Pe=function te(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},xe=function qe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Xe=new R.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),me=new le.Yd("@firebase/auth");function $e(v,...g){me.logLevel<=le.in.ERROR&&me.error(`Auth (${L.SDK_VERSION}): ${v}`,...g)}function rt(v,...g){throw et(v,...g)}function Be(v,...g){return et(v,...g)}function Fe(v,g,m){const D=Object.assign(Object.assign({},xe()),{[g]:m});return new R.LL("auth","Firebase",D).create(g,{appName:v.name})}function Ae(v,g,m){if(!(g instanceof m))throw m.name!==g.constructor.name&&rt(v,"argument-error"),Fe(v,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function et(v,...g){if("string"!=typeof v){const m=g[0],D=[...g.slice(1)];return D[0]&&(D[0].appName=v.name),v._errorFactory.create(m,...D)}return Xe.create(v,...g)}function oe(v,g,...m){if(!v)throw et(g,...m)}function ge(v){const g="INTERNAL ASSERTION FAILED: "+v;throw $e(g),new Error(g)}function be(v,g){v||ge(g)}const X=new Map;function ne(v){be(v instanceof Function,"Expected a class definition");let g=X.get(v);return g?(be(g instanceof v,"Instance stored in cache mismatched with class"),g):(g=new v,X.set(v,g),g)}function je(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function We(){return"http:"===vt()||"https:"===vt()}function vt(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class tt{constructor(g,m){this.shortDelay=g,this.longDelay=m,be(m>g,"Short delay should be less than long delay!"),this.isMobile=(0,R.uI)()||(0,R.b$)()}get(){return function ln(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(We()||(0,R.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function gn(v,g){be(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return g?`${m}${g.startsWith("/")?g.slice(1):g}`:m}class mn{static initialize(g,m,D){this.fetchImpl=g,m&&(this.headersImpl=m),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ge("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ge("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ge("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const dn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Jt=new tt(3e4,6e4);function Ot(v,g){return v.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:v.tenantId}):g}function Rt(v,g,m,D){return kr.apply(this,arguments)}function kr(){return(kr=(0,c.Z)(function*(v,g,m,D,O={}){return Zn(v,O,(0,c.Z)(function*(){let V={},ie={};D&&("GET"===g?ie=D:V={body:JSON.stringify(D)});const ke=(0,R.xO)(Object.assign({key:v.config.apiKey},ie)).slice(1),pt=yield v._getAdditionalHeaders();return pt["Content-Type"]="application/json",v.languageCode&&(pt["X-Firebase-Locale"]=v.languageCode),mn.fetch()(zt(v,v.config.apiHost,m,ke),Object.assign({method:g,headers:pt,referrerPolicy:"no-referrer"},V))}))})).apply(this,arguments)}function Zn(v,g,m){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,c.Z)(function*(v,g,m){v._canInitEmulator=!1;const D=Object.assign(Object.assign({},dn),g);try{const O=new Vn(v),V=yield Promise.race([m(),O.promise]);O.clearNetworkTimeout();const ie=yield V.json();if("needConfirmation"in ie)throw Dn(v,"account-exists-with-different-credential",ie);if(V.ok&&!("errorMessage"in ie))return ie;{const ke=V.ok?ie.errorMessage:ie.error.message,[pt,Mt]=ke.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===pt)throw Dn(v,"credential-already-in-use",ie);if("EMAIL_EXISTS"===pt)throw Dn(v,"email-already-in-use",ie);if("USER_DISABLED"===pt)throw Dn(v,"user-disabled",ie);const an=D[pt]||pt.toLowerCase().replace(/[_\s]+/g,"-");if(Mt)throw Fe(v,an,Mt);rt(v,an)}}catch(O){if(O instanceof R.ZR)throw O;rt(v,"network-request-failed")}})).apply(this,arguments)}function Ln(v,g,m,D){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,c.Z)(function*(v,g,m,D,O={}){const V=yield Rt(v,g,m,D,O);return"mfaPendingCredential"in V&&rt(v,"multi-factor-auth-required",{_serverResponse:V}),V})).apply(this,arguments)}function zt(v,g,m,D){const O=`${g}${m}?${D}`;return v.config.emulator?gn(v.config,O):`${v.config.apiScheme}://${O}`}class Vn{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((m,D)=>{this.timer=setTimeout(()=>D(Be(this.auth,"network-request-failed")),Jt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Dn(v,g,m){const D={appName:v.name};m.email&&(D.email=m.email),m.phoneNumber&&(D.phoneNumber=m.phoneNumber);const O=Be(v,g,D);return O.customData._tokenResponse=m,O}function On(){return(On=(0,c.Z)(function*(v,g){return Rt(v,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Ye(v,g){return er.apply(this,arguments)}function er(){return(er=(0,c.Z)(function*(v,g){return Rt(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Bn(v,g){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,c.Z)(function*(v,g){return Rt(v,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function vr(v){if(v)try{const g=new Date(Number(v));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Cn(){return(Cn=(0,c.Z)(function*(v,g=!1){const m=(0,R.m9)(v),D=yield m.getIdToken(g),O=Ct(D);oe(O&&O.exp&&O.auth_time&&O.iat,m.auth,"internal-error");const V="object"==typeof O.firebase?O.firebase:void 0,ie=V?.sign_in_provider;return{claims:O,token:D,authTime:vr(En(O.auth_time)),issuedAtTime:vr(En(O.iat)),expirationTime:vr(En(O.exp)),signInProvider:ie||null,signInSecondFactor:V?.sign_in_second_factor||null}})).apply(this,arguments)}function En(v){return 1e3*Number(v)}function Ct(v){var g;const[m,D,O]=v.split(".");if(void 0===m||void 0===D||void 0===O)return $e("JWT malformed, contained fewer than 3 sections"),null;try{const V=(0,R.tV)(D);return V?JSON.parse(V):($e("Failed to decode base64 JWT payload"),null)}catch(V){return $e("Caught error parsing JWT payload as JSON",null===(g=V)||void 0===g?void 0:g.toString()),null}}function Lt(v,g){return qr.apply(this,arguments)}function qr(){return(qr=(0,c.Z)(function*(v,g,m=!1){if(m)return g;try{return yield g}catch(D){throw D instanceof R.ZR&&tr(D)&&v.auth.currentUser===v&&(yield v.auth.signOut()),D}})).apply(this,arguments)}function tr({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class Pr{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var m;if(g){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const O=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,O)}}schedule(g=!1){var m=this;if(!this.isRunning)return;const D=this.getInterval(g);this.timerId=setTimeout((0,c.Z)(function*(){yield m.iteration()}),D)}iteration(){var g=this;return(0,c.Z)(function*(){var m;try{yield g.user.getIdToken(!0)}catch(D){return void("auth/network-request-failed"===(null===(m=D)||void 0===m?void 0:m.code)&&g.schedule(!0))}g.schedule()})()}}class Ft{constructor(g,m){this.createdAt=g,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=vr(this.lastLoginAt),this.creationTime=vr(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function nr(v){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,c.Z)(function*(v){var g;const m=v.auth,D=yield v.getIdToken(),O=yield Lt(v,Bn(m,{idToken:D}));oe(O?.users.length,m,"internal-error");const V=O.users[0];v._notifyReloadListener(V);const ie=null!==(g=V.providerUserInfo)&&void 0!==g&&g.length?kn(V.providerUserInfo):[],ke=pr(v.providerData,ie),an=!!v.isAnonymous&&!(v.email&&V.passwordHash||ke?.length),Nn={uid:V.localId,displayName:V.displayName||null,photoURL:V.photoUrl||null,email:V.email||null,emailVerified:V.emailVerified||!1,phoneNumber:V.phoneNumber||null,tenantId:V.tenantId||null,providerData:ke,metadata:new Ft(V.createdAt,V.lastLoginAt),isAnonymous:an};Object.assign(v,Nn)})).apply(this,arguments)}function sn(){return(sn=(0,c.Z)(function*(v){const g=(0,R.m9)(v);yield nr(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function pr(v,g){return[...v.filter(D=>!g.some(O=>O.providerId===D.providerId)),...g]}function kn(v){return v.map(g=>{var{providerId:m}=g,D=(0,fe._T)(g,["providerId"]);return{providerId:m,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}function Oe(){return(Oe=(0,c.Z)(function*(v,g){const m=yield Zn(v,{},(0,c.Z)(function*(){const D=(0,R.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:O,apiKey:V}=v.config,ie=zt(v,O,"/v1/token",`key=${V}`),ke=yield v._getAdditionalHeaders();return ke["Content-Type"]="application/x-www-form-urlencoded",mn.fetch()(ie,{method:"POST",headers:ke,body:D})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class dt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){oe(g.idToken,"internal-error"),oe(typeof g.idToken<"u","internal-error"),oe(typeof g.refreshToken<"u","internal-error");const m="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Ze(v){const g=Ct(v);return oe(g,"internal-error"),oe(typeof g.exp<"u","internal-error"),oe(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,m)}getToken(g,m=!1){var D=this;return(0,c.Z)(function*(){return oe(!D.accessToken||D.refreshToken,g,"user-token-expired"),m||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(g,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,m){var D=this;return(0,c.Z)(function*(){const{accessToken:O,refreshToken:V,expiresIn:ie}=yield function lt(v,g){return Oe.apply(this,arguments)}(g,m);D.updateTokensAndExpiration(O,V,Number(ie))})()}updateTokensAndExpiration(g,m,D){this.refreshToken=m||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(g,m){const{refreshToken:D,accessToken:O,expirationTime:V}=m,ie=new dt;return D&&(oe("string"==typeof D,"internal-error",{appName:g}),ie.refreshToken=D),O&&(oe("string"==typeof O,"internal-error",{appName:g}),ie.accessToken=O),V&&(oe("number"==typeof V,"internal-error",{appName:g}),ie.expirationTime=V),ie}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new dt,this.toJSON())}_performRefresh(){return ge("not implemented")}}function Et(v,g){oe("string"==typeof v||typeof v>"u","internal-error",{appName:g})}class xt{constructor(g){var{uid:m,auth:D,stsTokenManager:O}=g,V=(0,fe._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Pr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=D,this.stsTokenManager=O,this.accessToken=O.accessToken,this.displayName=V.displayName||null,this.email=V.email||null,this.emailVerified=V.emailVerified||!1,this.phoneNumber=V.phoneNumber||null,this.photoURL=V.photoURL||null,this.isAnonymous=V.isAnonymous||!1,this.tenantId=V.tenantId||null,this.providerData=V.providerData?[...V.providerData]:[],this.metadata=new Ft(V.createdAt||void 0,V.lastLoginAt||void 0)}getIdToken(g){var m=this;return(0,c.Z)(function*(){const D=yield Lt(m,m.stsTokenManager.getToken(m.auth,g));return oe(D,m.auth,"internal-error"),m.accessToken!==D&&(m.accessToken=D,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),D})()}getIdTokenResult(g){return function An(v){return Cn.apply(this,arguments)}(this,g)}reload(){return function hi(v){return sn.apply(this,arguments)}(this)}_assign(g){this!==g&&(oe(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(m=>Object.assign({},m)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new xt(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,m=!1){var D=this;return(0,c.Z)(function*(){let O=!1;g.idToken&&g.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(g),O=!0),m&&(yield nr(D)),yield D.auth._persistUserIfCurrent(D),O&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var g=this;return(0,c.Z)(function*(){const m=yield g.getIdToken();return yield Lt(g,function Nr(v,g){return On.apply(this,arguments)}(g.auth,{idToken:m})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,m){var D,O,V,ie,ke,pt,Mt,an;const Nn=null!==(D=m.displayName)&&void 0!==D?D:void 0,bi=null!==(O=m.email)&&void 0!==O?O:void 0,Ss=null!==(V=m.phoneNumber)&&void 0!==V?V:void 0,Rd=null!==(ie=m.photoURL)&&void 0!==ie?ie:void 0,kd=null!==(ke=m.tenantId)&&void 0!==ke?ke:void 0,Pd=null!==(pt=m._redirectEventId)&&void 0!==pt?pt:void 0,Nl=null!==(Mt=m.createdAt)&&void 0!==Mt?Mt:void 0,bg=null!==(an=m.lastLoginAt)&&void 0!==an?an:void 0,{uid:Ef,emailVerified:Fd,isAnonymous:Eu,providerData:Iu,stsTokenManager:ka}=m;oe(Ef&&ka,g,"internal-error");const ny=dt.fromJSON(this.name,ka);oe("string"==typeof Ef,g,"internal-error"),Et(Nn,g.name),Et(bi,g.name),oe("boolean"==typeof Fd,g,"internal-error"),oe("boolean"==typeof Eu,g,"internal-error"),Et(Ss,g.name),Et(Rd,g.name),Et(kd,g.name),Et(Pd,g.name),Et(Nl,g.name),Et(bg,g.name);const ar=new xt({uid:Ef,auth:g,email:bi,emailVerified:Fd,displayName:Nn,isAnonymous:Eu,photoURL:Rd,phoneNumber:Ss,tenantId:kd,stsTokenManager:ny,createdAt:Nl,lastLoginAt:bg});return Iu&&Array.isArray(Iu)&&(ar.providerData=Iu.map(ry=>Object.assign({},ry))),Pd&&(ar._redirectEventId=Pd),ar}static _fromIdTokenResponse(g,m,D=!1){return(0,c.Z)(function*(){const O=new dt;O.updateFromServerResponse(m);const V=new xt({uid:m.localId,auth:g,stsTokenManager:O,isAnonymous:D});return yield nr(V),V})()}}const K=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(m,D){var O=this;return(0,c.Z)(function*(){O.storage[m]=D})()}_get(m){var D=this;return(0,c.Z)(function*(){const O=D.storage[m];return void 0===O?null:O})()}_remove(m){var D=this;return(0,c.Z)(function*(){delete D.storage[m]})()}_addListener(m,D){}_removeListener(m,D){}}return v.type="NONE",v})();function z(v,g,m){return`firebase:${v}:${g}:${m}`}class J{constructor(g,m,D){this.persistence=g,this.auth=m,this.userKey=D;const{config:O,name:V}=this.auth;this.fullUserKey=z(this.userKey,O.apiKey,V),this.fullPersistenceKey=z("persistence",O.apiKey,V),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,c.Z)(function*(){const m=yield g.persistence._get(g.fullUserKey);return m?xt._fromJSON(g.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var m=this;return(0,c.Z)(function*(){if(m.persistence===g)return;const D=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=g,D?m.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,m,D="authUser"){return(0,c.Z)(function*(){if(!m.length)return new J(ne(K),g,D);const O=(yield Promise.all(m.map(function(){var Mt=(0,c.Z)(function*(an){if(yield an._isAvailable())return an});return function(an){return Mt.apply(this,arguments)}}()))).filter(Mt=>Mt);let V=O[0]||ne(K);const ie=z(D,g.config.apiKey,g.name);let ke=null;for(const Mt of m)try{const an=yield Mt._get(ie);if(an){const Nn=xt._fromJSON(g,an);Mt!==V&&(ke=Nn),V=Mt;break}}catch{}const pt=O.filter(Mt=>Mt._shouldAllowMigration);return V._shouldAllowMigration&&pt.length?(V=pt[0],ke&&(yield V._set(ie,ke.toJSON())),yield Promise.all(m.map(function(){var Mt=(0,c.Z)(function*(an){if(an!==V)try{yield an._remove(ie)}catch{}});return function(an){return Mt.apply(this,arguments)}}())),new J(V,g,D)):new J(V,g,D)})()}}function H(v){const g=v.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Ve(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(F(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(ft(g))return"Blackberry";if(Re(g))return"Webos";if($(g))return"Safari";if((g.includes("chrome/")||se(g))&&!g.includes("edge/"))return"Chrome";if(ht(g))return"Android";{const D=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===D?.length)return D[1]}return"Other"}function F(v=(0,R.z$)()){return/firefox\//i.test(v)}function $(v=(0,R.z$)()){const g=v.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function se(v=(0,R.z$)()){return/crios\//i.test(v)}function Ve(v=(0,R.z$)()){return/iemobile/i.test(v)}function ht(v=(0,R.z$)()){return/android/i.test(v)}function ft(v=(0,R.z$)()){return/blackberry/i.test(v)}function Re(v=(0,R.z$)()){return/webos/i.test(v)}function Ge(v=(0,R.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function Vt(v=(0,R.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function hn(v=(0,R.z$)()){return Ge(v)||ht(v)||Re(v)||ft(v)||/windows phone/i.test(v)||Ve(v)}function yn(v,g=[]){let m;switch(v){case"Browser":m=H((0,R.z$)());break;case"Worker":m=`${H((0,R.z$)())}-${v}`;break;default:m=v}const D=g.length?g.join(","):"FirebaseCore-web";return`${m}/JsCore/${L.SDK_VERSION}/${D}`}class rr{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,m){const D=V=>new Promise((ie,ke)=>{try{ie(g(V))}catch(pt){ke(pt)}});D.onAbort=m,this.queue.push(D);const O=this.queue.length-1;return()=>{this.queue[O]=()=>Promise.resolve()}}runMiddleware(g){var m=this;return(0,c.Z)(function*(){var D;if(m.auth.currentUser===g)return;const O=[];try{for(const V of m.queue)yield V(g),V.onAbort&&O.push(V.onAbort)}catch(V){O.reverse();for(const ie of O)try{ie()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(D=V)||void 0===D?void 0:D.message})}})()}}class lo{constructor(g,m,D){this.app=g,this.heartbeatServiceProvider=m,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ps(this),this.idTokenSubscription=new Ps(this),this.beforeStateQueue=new rr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(g,m){var D=this;return m&&(this._popupRedirectResolver=ne(m)),this._initializationPromise=this.queue((0,c.Z)(function*(){var O,V;if(!D._deleted&&(D.persistenceManager=yield J.create(D,g),!D._deleted)){if(null!==(O=D._popupRedirectResolver)&&void 0!==O&&O._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch{}yield D.initializeCurrentUser(m),D.lastNotifiedUid=(null===(V=D.currentUser)||void 0===V?void 0:V.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,c.Z)(function*(){if(g._deleted)return;const m=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||m){if(g.currentUser&&m&&g.currentUser.uid===m.uid)return g._currentUser._assign(m),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(m,!0)}})()}initializeCurrentUser(g){var m=this;return(0,c.Z)(function*(){var D;const O=yield m.assertedPersistence.getCurrentUser();let V=O,ie=!1;if(g&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const ke=null===(D=m.redirectUser)||void 0===D?void 0:D._redirectEventId,pt=V?._redirectEventId,Mt=yield m.tryRedirectSignIn(g);(!ke||ke===pt)&&Mt?.user&&(V=Mt.user,ie=!0)}if(!V)return m.directlySetCurrentUser(null);if(!V._redirectEventId){if(ie)try{yield m.beforeStateQueue.runMiddleware(V)}catch(ke){V=O,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(ke))}return V?m.reloadAndSetCurrentUserOrClear(V):m.directlySetCurrentUser(null)}return oe(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===V._redirectEventId?m.directlySetCurrentUser(V):m.reloadAndSetCurrentUserOrClear(V)})()}tryRedirectSignIn(g){var m=this;return(0,c.Z)(function*(){let D=null;try{D=yield m._popupRedirectResolver._completeRedirectFn(m,g,!0)}catch{yield m._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(g){var m=this;return(0,c.Z)(function*(){var D;try{yield nr(g)}catch(O){if("auth/network-request-failed"!==(null===(D=O)||void 0===D?void 0:D.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Qt(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var g=this;return(0,c.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var m=this;return(0,c.Z)(function*(){const D=g?(0,R.m9)(g):null;return D&&oe(D.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(D&&D._clone(m))})()}_updateCurrentUser(g,m=!1){var D=this;return(0,c.Z)(function*(){if(!D._deleted)return g&&oe(D.tenantId===g.tenantId,D,"tenant-id-mismatch"),m||(yield D.beforeStateQueue.runMiddleware(g)),D.queue((0,c.Z)(function*(){yield D.directlySetCurrentUser(g),D.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,c.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var m=this;return this.queue((0,c.Z)(function*(){yield m.assertedPersistence.setPersistence(ne(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new R.LL("auth","Firebase",g())}onAuthStateChanged(g,m,D){return this.registerStateListener(this.authStateSubscription,g,m,D)}beforeAuthStateChanged(g,m){return this.beforeStateQueue.pushCallback(g,m)}onIdTokenChanged(g,m,D){return this.registerStateListener(this.idTokenSubscription,g,m,D)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,m){var D=this;return(0,c.Z)(function*(){const O=yield D.getOrInitRedirectPersistenceManager(m);return null===g?O.removeCurrentUser():O.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var m=this;return(0,c.Z)(function*(){if(!m.redirectPersistenceManager){const D=g&&ne(g)||m._popupRedirectResolver;oe(D,m,"argument-error"),m.redirectPersistenceManager=yield J.create(m,[ne(D._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(g){var m=this;return(0,c.Z)(function*(){var D,O;return m._isInitialized&&(yield m.queue((0,c.Z)(function*(){}))),(null===(D=m._currentUser)||void 0===D?void 0:D._redirectEventId)===g?m._currentUser:(null===(O=m.redirectUser)||void 0===O?void 0:O._redirectEventId)===g?m.redirectUser:null})()}_persistUserIfCurrent(g){var m=this;return(0,c.Z)(function*(){if(g===m.currentUser)return m.queue((0,c.Z)(function*(){return m.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(m=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,m,D,O){if(this._deleted)return()=>{};const V="function"==typeof m?m:m.next.bind(m),ie=this._isInitialized?Promise.resolve():this._initializationPromise;return oe(ie,this,"internal-error"),ie.then(()=>V(this.currentUser)),"function"==typeof m?g.addObserver(m,D,O):g.addObserver(m)}directlySetCurrentUser(g){var m=this;return(0,c.Z)(function*(){m.currentUser&&m.currentUser!==g&&m._currentUser._stopProactiveRefresh(),g&&m.isProactiveRefreshEnabled&&g._startProactiveRefresh(),m.currentUser=g,g?yield m.assertedPersistence.setCurrentUser(g):yield m.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=yn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,c.Z)(function*(){var m;const D={"X-Client-Version":g.clientVersion};g.app.options.appId&&(D["X-Firebase-gmpid"]=g.app.options.appId);const O=yield null===(m=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return O&&(D["X-Firebase-Client"]=O),D})()}}function It(v){return(0,R.m9)(v)}class Ps{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,R.ne)(m=>this.observer=m)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function fs(v,g,m){const D=It(v);oe(D._canInitEmulator,D,"emulator-config-failed"),oe(/^https?:\/\//.test(g),D,"invalid-emulator-scheme");const O=!!m?.disableWarnings,V=ha(g),{host:ie,port:ke}=function Xi(v){const g=ha(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(g.length));if(!m)return{host:"",port:null};const D=m[2].split("@").pop()||"",O=/^(\[[^\]]+\])(:|$)/.exec(D);if(O){const V=O[1];return{host:V,port:ir(D.substr(V.length+1))}}{const[V,ie]=D.split(":");return{host:V,port:ir(ie)}}}(g);D.config.emulator={url:`${V}//${ie}${null===ke?"":`:${ke}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:ie,port:ke,protocol:V.replace(":",""),options:Object.freeze({disableWarnings:O})}),O||function ps(){function v(){const g=document.createElement("p"),m=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function ha(v){const g=v.indexOf(":");return g<0?"":v.substr(0,g+1)}function ir(v){if(!v)return null;const g=Number(v);return isNaN(g)?null:g}class Zr{constructor(g,m){this.providerId=g,this.signInMethod=m}toJSON(){return ge("not implemented")}_getIdTokenResponse(g){return ge("not implemented")}_linkToIdToken(g,m){return ge("not implemented")}_getReauthenticationResolver(g){return ge("not implemented")}}function Kr(v,g){return sr.apply(this,arguments)}function sr(){return(sr=(0,c.Z)(function*(v,g){return Rt(v,"POST","/v1/accounts:resetPassword",Ot(v,g))})).apply(this,arguments)}function il(v,g){return vn.apply(this,arguments)}function vn(){return(vn=(0,c.Z)(function*(v,g){return Rt(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function iu(v,g){return ko.apply(this,arguments)}function ko(){return(ko=(0,c.Z)(function*(v,g){return Rt(v,"POST","/v1/accounts:update",Ot(v,g))})).apply(this,arguments)}function Fs(){return(Fs=(0,c.Z)(function*(v,g){return Ln(v,"POST","/v1/accounts:signInWithPassword",Ot(v,g))})).apply(this,arguments)}function Fr(v,g){return gs.apply(this,arguments)}function gs(){return(gs=(0,c.Z)(function*(v,g){return Rt(v,"POST","/v1/accounts:sendOobCode",Ot(v,g))})).apply(this,arguments)}function es(v,g){return Un.apply(this,arguments)}function Un(){return(Un=(0,c.Z)(function*(v,g){return Fr(v,g)})).apply(this,arguments)}function su(v,g){return or.apply(this,arguments)}function or(){return(or=(0,c.Z)(function*(v,g){return Fr(v,g)})).apply(this,arguments)}function fi(v,g){return co.apply(this,arguments)}function co(){return(co=(0,c.Z)(function*(v,g){return Fr(v,g)})).apply(this,arguments)}function ms(v,g){return uo.apply(this,arguments)}function uo(){return(uo=(0,c.Z)(function*(v,g){return Fr(v,g)})).apply(this,arguments)}function Fo(){return(Fo=(0,c.Z)(function*(v,g){return Ln(v,"POST","/v1/accounts:signInWithEmailLink",Ot(v,g))})).apply(this,arguments)}function sl(){return(sl=(0,c.Z)(function*(v,g){return Ln(v,"POST","/v1/accounts:signInWithEmailLink",Ot(v,g))})).apply(this,arguments)}class ts extends Zr{constructor(g,m,D,O=null){super("password",D),this._email=g,this._password=m,this._tenantId=O}static _fromEmailAndPassword(g,m){return new ts(g,m,"password")}static _fromEmailAndCode(g,m,D=null){return new ts(g,m,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(g){var m=this;return(0,c.Z)(function*(){switch(m.signInMethod){case"password":return function Po(v,g){return Fs.apply(this,arguments)}(g,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Yr(v,g){return Fo.apply(this,arguments)}(g,{email:m._email,oobCode:m._password});default:rt(g,"internal-error")}})()}_linkToIdToken(g,m){var D=this;return(0,c.Z)(function*(){switch(D.signInMethod){case"password":return il(g,{idToken:m,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function ou(v,g){return sl.apply(this,arguments)}(g,{idToken:m,email:D._email,oobCode:D._password});default:rt(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Ls(v,g){return pi.apply(this,arguments)}function pi(){return(pi=(0,c.Z)(function*(v,g){return Ln(v,"POST","/v1/accounts:signInWithIdp",Ot(v,g))})).apply(this,arguments)}class ns extends Zr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const m=new ns(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(m.idToken=g.idToken),g.accessToken&&(m.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(m.nonce=g.nonce),g.pendingToken&&(m.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(m.accessToken=g.oauthToken,m.secret=g.oauthTokenSecret):rt("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:D,signInMethod:O}=m,V=(0,fe._T)(m,["providerId","signInMethod"]);if(!D||!O)return null;const ie=new ns(D,O);return ie.idToken=V.idToken||void 0,ie.accessToken=V.accessToken||void 0,ie.secret=V.secret,ie.nonce=V.nonce,ie.pendingToken=V.pendingToken||null,ie}_getIdTokenResponse(g){return Ls(g,this.buildRequest())}_linkToIdToken(g,m){const D=this.buildRequest();return D.idToken=m,Ls(g,D)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,Ls(g,m)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),g.postBody=(0,R.xO)(m)}return g}}function fa(v,g){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,c.Z)(function*(v,g){return Rt(v,"POST","/v1/accounts:sendVerificationCode",Ot(v,g))})).apply(this,arguments)}function Lo(){return(Lo=(0,c.Z)(function*(v,g){return Ln(v,"POST","/v1/accounts:signInWithPhoneNumber",Ot(v,g))})).apply(this,arguments)}function Yl(){return(Yl=(0,c.Z)(function*(v,g){const m=yield Ln(v,"POST","/v1/accounts:signInWithPhoneNumber",Ot(v,g));if(m.temporaryProof)throw Dn(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const vd={USER_NOT_FOUND:"user-not-found"};function Ql(){return(Ql=(0,c.Z)(function*(v,g){return Ln(v,"POST","/v1/accounts:signInWithPhoneNumber",Ot(v,Object.assign(Object.assign({},g),{operation:"REAUTH"})),vd)})).apply(this,arguments)}class fo extends Zr{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,m){return new fo({verificationId:g,verificationCode:m})}static _fromTokenResponse(g,m){return new fo({phoneNumber:g,temporaryProof:m})}_getIdTokenResponse(g){return function au(v,g){return Lo.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,m){return function ho(v,g){return Yl.apply(this,arguments)}(g,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function bd(v,g){return Ql.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:m,verificationId:D,verificationCode:O}=this.params;return g&&m?{temporaryProof:g,phoneNumber:m}:{sessionInfo:D,code:O}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:m,verificationCode:D,phoneNumber:O,temporaryProof:V}=g;return D||m||O||V?new fo({verificationId:m,verificationCode:D,phoneNumber:O,temporaryProof:V}):null}}class Vs{constructor(g){var m,D,O,V,ie,ke;const pt=(0,R.zd)((0,R.pd)(g)),Mt=null!==(m=pt.apiKey)&&void 0!==m?m:null,an=null!==(D=pt.oobCode)&&void 0!==D?D:null,Nn=function Jl(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(O=pt.mode)&&void 0!==O?O:null);oe(Mt&&an&&Nn,"argument-error"),this.apiKey=Mt,this.operation=Nn,this.code=an,this.continueUrl=null!==(V=pt.continueUrl)&&void 0!==V?V:null,this.languageCode=null!==(ie=pt.languageCode)&&void 0!==ie?ie:null,this.tenantId=null!==(ke=pt.tenantId)&&void 0!==ke?ke:null}static parseLink(g){const m=function Xl(v){const g=(0,R.zd)((0,R.pd)(v)).link,m=g?(0,R.zd)((0,R.pd)(g)).deep_link_id:null,D=(0,R.zd)((0,R.pd)(v)).deep_link_id;return(D?(0,R.zd)((0,R.pd)(D)).link:null)||D||m||g||v}(g);try{return new Vs(m)}catch{return null}}}let Bs=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,D){return ts._fromEmailAndPassword(m,D)}static credentialWithLink(m,D){const O=Vs.parseLink(D);return oe(O,"argument-error"),ts._fromEmailAndCode(m,O.code,O.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class xr{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class po extends xr{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class _s extends po{static credentialFromJSON(g){const m="string"==typeof g?JSON.parse(g):g;return oe("providerId"in m&&"signInMethod"in m,"argument-error"),ns._fromParams(m)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return oe(g.idToken||g.accessToken,"argument-error"),ns._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return _s.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return _s.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:m,oauthAccessToken:D,oauthTokenSecret:O,pendingToken:V,nonce:ie,providerId:ke}=g;if(!D&&!O&&!m&&!V||!ke)return null;try{return new _s(ke)._credential({idToken:m,accessToken:D,nonce:ie,pendingToken:V})}catch{return null}}}let go=(()=>{class v extends po{constructor(){super("facebook.com")}static credential(m){return ns._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),pa=(()=>{class v extends po{constructor(){super("google.com"),this.addScope("profile")}static credential(m,D){return ns._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:D})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:D,oauthAccessToken:O}=m;if(!D&&!O)return null;try{return v.credential(D,O)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),ol=(()=>{class v extends po{constructor(){super("github.com")}static credential(m){return ns._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Us extends Zr{constructor(g,m){super(g,g),this.pendingToken=m}_getIdTokenResponse(g){return Ls(g,this.buildRequest())}_linkToIdToken(g,m){const D=this.buildRequest();return D.idToken=m,Ls(g,D)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,Ls(g,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:D,signInMethod:O,pendingToken:V}=m;return D&&O&&V&&D===O?new Us(D,V):null}static _create(g,m){return new Us(g,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Jr extends xr{constructor(g){oe(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Jr.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Jr.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const m=Us.fromJSON(g);return oe(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:m,providerId:D}=g;if(!m||!D)return null;try{return Us._create(D,m)}catch{return null}}}let rs=(()=>{class v extends po{constructor(){super("twitter.com")}static credential(m,D){return ns._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:D})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:D,oauthTokenSecret:O}=m;if(!D||!O)return null;try{return v.credential(D,O)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Xr(v,g){return js.apply(this,arguments)}function js(){return(js=(0,c.Z)(function*(v,g){return Ln(v,"POST","/v1/accounts:signUp",Ot(v,g))})).apply(this,arguments)}class gi{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,m,D,O=!1){return(0,c.Z)(function*(){const V=yield xt._fromIdTokenResponse(g,D,O),ie=mo(D);return new gi({user:V,providerId:ie,_tokenResponse:D,operationType:m})})()}static _forOperation(g,m,D){return(0,c.Z)(function*(){yield g._updateTokensIfNecessary(D,!0);const O=mo(D);return new gi({user:g,providerId:O,_tokenResponse:D,operationType:m})})()}}function mo(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function wd(v){return al.apply(this,arguments)}function al(){return(al=(0,c.Z)(function*(v){var g;const m=It(v);if(yield m._initializationPromise,null!==(g=m.currentUser)&&void 0!==g&&g.isAnonymous)return new gi({user:m.currentUser,providerId:null,operationType:"signIn"});const D=yield Xr(m,{returnSecureToken:!0}),O=yield gi._fromIdTokenResponse(m,"signIn",D,!0);return yield m._updateCurrentUser(O.user),O})).apply(this,arguments)}class In extends R.ZR{constructor(g,m,D,O){var V;super(m.code,m.message),this.operationType=D,this.user=O,Object.setPrototypeOf(this,In.prototype),this.customData={appName:g.name,tenantId:null!==(V=g.tenantId)&&void 0!==V?V:void 0,_serverResponse:m.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(g,m,D,O){return new In(g,m,D,O)}}function tc(v,g,m,D){return("reauthenticate"===g?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(V=>{throw"auth/multi-factor-auth-required"===V.code?In._fromErrorAndOperation(v,V,g,D):V})}function lu(v){return new Set(v.map(({providerId:g})=>g).filter(g=>!!g))}function Si(v,g){return br.apply(this,arguments)}function br(){return(br=(0,c.Z)(function*(v,g){const m=(0,R.m9)(v);yield Ui(!0,m,g);const{providerUserInfo:D}=yield Ye(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[g]}),O=lu(D||[]);return m.providerData=m.providerData.filter(V=>O.has(V.providerId)),O.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Vo(v,g){return ys.apply(this,arguments)}function ys(){return(ys=(0,c.Z)(function*(v,g,m=!1){const D=yield Lt(v,g._linkToIdToken(v.auth,yield v.getIdToken()),m);return gi._forOperation(v,"link",D)})).apply(this,arguments)}function Ui(v,g,m){return fn.apply(this,arguments)}function fn(){return(fn=(0,c.Z)(function*(v,g,m){yield nr(g);const O=!1===v?"provider-already-linked":"no-such-provider";oe(lu(g.providerData).has(m)===v,g.auth,O)})).apply(this,arguments)}function ll(v,g){return vs.apply(this,arguments)}function vs(){return(vs=(0,c.Z)(function*(v,g,m=!1){var D;const{auth:O}=v,V="reauthenticate";try{const ie=yield Lt(v,tc(O,V,g,v),m);oe(ie.idToken,O,"internal-error");const ke=Ct(ie.idToken);oe(ke,O,"internal-error");const{sub:pt}=ke;return oe(v.uid===pt,O,"user-mismatch"),gi._forOperation(v,V,ie)}catch(ie){throw"auth/user-not-found"===(null===(D=ie)||void 0===D?void 0:D.code)&&rt(O,"user-mismatch"),ie}})).apply(this,arguments)}function cl(v,g){return mi.apply(this,arguments)}function mi(){return(mi=(0,c.Z)(function*(v,g,m=!1){const D="signIn",O=yield tc(v,D,g),V=yield gi._fromIdTokenResponse(v,D,O);return m||(yield v._updateCurrentUser(V.user)),V})).apply(this,arguments)}function Bo(v,g){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,c.Z)(function*(v,g){return cl(It(v),g)})).apply(this,arguments)}function Ut(v,g){return $s.apply(this,arguments)}function $s(){return($s=(0,c.Z)(function*(v,g){const m=(0,R.m9)(v);return yield Ui(!1,m,g.providerId),Vo(m,g)})).apply(this,arguments)}function cu(v,g){return ji.apply(this,arguments)}function ji(){return(ji=(0,c.Z)(function*(v,g){return ll((0,R.m9)(v),g)})).apply(this,arguments)}function nc(v,g){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,c.Z)(function*(v,g){return Ln(v,"POST","/v1/accounts:signInWithCustomToken",Ot(v,g))})).apply(this,arguments)}function Hs(v,g){return jo.apply(this,arguments)}function jo(){return(jo=(0,c.Z)(function*(v,g){const m=It(v),D=yield nc(m,{token:g,returnSecureToken:!0}),O=yield gi._fromIdTokenResponse(m,"signIn",D);return yield m._updateCurrentUser(O.user),O})).apply(this,arguments)}class _o{constructor(g,m){this.factorId=g,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(g,m){return"phoneInfo"in m?Le._fromServerResponse(g,m):rt(g,"internal-error")}}class Le extends _o{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,m){return new Le(m)}}function rn(v,g,m){var D;oe((null===(D=m.url)||void 0===D?void 0:D.length)>0,v,"invalid-continue-uri"),oe(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),g.continueUrl=m.url,g.dynamicLinkDomain=m.dynamicLinkDomain,g.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(oe(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),g.iOSBundleId=m.iOS.bundleId),m.android&&(oe(m.android.packageName.length>0,v,"missing-android-pkg-name"),g.androidInstallApp=m.android.installApp,g.androidMinimumVersionCode=m.android.minimumVersion,g.androidPackageName=m.android.packageName)}function uu(v,g,m){return yo.apply(this,arguments)}function yo(){return(yo=(0,c.Z)(function*(v,g,m){const D=(0,R.m9)(v),O={requestType:"PASSWORD_RESET",email:g};m&&rn(D,O,m),yield su(D,O)})).apply(this,arguments)}function Yn(v,g,m){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,c.Z)(function*(v,g,m){yield Kr((0,R.m9)(v),{oobCode:g,newPassword:m})})).apply(this,arguments)}function ga(v,g){return jr.apply(this,arguments)}function jr(){return(jr=(0,c.Z)(function*(v,g){yield iu((0,R.m9)(v),{oobCode:g})})).apply(this,arguments)}function ma(v,g){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,c.Z)(function*(v,g){const m=(0,R.m9)(v),D=yield Kr(m,{oobCode:g}),O=D.requestType;switch(oe(O,m,"internal-error"),O){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":oe(D.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":oe(D.mfaInfo,m,"internal-error");default:oe(D.email,m,"internal-error")}let V=null;return D.mfaInfo&&(V=_o._fromServerResponse(It(m),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:V},operation:O}})).apply(this,arguments)}function du(v,g){return zs.apply(this,arguments)}function zs(){return(zs=(0,c.Z)(function*(v,g){const{data:m}=yield ma((0,R.m9)(v),g);return m.email})).apply(this,arguments)}function hu(v,g,m){return bs.apply(this,arguments)}function bs(){return(bs=(0,c.Z)(function*(v,g,m){const D=It(v),O=yield Xr(D,{returnSecureToken:!0,email:g,password:m}),V=yield gi._fromIdTokenResponse(D,"signIn",O);return yield D._updateCurrentUser(V.user),V})).apply(this,arguments)}function Qn(v,g,m){return Bo((0,R.m9)(v),Bs.credential(g,m))}function $i(v,g,m){return $o.apply(this,arguments)}function $o(){return($o=(0,c.Z)(function*(v,g,m){const D=(0,R.m9)(v),O={requestType:"EMAIL_SIGNIN",email:g};oe(m.handleCodeInApp,D,"argument-error"),m&&rn(D,O,m),yield fi(D,O)})).apply(this,arguments)}function Ho(v,g){return"EMAIL_SIGNIN"===Vs.parseLink(g)?.operation}function _i(v,g,m){return rc.apply(this,arguments)}function rc(){return(rc=(0,c.Z)(function*(v,g,m){const D=(0,R.m9)(v),O=Bs.credentialWithLink(g,m||je());return oe(O._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),Bo(D,O)})).apply(this,arguments)}function ul(v,g){return ic.apply(this,arguments)}function ic(){return(ic=(0,c.Z)(function*(v,g){return Rt(v,"POST","/v1/accounts:createAuthUri",Ot(v,g))})).apply(this,arguments)}function fu(v,g){return qs.apply(this,arguments)}function qs(){return(qs=(0,c.Z)(function*(v,g){const D={identifier:g,continueUri:We()?je():"http://localhost"},{signinMethods:O}=yield ul((0,R.m9)(v),D);return O||[]})).apply(this,arguments)}function dl(v,g){return Go.apply(this,arguments)}function Go(){return(Go=(0,c.Z)(function*(v,g){const m=(0,R.m9)(v),O={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};g&&rn(m.auth,O,g);const{email:V}=yield es(m.auth,O);V!==v.email&&(yield v.reload())})).apply(this,arguments)}function hl(v,g,m){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,c.Z)(function*(v,g,m){const D=(0,R.m9)(v),V={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:g};m&&rn(D.auth,V,m);const{email:ie}=yield ms(D.auth,V);ie!==v.email&&(yield v.reload())})).apply(this,arguments)}function fl(v,g){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,c.Z)(function*(v,g){return Rt(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function pu(v,g){return zo.apply(this,arguments)}function zo(){return(zo=(0,c.Z)(function*(v,{displayName:g,photoURL:m}){if(void 0===g&&void 0===m)return;const D=(0,R.m9)(v),V={idToken:yield D.getIdToken(),displayName:g,photoUrl:m,returnSecureToken:!0},ie=yield Lt(D,fl(D.auth,V));D.displayName=ie.displayName||null,D.photoURL=ie.photoUrl||null;const ke=D.providerData.find(({providerId:pt})=>"password"===pt);ke&&(ke.displayName=D.displayName,ke.photoURL=D.photoURL),yield D._updateTokensIfNecessary(ie)})).apply(this,arguments)}function gu(v,g){return Hi((0,R.m9)(v),g,null)}function pl(v,g){return Hi((0,R.m9)(v),null,g)}function Hi(v,g,m){return ws.apply(this,arguments)}function ws(){return(ws=(0,c.Z)(function*(v,g,m){const{auth:D}=v,V={idToken:yield v.getIdToken(),returnSecureToken:!0};g&&(V.email=g),m&&(V.password=m);const ie=yield Lt(v,il(D,V));yield v._updateTokensIfNecessary(ie,!0)})).apply(this,arguments)}class jn{constructor(g,m,D={}){this.isNewUser=g,this.providerId=m,this.profile=D}}class is extends jn{constructor(g,m,D,O){super(g,m,D),this.username=O}}class Pn extends jn{constructor(g,m){super(g,"facebook.com",m)}}class oc extends is{constructor(g,m){super(g,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class gl extends jn{constructor(g,m){super(g,"google.com",m)}}class mu extends is{constructor(g,m,D){super(g,"twitter.com",m,D)}}function ml(v){const{user:g,_tokenResponse:m}=v;return g.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function sc(v){var g,m;if(!v)return null;const{providerId:D}=v,O=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},V=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!D&&v?.idToken){const ie=null===(m=null===(g=Ct(v.idToken))||void 0===g?void 0:g.firebase)||void 0===m?void 0:m.sign_in_provider;if(ie)return new jn(V,"anonymous"!==ie&&"custom"!==ie?ie:null)}if(!D)return null;switch(D){case"facebook.com":return new Pn(V,O);case"github.com":return new oc(V,O);case"google.com":return new gl(V,O);case"twitter.com":return new mu(V,O,v.screenName||null);case"custom":case"anonymous":return new jn(V,null);default:return new jn(V,D,O)}}(m)}class vi{constructor(g,m,D){this.type=g,this.credential=m,this.auth=D}static _fromIdtoken(g,m){return new vi("enroll",g,m)}static _fromMfaPendingCredential(g){return new vi("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var m,D;if(g?.multiFactorSession){if(null!==(m=g.multiFactorSession)&&void 0!==m&&m.pendingCredential)return vi._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(D=g.multiFactorSession)&&void 0!==D&&D.idToken)return vi._fromIdtoken(g.multiFactorSession.idToken)}return null}}class vl{constructor(g,m,D){this.session=g,this.hints=m,this.signInResolver=D}static _fromError(g,m){const D=It(g),O=m.customData._serverResponse,V=(O.mfaInfo||[]).map(ke=>_o._fromServerResponse(D,ke));oe(O.mfaPendingCredential,D,"internal-error");const ie=vi._fromMfaPendingCredential(O.mfaPendingCredential);return new vl(ie,V,function(){var ke=(0,c.Z)(function*(pt){const Mt=yield pt._process(D,ie);delete O.mfaInfo,delete O.mfaPendingCredential;const an=Object.assign(Object.assign({},O),{idToken:Mt.idToken,refreshToken:Mt.refreshToken});switch(m.operationType){case"signIn":const Nn=yield gi._fromIdTokenResponse(D,m.operationType,an);return yield D._updateCurrentUser(Nn.user),Nn;case"reauthenticate":return oe(m.user,D,"internal-error"),gi._forOperation(m.user,m.operationType,an);default:rt(D,"internal-error")}});return function(pt){return ke.apply(this,arguments)}}())}resolveSignIn(g){var m=this;return(0,c.Z)(function*(){return m.signInResolver(g)})()}}function lc(v,g){var m;const D=(0,R.m9)(v),O=g;return oe(g.customData.operationType,D,"argument-error"),oe(null===(m=O.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,D,"argument-error"),vl._fromError(D,O)}function Hn(v,g){return Rt(v,"POST","/v2/accounts/mfaEnrollment:start",Ot(v,g))}class ba{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(D=>_o._fromServerResponse(g.auth,D)))})}static _fromUser(g){return new ba(g)}getSession(){var g=this;return(0,c.Z)(function*(){return vi._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,m){var D=this;return(0,c.Z)(function*(){const O=g,V=yield D.getSession(),ie=yield Lt(D.user,O._process(D.user.auth,V,m));return yield D.user._updateTokensIfNecessary(ie),D.user.reload()})()}unenroll(g){var m=this;return(0,c.Z)(function*(){var D;const O="string"==typeof g?g:g.uid,V=yield m.user.getIdToken(),ie=yield Lt(m.user,function va(v,g){return Rt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Ot(v,g))}(m.user.auth,{idToken:V,mfaEnrollmentId:O}));m.enrolledFactors=m.enrolledFactors.filter(({uid:ke})=>ke!==O),yield m.user._updateTokensIfNecessary(ie);try{yield m.user.reload()}catch(ke){if("auth/user-token-expired"!==(null===(D=ke)||void 0===D?void 0:D.code))throw ke}})()}}const Gi=new WeakMap;function ss(v){const g=(0,R.m9)(v);return Gi.has(g)||Gi.set(g,ba._fromUser(g)),Gi.get(g)}const os="__sak";class qo{constructor(g,m){this.storageRetriever=g,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(os,"1"),this.storage.removeItem(os),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,m){return this.storage.setItem(g,JSON.stringify(m)),Promise.resolve()}_get(g){const m=this.storage.getItem(g);return Promise.resolve(m?JSON.parse(m):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const cr=(()=>{class v extends qo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,D)=>this.onStorageEvent(m,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function bl(){const v=(0,R.z$)();return $(v)||Ge(v)}()&&function Bi(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=hn(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const D of Object.keys(this.listeners)){const O=this.storage.getItem(D),V=this.localCache[D];O!==V&&m(D,V,O)}}onStorageEvent(m,D=!1){if(!m.key)return void this.forAllChangedKeys((ke,pt,Mt)=>{this.notifyListeners(ke,Mt)});const O=m.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ke=this.storage.getItem(O);if(m.newValue!==ke)null!==m.newValue?this.storage.setItem(O,m.newValue):this.storage.removeItem(O);else if(this.localCache[O]===m.newValue&&!D)return}const V=()=>{const ke=this.storage.getItem(O);!D&&this.localCache[O]===ke||this.notifyListeners(O,ke)},ie=this.storage.getItem(O);!function Bt(){return(0,R.w1)()&&10===document.documentMode}()||ie===m.newValue||m.newValue===m.oldValue?V():setTimeout(V,10)}notifyListeners(m,D){this.localCache[m]=D;const O=this.listeners[m];if(O)for(const V of Array.from(O))V(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,D,O)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:D,newValue:O}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(D)}_removeListener(m,D){this.listeners[m]&&(this.listeners[m].delete(D),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,D){var O=()=>super._set,V=this;return(0,c.Z)(function*(){yield O().call(V,m,D),V.localCache[m]=JSON.stringify(D)})()}_get(m){var D=()=>super._get,O=this;return(0,c.Z)(function*(){const V=yield D().call(O,m);return O.localCache[m]=JSON.stringify(V),V})()}_remove(m){var D=()=>super._remove,O=this;return(0,c.Z)(function*(){yield D().call(O,m),delete O.localCache[m]})()}}return v.type="LOCAL",v})(),C=(()=>{class v extends qo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,D){}_removeListener(m,D){}}return v.type="SESSION",v})();let M=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const D=this.receivers.find(V=>V.isListeningto(m));if(D)return D;const O=new v(m);return this.receivers.push(O),O}isListeningto(m){return this.eventTarget===m}handleEvent(m){var D=this;return(0,c.Z)(function*(){const O=m,{eventId:V,eventType:ie,data:ke}=O.data,pt=D.handlersMap[ie];if(!pt?.size)return;O.ports[0].postMessage({status:"ack",eventId:V,eventType:ie});const Mt=Array.from(pt).map(function(){var Nn=(0,c.Z)(function*(bi){return bi(O.origin,ke)});return function(bi){return Nn.apply(this,arguments)}}()),an=yield function E(v){return Promise.all(v.map(function(){var g=(0,c.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(D){return{fulfilled:!1,reason:D}}});return function(m){return g.apply(this,arguments)}}()))}(Mt);O.ports[0].postMessage({status:"done",eventId:V,eventType:ie,response:an})})()}_subscribe(m,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(D)}_unsubscribe(m,D){this.handlersMap[m]&&D&&this.handlersMap[m].delete(D),(!D||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function W(v="",g=10){let m="";for(let D=0;D<g;D++)m+=Math.floor(10*Math.random());return v+m}class Te{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,m,D=50){var O=this;return(0,c.Z)(function*(){const V=typeof MessageChannel<"u"?new MessageChannel:null;if(!V)throw new Error("connection_unavailable");let ie,ke;return new Promise((pt,Mt)=>{const an=W("",20);V.port1.start();const Nn=setTimeout(()=>{Mt(new Error("unsupported_event"))},D);ke={messageChannel:V,onMessage(bi){const Ss=bi;if(Ss.data.eventId===an)switch(Ss.data.status){case"ack":clearTimeout(Nn),ie=setTimeout(()=>{Mt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ie),pt(Ss.data.response);break;default:clearTimeout(Nn),clearTimeout(ie),Mt(new Error("invalid_response"))}}},O.handlers.add(ke),V.port1.addEventListener("message",ke.onMessage),O.target.postMessage({eventType:g,eventId:an,data:m},[V.port2])}).finally(()=>{ke&&O.removeMessageHandler(ke)})})()}}function Qe(){return window}function Wn(){return typeof Qe().WorkerGlobalScope<"u"&&"function"==typeof Qe().importScripts}function $r(){return($r=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const wl="firebaseLocalStorageDb",Dl="firebaseLocalStorage",Da="fbase_key";class Ca{constructor(g){this.request=g}toPromise(){return new Promise((g,m)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Ea(v,g){return v.transaction([Dl],g?"readwrite":"readonly").objectStore(Dl)}function dc(){const v=indexedDB.open(wl,1);return new Promise((g,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const D=v.result;try{D.createObjectStore(Dl,{keyPath:Da})}catch(O){m(O)}}),v.addEventListener("success",(0,c.Z)(function*(){const D=v.result;D.objectStoreNames.contains(Dl)?g(D):(D.close(),yield function Dd(){const v=indexedDB.deleteDatabase(wl);return new Ca(v).toPromise()}(),g(yield dc()))}))})}function Cl(v,g,m){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,c.Z)(function*(v,g,m){const D=Ea(v,!0).put({[Da]:g,value:m});return new Ca(D).toPromise()})).apply(this,arguments)}function Ia(){return(Ia=(0,c.Z)(function*(v,g){const m=Ea(v,!1).get(g),D=yield new Ca(m).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function hc(v,g){const m=Ea(v,!0).delete(g);return new Ca(m).toPromise()}const Sa=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,c.Z)(function*(){return m.db||(m.db=yield dc()),m.db})()}_withRetries(m){var D=this;return(0,c.Z)(function*(){let O=0;for(;;)try{const V=yield D._openDb();return yield m(V)}catch(V){if(O++>3)throw V;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,c.Z)(function*(){return Wn()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,c.Z)(function*(){m.receiver=M._getInstance(function uc(){return Wn()?self:null}()),m.receiver._subscribe("keyChanged",function(){var D=(0,c.Z)(function*(O,V){return{keyProcessed:(yield m._poll()).includes(V.key)}});return function(O,V){return D.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var D=(0,c.Z)(function*(O,V){return["keyChanged"]});return function(O,V){return D.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,c.Z)(function*(){var D,O;if(m.activeServiceWorker=yield function Mr(){return $r.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Te(m.activeServiceWorker);const V=yield m.sender._send("ping",{},800);!V||(null===(D=V[0])||void 0===D?void 0:D.fulfilled)&&(null===(O=V[0])||void 0===O?void 0:O.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var D=this;return(0,c.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function Ko(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:m},D.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const m=yield dc();return yield Cl(m,os,"1"),yield hc(m,os),!0}catch{}return!1})()}_withPendingWrite(m){var D=this;return(0,c.Z)(function*(){D.pendingWrites++;try{yield m()}finally{D.pendingWrites--}})()}_set(m,D){var O=this;return(0,c.Z)(function*(){return O._withPendingWrite((0,c.Z)(function*(){return yield O._withRetries(V=>Cl(V,m,D)),O.localCache[m]=D,O.notifyServiceWorker(m)}))})()}_get(m){var D=this;return(0,c.Z)(function*(){const O=yield D._withRetries(V=>function lf(v,g){return Ia.apply(this,arguments)}(V,m));return D.localCache[m]=O,O})()}_remove(m){var D=this;return(0,c.Z)(function*(){return D._withPendingWrite((0,c.Z)(function*(){return yield D._withRetries(O=>hc(O,m)),delete D.localCache[m],D.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,c.Z)(function*(){const D=yield m._withRetries(ie=>{const ke=Ea(ie,!1).getAll();return new Ca(ke).toPromise()});if(!D)return[];if(0!==m.pendingWrites)return[];const O=[],V=new Set;for(const{fbase_key:ie,value:ke}of D)V.add(ie),JSON.stringify(m.localCache[ie])!==JSON.stringify(ke)&&(m.notifyListeners(ie,ke),O.push(ie));for(const ie of Object.keys(m.localCache))m.localCache[ie]&&!V.has(ie)&&(m.notifyListeners(ie,null),O.push(ie));return O})()}notifyListeners(m,D){this.localCache[m]=D;const O=this.listeners[m];if(O)for(const V of Array.from(O))V(D)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(D)}_removeListener(m,D){this.listeners[m]&&(this.listeners[m].delete(D),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function cf(v,g){return Rt(v,"POST","/v2/accounts/mfaSignIn:start",Ot(v,g))}function ei(){return(ei=(0,c.Z)(function*(v){return(yield Rt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Qo(v){return new Promise((g,m)=>{const D=document.createElement("script");D.setAttribute("src",v),D.onload=g,D.onerror=O=>{const V=Be("internal-error");V.customData=O,m(V)},D.type="text/javascript",D.charset="UTF-8",function Na(){var v,g;return null!==(g=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==g?g:document}().appendChild(D)})}function xa(v){return`__${v}${Math.floor(1e6*Math.random())}`}const Es=1e12;class Cd{constructor(g){this.auth=g,this.counter=Es,this._widgets=new Map}render(g,m){const D=this.counter;return this._widgets.set(D,new $n(g,this.auth.name,m||{})),this.counter++,D}reset(g){var m;const D=g||Es;null===(m=this._widgets.get(D))||void 0===m||m.delete(),this._widgets.delete(D)}getResponse(g){var m;return(null===(m=this._widgets.get(g||Es))||void 0===m?void 0:m.getResponse())||""}execute(g){var m=this;return(0,c.Z)(function*(){var D;return null===(D=m._widgets.get(g||Es))||void 0===D||D.execute(),""})()}}class $n{constructor(g,m,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const O="string"==typeof g?document.getElementById(g):g;oe(O,"argument-error",{appName:m}),this.container=O,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function pg(v){const g=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<v;D++)g.push(m.charAt(Math.floor(Math.random()*m.length)));return g.join("")}(50);const{callback:g,"expired-callback":m}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const uf=xa("rcb"),rb=new tt(3e4,6e4);class Y_{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=Qe().grecaptcha)||void 0===g||!g.render)}load(g,m=""){return oe(function df(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),g,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Qe().grecaptcha):new Promise((D,O)=>{const V=Qe().setTimeout(()=>{O(Be(g,"network-request-failed"))},rb.get());Qe()[uf]=()=>{Qe().clearTimeout(V),delete Qe()[uf];const ke=Qe().grecaptcha;if(!ke)return void O(Be(g,"internal-error"));const pt=ke.render;ke.render=(Mt,an)=>{const Nn=pt(Mt,an);return this.counter++,Nn},this.hostLanguage=m,D(ke)},Qo(`https://www.google.com/recaptcha/api.js??${(0,R.xO)({onload:uf,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(V),O(Be(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var m;return!(null===(m=Qe().grecaptcha)||void 0===m||!m.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ib{load(g){return(0,c.Z)(function*(){return new Cd(g)})()}clearedOneInstance(){}}const pc="recaptcha",sb={theme:"light",type:"image"};class Q_{constructor(g,m=Object.assign({},sb),D){this.parameters=m,this.type=pc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=It(D),this.isInvisible="invisible"===this.parameters.size,oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const O="string"==typeof g?document.getElementById(g):g;oe(O,this.auth,"argument-error"),this.container=O,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ib:new Y_,this.validateStartingState()}verify(){var g=this;return(0,c.Z)(function*(){g.assertNotDestroyed();const m=yield g.render(),D=g.getAssertedRecaptcha();return D.getResponse(m)||new Promise(V=>{const ie=ke=>{!ke||(g.tokenChangeListeners.delete(ie),V(ke))};g.tokenChangeListeners.add(ie),g.isInvisible&&D.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){oe(!this.parameters.sitekey,this.auth,"argument-error"),oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return m=>{if(this.tokenChangeListeners.forEach(D=>D(m)),"function"==typeof g)g(m);else if("string"==typeof g){const D=Qe()[g];"function"==typeof D&&D(m)}}}assertNotDestroyed(){oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,c.Z)(function*(){if(yield g.init(),!g.widgetId){let m=g.container;if(!g.isInvisible){const D=document.createElement("div");m.appendChild(D),m=D}g.widgetId=g.getAssertedRecaptcha().render(m,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,c.Z)(function*(){oe(We()&&!Wn(),g.auth,"internal-error"),yield function Lr(){let v=null;return new Promise(g=>{"complete"!==document.readyState?(v=()=>g(),window.addEventListener("load",v)):g()}).catch(g=>{throw v&&window.removeEventListener("load",v),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const m=yield function fc(v){return ei.apply(this,arguments)}(g.auth);oe(m,g.auth,"internal-error"),g.parameters.sitekey=m})()}getAssertedRecaptcha(){return oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Tn{constructor(g,m){this.verificationId=g,this.onConfirmation=m}confirm(g){const m=fo._fromVerification(this.verificationId,g);return this.onConfirmation(m)}}function as(v,g,m){return yt.apply(this,arguments)}function yt(){return(yt=(0,c.Z)(function*(v,g,m){const D=It(v),O=yield ur(D,g,(0,R.m9)(m));return new Tn(O,V=>Bo(D,V))})).apply(this,arguments)}function Jn(v,g,m){return pn.apply(this,arguments)}function pn(){return(pn=(0,c.Z)(function*(v,g,m){const D=(0,R.m9)(v);yield Ui(!1,D,"phone");const O=yield ur(D.auth,g,(0,R.m9)(m));return new Tn(O,V=>Ut(D,V))})).apply(this,arguments)}function Ys(v,g,m){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,c.Z)(function*(v,g,m){const D=(0,R.m9)(v),O=yield ur(D.auth,g,(0,R.m9)(m));return new Tn(O,V=>cu(D,V))})).apply(this,arguments)}function ur(v,g,m){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,c.Z)(function*(v,g,m){var D;const O=yield m.verify();try{let V;if(oe("string"==typeof O,v,"argument-error"),oe(m.type===pc,v,"argument-error"),V="string"==typeof g?{phoneNumber:g}:g,"session"in V){const ie=V.session;if("phoneNumber"in V)return oe("enroll"===ie.type,v,"internal-error"),(yield Hn(v,{idToken:ie.credential,phoneEnrollmentInfo:{phoneNumber:V.phoneNumber,recaptchaToken:O}})).phoneSessionInfo.sessionInfo;{oe("signin"===ie.type,v,"internal-error");const ke=(null===(D=V.multiFactorHint)||void 0===D?void 0:D.uid)||V.multiFactorUid;return oe(ke,v,"missing-multi-factor-info"),(yield cf(v,{mfaPendingCredential:ie.credential,mfaEnrollmentId:ke,phoneSignInInfo:{recaptchaToken:O}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ie}=yield fa(v,{phoneNumber:V.phoneNumber,recaptchaToken:O});return ie}}finally{m._reset()}})).apply(this,arguments)}function Ed(v,g){return Id.apply(this,arguments)}function Id(){return(Id=(0,c.Z)(function*(v,g){yield Vo((0,R.m9)(v),g)})).apply(this,arguments)}let hf=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=It(m)}verifyPhoneNumber(m,D){return ur(this.auth,m,(0,R.m9)(D))}static credential(m,D){return fo._fromVerification(m,D)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:D,temporaryProof:O}=m;return D&&O?fo._fromTokenResponse(D,O):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Do(v,g){return g?ne(g):(oe(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Td extends Zr{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Ls(g,this._buildIdpRequest())}_linkToIdToken(g,m){return Ls(g,this._buildIdpRequest(m))}_getReauthenticationResolver(g){return Ls(g,this._buildIdpRequest())}_buildIdpRequest(g){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(m.idToken=g),m}}function Co(v){return cl(v.auth,new Td(v),v.bypassAuthState)}function mt(v){const{auth:g,user:m}=v;return oe(m,g,"internal-error"),ll(m,new Td(v),v.bypassAuthState)}function bu(v){return Is.apply(this,arguments)}function Is(){return(Is=(0,c.Z)(function*(v){const{auth:g,user:m}=v;return oe(m,g,"internal-error"),Vo(m,new Td(v),v.bypassAuthState)})).apply(this,arguments)}class El{constructor(g,m,D,O,V=!1){this.auth=g,this.resolver=D,this.user=O,this.bypassAuthState=V,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var g=this;return new Promise(function(){var m=(0,c.Z)(function*(D,O){g.pendingPromise={resolve:D,reject:O};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(V){g.reject(V)}});return function(D,O){return m.apply(this,arguments)}}())}onAuthEvent(g){var m=this;return(0,c.Z)(function*(){const{urlResponse:D,sessionId:O,postBody:V,tenantId:ie,error:ke,type:pt}=g;if(ke)return void m.reject(ke);const Mt={auth:m.auth,requestUri:D,sessionId:O,tenantId:ie||void 0,postBody:V||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(pt)(Mt))}catch(an){m.reject(an)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Co;case"linkViaPopup":case"linkViaRedirect":return bu;case"reauthViaPopup":case"reauthViaRedirect":return mt;default:rt(this.auth,"internal-error")}}resolve(g){be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Il=new tt(2e3,1e4);function zn(v,g,m){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,c.Z)(function*(v,g,m){const D=It(v);Ae(v,g,xr);const O=Do(D,m);return new gc(D,"signInViaPopup",g,O).executeNotNull()})).apply(this,arguments)}function Oa(v,g,m){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,c.Z)(function*(v,g,m){const D=(0,R.m9)(v);Ae(D.auth,g,xr);const O=Do(D.auth,m);return new gc(D.auth,"reauthViaPopup",g,O,D).executeNotNull()})).apply(this,arguments)}function ff(v,g,m){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,c.Z)(function*(v,g,m){const D=(0,R.m9)(v);Ae(D.auth,g,xr);const O=Do(D.auth,m);return new gc(D.auth,"linkViaPopup",g,O,D).executeNotNull()})).apply(this,arguments)}let gc=(()=>{class v extends El{constructor(m,D,O,V,ie){super(m,D,V,ie),this.provider=O,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,c.Z)(function*(){const D=yield m.execute();return oe(D,m.auth,"internal-error"),D})()}onExecution(){var m=this;return(0,c.Z)(function*(){be(1===m.filter.length,"Popup operations only handle one event");const D=W();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],D),m.authWindow.associatedEvent=D,m.resolver._originValidation(m.auth).catch(O=>{m.reject(O)}),m.resolver._isIframeWebStorageSupported(m.auth,O=>{O||m.reject(Be(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var D,O;this.pollId=null!==(O=null===(D=this.authWindow)||void 0===D?void 0:D.window)&&void 0!==O&&O.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Be(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Il.get())};m()}}return v.currentPopupAction=null,v})();const Ai=new Map;class ls extends El{constructor(g,m,D=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,D),this.eventId=null}execute(){var g=()=>super.execute,m=this;return(0,c.Z)(function*(){let D=Ai.get(m.auth._key());if(!D){try{const V=(yield function mc(v,g){return ti.apply(this,arguments)}(m.resolver,m.auth))?yield g().call(m):null;D=()=>Promise.resolve(V)}catch(O){D=()=>Promise.reject(O)}Ai.set(m.auth._key(),D)}return m.bypassAuthState||Ai.set(m.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(g){var m=()=>super.onAuthEvent,D=this;return(0,c.Z)(function*(){if("signInViaRedirect"===g.type)return m().call(D,g);if("unknown"!==g.type){if(g.eventId){const O=yield D.auth._redirectUserForId(g.eventId);if(O)return D.user=O,m().call(D,g);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function ti(){return(ti=(0,c.Z)(function*(v,g){const m=na(g),D=ta(v);if(!(yield D._isAvailable()))return!1;const O="true"===(yield D._get(m));return yield D._remove(m),O})).apply(this,arguments)}function ea(v,g){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,c.Z)(function*(v,g){return ta(v)._set(na(g),"true")})).apply(this,arguments)}function Sd(){Ai.clear()}function Fn(v,g){Ai.set(v._key(),g)}function ta(v){return ne(v._redirectPersistence)}function na(v){return z("pendingRedirect",v.config.apiKey,v.name)}function dr(v,g,m){return function cn(v,g,m){return Ts.apply(this,arguments)}(v,g,m)}function Ts(){return(Ts=(0,c.Z)(function*(v,g,m){const D=It(v);Ae(v,g,xr);const O=Do(D,m);return yield ea(O,D),O._openRedirect(D,g,"signInViaRedirect")})).apply(this,arguments)}function wr(v,g,m){return function T(v,g,m){return A.apply(this,arguments)}(v,g,m)}function A(){return(A=(0,c.Z)(function*(v,g,m){const D=(0,R.m9)(v);Ae(D.auth,g,xr);const O=Do(D.auth,m);yield ea(O,D.auth);const V=yield jt(D);return O._openRedirect(D.auth,g,"reauthViaRedirect",V)})).apply(this,arguments)}function k(v,g,m){return function G(v,g,m){return ee.apply(this,arguments)}(v,g,m)}function ee(){return(ee=(0,c.Z)(function*(v,g,m){const D=(0,R.m9)(v);Ae(D.auth,g,xr);const O=Do(D.auth,m);yield Ui(!1,D,g.providerId),yield ea(O,D.auth);const V=yield jt(D);return O._openRedirect(D.auth,g,"linkViaRedirect",V)})).apply(this,arguments)}function de(v,g){return Se.apply(this,arguments)}function Se(){return(Se=(0,c.Z)(function*(v,g){return yield It(v)._initializationPromise,Je(v,g,!1)})).apply(this,arguments)}function Je(v,g){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,c.Z)(function*(v,g,m=!1){const D=It(v),O=Do(D,g),ie=yield new ls(D,O,m).execute();return ie&&!m&&(delete ie.user._redirectEventId,yield D._persistUserIfCurrent(ie.user),yield D._setRedirectUser(null,g)),ie})).apply(this,arguments)}function jt(v){return qt.apply(this,arguments)}function qt(){return(qt=(0,c.Z)(function*(v){const g=W(`${v.uid}:::`);return v._redirectEventId=g,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),g})).apply(this,arguments)}class gr{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let m=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(g,D)&&(m=!0,this.sendToConsumer(g,D),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Zt(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ra(v);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=g,m=!0)),m}sendToConsumer(g,m){var D;if(g.error&&!ra(g)){const O=(null===(D=g.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";m.onError(Be(this.auth,O))}else m.onAuthEvent(g)}isEventForConsumer(g,m){const D=null===m.eventId||!!g.eventId&&g.eventId===m.eventId;return m.filter.includes(g.type)&&D}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hr(g))}saveEventToCache(g){this.cachedEventUids.add(Hr(g)),this.lastProcessedEventTime=Date.now()}}function Hr(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(g=>g).join("-")}function ra({type:v,error:g}){return"unknown"===v&&"auth/no-auth-event"===g?.code}function Gr(v){return ia.apply(this,arguments)}function ia(){return(ia=(0,c.Z)(function*(v,g={}){return Rt(v,"GET","/v1/projects",g)})).apply(this,arguments)}const Io=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_c=/^https?/;function Br(){return(Br=(0,c.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:g}=yield Gr(v);for(const m of g)try{if(Ad(m))return}catch{}rt(v,"unauthorized-domain")})).apply(this,arguments)}function Ad(v){const g=je(),{protocol:m,hostname:D}=new URL(g);if(v.startsWith("chrome-extension://")){const ie=new URL(v);return""===ie.hostname&&""===D?"chrome-extension:"===m&&v.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===m&&ie.hostname===D}if(!_c.test(m))return!1;if(Io.test(v))return D===v;const O=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+O+"|"+O+")$","i").test(D)}const gg=new tt(3e4,6e4);function pf(){const v=Qe().___jsl;if(v?.H)for(const g of Object.keys(v.H))if(v.H[g].r=v.H[g].r||[],v.H[g].L=v.H[g].L||[],v.H[g].r=[...v.H[g].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let hr=null;function sa(v){return hr=hr||function ob(v){return new Promise((g,m)=>{var D,O,V;function ie(){pf(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{pf(),m(Be(v,"network-request-failed"))},timeout:gg.get()})}if(null!==(O=null===(D=Qe().gapi)||void 0===D?void 0:D.iframes)&&void 0!==O&&O.Iframe)g(gapi.iframes.getContext());else{if(null===(V=Qe().gapi)||void 0===V||!V.load){const ke=xa("iframefcb");return Qe()[ke]=()=>{gapi.load?ie():m(Be(v,"network-request-failed"))},Qo(`https://apis.google.com/js/api.js?onload=${ke}`).catch(pt=>m(pt))}ie()}}).catch(g=>{throw hr=null,g})}(v),hr}const gf=new tt(5e3,15e3),mf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},J_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _f(v){const g=v.config;oe(g.authDomain,v,"auth-domain-config-required");const m=g.emulator?gn(g,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,D={apiKey:g.apiKey,appName:v.name,v:L.SDK_VERSION},O=J_.get(v.config.apiHost);O&&(D.eid=O);const V=v._getFrameworks();return V.length&&(D.fw=V.join(",")),`${m}?${(0,R.xO)(D).slice(1)}`}function Nd(){return Nd=(0,c.Z)(function*(v){const g=yield sa(v),m=Qe().gapi;return oe(m,v,"internal-error"),g.open({where:document.body,url:_f(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mf,dontclear:!0},D=>new Promise(function(){var O=(0,c.Z)(function*(V,ie){yield D.restyle({setHideOnLeave:!1});const ke=Be(v,"network-request-failed"),pt=Qe().setTimeout(()=>{ie(ke)},gf.get());function Mt(){Qe().clearTimeout(pt),V(D)}D.ping(Mt).then(Mt,()=>{ie(ke)})});return function(V,ie){return O.apply(this,arguments)}}()))}),Nd.apply(this,arguments)}const wu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Du{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yc(v,g,m,D,O,V){oe(v.config.authDomain,v,"auth-domain-config-required"),oe(v.config.apiKey,v,"invalid-api-key");const ie={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:D,v:L.SDK_VERSION,eventId:O};if(g instanceof xr){g.setDefaultLanguage(v.languageCode),ie.providerId=g.providerId||"",(0,R.xb)(g.getCustomParameters())||(ie.customParameters=JSON.stringify(g.getCustomParameters()));for(const[pt,Mt]of Object.entries(V||{}))ie[pt]=Mt}if(g instanceof po){const pt=g.getScopes().filter(Mt=>""!==Mt);pt.length>0&&(ie.scopes=pt.join(","))}v.tenantId&&(ie.tid=v.tenantId);const ke=ie;for(const pt of Object.keys(ke))void 0===ke[pt]&&delete ke[pt];return`${function vg({config:v}){return v.emulator?gn(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,R.xO)(ke).slice(1)}`}const vc="webStorageSupport",vf=class Cu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=C,this._completeRedirectFn=Je,this._overrideRedirectResult=Fn}_openPopup(g,m,D,O){var V=this;return(0,c.Z)(function*(){var ie;be(null===(ie=V.eventManagers[g._key()])||void 0===ie?void 0:ie.manager,"_initialize() not called before _openPopup()");const ke=yc(g,m,D,je(),O);return function Md(v,g,m,D=500,O=600){const V=Math.max((window.screen.availHeight-O)/2,0).toString(),ie=Math.max((window.screen.availWidth-D)/2,0).toString();let ke="";const pt=Object.assign(Object.assign({},wu),{width:D.toString(),height:O.toString(),top:V,left:ie}),Mt=(0,R.z$)().toLowerCase();m&&(ke=se(Mt)?"_blank":m),F(Mt)&&(g=g||"http://localhost",pt.scrollbars="yes");const an=Object.entries(pt).reduce((bi,[Ss,Rd])=>`${bi}${Ss}=${Rd},`,"");if(function _n(v=(0,R.z$)()){var g;return Ge(v)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(Mt)&&"_self"!==ke)return function aa(v,g){const m=document.createElement("a");m.href=v,m.target=g;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(D)}(g||"",ke),new Du(null);const Nn=window.open(g||"",ke,an);oe(Nn,v,"popup-blocked");try{Nn.focus()}catch{}return new Du(Nn)}(g,ke,W())})()}_openRedirect(g,m,D,O){var V=this;return(0,c.Z)(function*(){return yield V._originValidation(g),function Gn(v){Qe().location.href=v}(yc(g,m,D,je(),O)),new Promise(()=>{})})()}_initialize(g){const m=g._key();if(this.eventManagers[m]){const{manager:O,promise:V}=this.eventManagers[m];return O?Promise.resolve(O):(be(V,"If manager is not set, promise should be"),V)}const D=this.initAndGetManager(g);return this.eventManagers[m]={promise:D},D.catch(()=>{delete this.eventManagers[m]}),D}initAndGetManager(g){var m=this;return(0,c.Z)(function*(){const D=yield function _g(v){return Nd.apply(this,arguments)}(g),O=new gr(g);return D.register("authEvent",V=>(oe(V?.authEvent,g,"invalid-auth-event"),{status:O.onEvent(V.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[g._key()]={manager:O},m.iframes[g._key()]=D,O})()}_isIframeWebStorageSupported(g,m){this.iframes[g._key()].send(vc,{type:vc},O=>{var V;const ie=null===(V=O?.[0])||void 0===V?void 0:V[vc];void 0!==ie&&m(!!ie),rt(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function To(v){return Br.apply(this,arguments)}(g)),this.originValidationPromises[m]}get _shouldInitProactively(){return hn()||$()||Ge()}};class bf extends class Od{constructor(g){this.factorId=g}_process(g,m,D){switch(m.type){case"enroll":return this._finalizeEnroll(g,m.credential,D);case"signin":return this._finalizeSignIn(g,m.credential);default:return ge("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new bf(g)}_finalizeEnroll(g,m,D){return function ya(v,g){return Rt(v,"POST","/v2/accounts/mfaEnrollment:finalize",Ot(v,g))}(g,{idToken:m,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,m){return function Aa(v,g){return Rt(v,"POST","/v2/accounts/mfaSignIn:finalize",Ot(v,g))}(g,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let So=(()=>{class v{constructor(){}static assertion(m){return bf._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var la="@firebase/auth",wf="0.20.11";class X_{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var m=this;return(0,c.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const m=this.auth.onIdTokenChanged(D=>{var O;g((null===(O=D)||void 0===O?void 0:O.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,m),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const m=this.internalListeners.get(g);!m||(this.internalListeners.delete(g),m(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Df=(0,R.Pz)("authIdTokenMaxAge")||300;let Cf=null;const ey=v=>function(){var g=(0,c.Z)(function*(m){const D=m&&(yield m.getIdTokenResult()),O=D&&((new Date).getTime()-Date.parse(D.issuedAtTime))/1e3;if(O&&O>Df)return;const V=D?.token;Cf!==V&&(Cf=V,yield fetch(v,{method:V?"POST":"DELETE",headers:V?{Authorization:`Bearer ${V}`}:{}}))});return function(m){return g.apply(this,arguments)}}();function ty(v=(0,L.getApp)()){const g=(0,L._getProvider)(v,"auth");if(g.isInitialized())return g.getImmediate();const m=function ye(v,g){const m=(0,L._getProvider)(v,"auth");if(m.isInitialized()){const O=m.getImmediate(),V=m.getOptions();if((0,R.vZ)(V,g??{}))return O;rt(O,"already-initialized")}return m.initialize({options:g})}(v,{popupRedirectResolver:vf,persistence:[Sa,cr,C]}),D=(0,R.Pz)("authTokenSyncURL");if(D){const V=ey(D);(function _a(v,g,m){(0,R.m9)(v).beforeAuthStateChanged(g,m)})(m,V,()=>V(m.currentUser)),function yl(v,g,m,D){(0,R.m9)(v).onIdTokenChanged(g,m,D)}(m,ie=>V(ie))}const O=(0,R.q4)("auth");return O&&fs(m,`http://${O}`),m}!function cb(v){(0,L._registerComponent)(new we.wA("auth",(g,{options:m})=>{const D=g.getProvider("app").getImmediate(),O=g.getProvider("heartbeat"),{apiKey:V,authDomain:ie}=D.options;return((ke,pt)=>{oe(V&&!V.includes(":"),"invalid-api-key",{appName:ke.name}),oe(!ie?.includes(":"),"argument-error",{appName:ke.name});const Mt={apiKey:V,authDomain:ie,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yn(v)},an=new lo(ke,pt,Mt);return function ae(v,g){const m=g?.persistence||[],D=(Array.isArray(m)?m:[m]).map(ne);g?.errorMap&&v._updateErrorMap(g.errorMap),v._initializeWithPersistence(D,g?.popupRedirectResolver)}(an,m),an})(D,O)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,m,D)=>{g.getProvider("auth-internal").initialize()})),(0,L._registerComponent)(new we.wA("auth-internal",g=>{const m=It(g.getProvider("auth").getImmediate());return new X_(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,L.registerVersion)(la,wf,function lb(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,L.registerVersion)(la,wf,"esm2017")}("Browser")},2090:(wt,ue,B)=>{"use strict";B.d(ue,{$s:()=>dt,BH:()=>Qt,G6:()=>Ae,L:()=>pe,LL:()=>dn,P0:()=>We,Pz:()=>ln,Sg:()=>tt,UG:()=>xe,US:()=>we,ZB:()=>Z,ZR:()=>mn,aH:()=>vt,b$:()=>me,eu:()=>oe,hl:()=>et,jU:()=>Xe,m9:()=>on,ne:()=>Cn,pd:()=>hs,q4:()=>je,r3:()=>Vn,ru:()=>Ie,tV:()=>Ce,uI:()=>Pe,vZ:()=>Ye,w1:()=>rt,xO:()=>Xt,xb:()=>Nr,z$:()=>qe,zI:()=>ge,zd:()=>vr});const le=function(K){const z=[];let J=0;for(let H=0;H<K.length;H++){let F=K.charCodeAt(H);F<128?z[J++]=F:F<2048?(z[J++]=F>>6|192,z[J++]=63&F|128):55296==(64512&F)&&H+1<K.length&&56320==(64512&K.charCodeAt(H+1))?(F=65536+((1023&F)<<10)+(1023&K.charCodeAt(++H)),z[J++]=F>>18|240,z[J++]=F>>12&63|128,z[J++]=F>>6&63|128,z[J++]=63&F|128):(z[J++]=F>>12|224,z[J++]=F>>6&63|128,z[J++]=63&F|128)}return z},we={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(K,z){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();const J=z?this.byteToCharMapWebSafe_:this.byteToCharMap_,H=[];for(let F=0;F<K.length;F+=3){const $=K[F],se=F+1<K.length,Ve=se?K[F+1]:0,ht=F+2<K.length,ft=ht?K[F+2]:0;let Vt=(15&Ve)<<2|ft>>6,_n=63&ft;ht||(_n=64,se||(Vt=64)),H.push(J[$>>2],J[(3&$)<<4|Ve>>4],J[Vt],J[_n])}return H.join("")},encodeString(K,z){return this.HAS_NATIVE_SUPPORT&&!z?btoa(K):this.encodeByteArray(le(K),z)},decodeString(K,z){return this.HAS_NATIVE_SUPPORT&&!z?atob(K):function(K){const z=[];let J=0,H=0;for(;J<K.length;){const F=K[J++];if(F<128)z[H++]=String.fromCharCode(F);else if(F>191&&F<224){const $=K[J++];z[H++]=String.fromCharCode((31&F)<<6|63&$)}else if(F>239&&F<365){const ht=((7&F)<<18|(63&K[J++])<<12|(63&K[J++])<<6|63&K[J++])-65536;z[H++]=String.fromCharCode(55296+(ht>>10)),z[H++]=String.fromCharCode(56320+(1023&ht))}else{const $=K[J++],se=K[J++];z[H++]=String.fromCharCode((15&F)<<12|(63&$)<<6|63&se)}}return z.join("")}(this.decodeStringToByteArray(K,z))},decodeStringToByteArray(K,z){this.init_();const J=z?this.charToByteMapWebSafe_:this.charToByteMap_,H=[];for(let F=0;F<K.length;){const $=J[K.charAt(F++)],Ve=F<K.length?J[K.charAt(F)]:0;++F;const ft=F<K.length?J[K.charAt(F)]:64;++F;const Ge=F<K.length?J[K.charAt(F)]:64;if(++F,null==$||null==Ve||null==ft||null==Ge)throw Error();H.push($<<2|Ve>>4),64!==ft&&(H.push(Ve<<4&240|ft>>2),64!==Ge&&H.push(ft<<6&192|Ge))}return H},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}},pe=function(K){return function(K){const z=le(K);return we.encodeByteArray(z,!0)}(K).replace(/\./g,"")},Ce=function(K){try{return we.decodeString(K,!0)}catch(z){console.error("base64Decode failed: ",z)}return null};function Z(K,z){if(!(z instanceof Object))return z;switch(z.constructor){case Date:return new Date(z.getTime());case Object:void 0===K&&(K={});break;case Array:K=[];break;default:return z}for(const J in z)!z.hasOwnProperty(J)||!te(J)||(K[J]=Z(K[J],z[J]));return K}function te(K){return"__proto__"!==K}function qe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Pe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qe())}function xe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Xe(){return"object"==typeof self&&self.self===self}function Ie(){const K="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof K&&void 0!==K.id}function me(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function rt(){const K=qe();return K.indexOf("MSIE ")>=0||K.indexOf("Trident/")>=0}function Ae(){return!xe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function et(){return"object"==typeof indexedDB}function oe(){return new Promise((K,z)=>{try{let J=!0;const H="validate-browser-context-for-indexeddb-analytics-module",F=self.indexedDB.open(H);F.onsuccess=()=>{F.result.close(),J||self.indexedDB.deleteDatabase(H),K(!0)},F.onupgradeneeded=()=>{J=!1},F.onerror=()=>{var $;z((null===($=F.error)||void 0===$?void 0:$.message)||"")}}catch(J){z(J)}})}function ge(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const ae=()=>{try{return function be(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const K=process.env.__FIREBASE_DEFAULTS__;return K?JSON.parse(K):void 0})()||(()=>{if(typeof document>"u")return;let K;try{K=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const z=K&&Ce(K[1]);return z&&JSON.parse(z)})()}catch(K){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${K}`)}},je=K=>{var z,J;return null===(J=null===(z=ae())||void 0===z?void 0:z.emulatorHosts)||void 0===J?void 0:J[K]},We=K=>{const z=je(K);if(!z)return;const J=z.lastIndexOf(":");if(J<=0||J+1===z.length)throw new Error(`Invalid host ${z} with no separate hostname and port!`);const H=parseInt(z.substring(J+1),10);return"["===z[0]?[z.substring(1,J-1),H]:[z.substring(0,J),H]},vt=()=>{var K;return null===(K=ae())||void 0===K?void 0:K.config},ln=K=>{var z;return null===(z=ae())||void 0===z?void 0:z[`_${K}`]};class Qt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((z,J)=>{this.resolve=z,this.reject=J})}wrapCallback(z){return(J,H)=>{J?this.reject(J):this.resolve(H),"function"==typeof z&&(this.promise.catch(()=>{}),1===z.length?z(J):z(J,H))}}}function tt(K,z){if(K.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const H=z||"demo-project",F=K.iat||0,$=K.sub||K.user_id;if(!$)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const se=Object.assign({iss:`https://securetoken.google.com/${H}`,aud:H,iat:F,exp:F+3600,auth_time:F,sub:$,user_id:$,firebase:{sign_in_provider:"custom",identities:{}}},K);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(se)),""].join(".")}class mn extends Error{constructor(z,J,H){super(J),this.code=z,this.customData=H,this.name="FirebaseError",Object.setPrototypeOf(this,mn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dn.prototype.create)}}class dn{constructor(z,J,H){this.service=z,this.serviceName=J,this.errors=H}create(z,...J){const H=J[0]||{},F=`${this.service}/${z}`,$=this.errors[z],se=$?function Jt(K,z){return K.replace(Ot,(J,H)=>{const F=z[H];return null!=F?String(F):`<${H}?>`})}($,H):"Error";return new mn(F,`${this.serviceName}: ${se} (${F}).`,H)}}const Ot=/\{\$([^}]+)}/g;function Vn(K,z){return Object.prototype.hasOwnProperty.call(K,z)}function Nr(K){for(const z in K)if(Object.prototype.hasOwnProperty.call(K,z))return!1;return!0}function Ye(K,z){if(K===z)return!0;const J=Object.keys(K),H=Object.keys(z);for(const F of J){if(!H.includes(F))return!1;const $=K[F],se=z[F];if(er($)&&er(se)){if(!Ye($,se))return!1}else if($!==se)return!1}for(const F of H)if(!J.includes(F))return!1;return!0}function er(K){return null!==K&&"object"==typeof K}function Xt(K){const z=[];for(const[J,H]of Object.entries(K))Array.isArray(H)?H.forEach(F=>{z.push(encodeURIComponent(J)+"="+encodeURIComponent(F))}):z.push(encodeURIComponent(J)+"="+encodeURIComponent(H));return z.length?"&"+z.join("&"):""}function vr(K){const z={};return K.replace(/^\?/,"").split("&").forEach(H=>{if(H){const[F,$]=H.split("=");z[decodeURIComponent(F)]=decodeURIComponent($)}}),z}function hs(K){const z=K.indexOf("?");if(!z)return"";const J=K.indexOf("#",z);return K.substring(z,J>0?J:void 0)}function Cn(K,z){const J=new En(K,z);return J.subscribe.bind(J)}class En{constructor(z,J){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=J,this.task.then(()=>{z(this)}).catch(H=>{this.error(H)})}next(z){this.forEachObserver(J=>{J.next(z)})}error(z){this.forEachObserver(J=>{J.error(z)}),this.close(z)}complete(){this.forEachObserver(z=>{z.complete()}),this.close()}subscribe(z,J,H){let F;if(void 0===z&&void 0===J&&void 0===H)throw new Error("Missing Observer.");F=function Ze(K,z){if("object"!=typeof K||null===K)return!1;for(const J of z)if(J in K&&"function"==typeof K[J])return!0;return!1}(z,["next","error","complete"])?z:{next:z,error:J,complete:H},void 0===F.next&&(F.next=Lt),void 0===F.error&&(F.error=Lt),void 0===F.complete&&(F.complete=Lt);const $=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?F.error(this.finalError):F.complete()}catch{}}),this.observers.push(F),$}unsubscribeOne(z){void 0===this.observers||void 0===this.observers[z]||(delete this.observers[z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(z){if(!this.finalized)for(let J=0;J<this.observers.length;J++)this.sendOne(J,z)}sendOne(z,J){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[z])try{J(this.observers[z])}catch(H){typeof console<"u"&&console.error&&console.error(H)}})}close(z){this.finalized||(this.finalized=!0,void 0!==z&&(this.finalError=z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Lt(){}function dt(K,z=1e3,J=2){const H=z*Math.pow(J,K),F=Math.round(.5*H*(Math.random()-.5)*2);return Math.min(144e5,H+F)}function on(K){return K&&K._delegate?K._delegate:K}},8015:(wt,ue,B)=>{"use strict";var c=B(4650);let R=null;function L(){return R}const he=new c.OlP("DocumentToken");let pe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ce(){return(0,c.LFG)(Z)}()},providedIn:"platform"}),n})();const Y=new c.OlP("Location Initialized");let Z=(()=>{class n extends pe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(t){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){te()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){te()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(he))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function qe(){return new Z((0,c.LFG)(he))}()},providedIn:"platform"}),n})();function te(){return!!window.history.pushState}function Pe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function xe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Xe(n){return n&&"?"!==n[0]?"?"+n:n}let Ie=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)($e)},providedIn:"root"}),n})();const me=new c.OlP("appBaseHref");let $e=(()=>{class n extends Ie{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(he).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Pe(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Xe(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,l){const d=this.prepareExternalUrl(i+Xe(l));this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,l){const d=this.prepareExternalUrl(i+Xe(l));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(pe),c.LFG(me,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rt=(()=>{class n extends Ie{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Pe(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,l){let d=this.prepareExternalUrl(i+Xe(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,l){let d=this.prepareExternalUrl(i+Xe(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(pe),c.LFG(me,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Be=(()=>{class n{constructor(t){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=xe(et(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Xe(r))}normalize(t){return n.stripTrailingSlash(function Ae(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,et(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Xe(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Xe(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Xe,n.joinWithSlash=Pe,n.stripTrailingSlash=xe,n.\u0275fac=function(t){return new(t||n)(c.LFG(Ie))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Fe(){return new Be((0,c.LFG)(Ie))}()},providedIn:"root"}),n})();function et(n){return n.replace(/\/index.html$/,"")}class Fs{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Fr=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,l,d)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Fs(i.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===l?void 0:l);else if(null!==l){const f=r.get(l);r.move(f,d),gs(f,i)}});for(let i=0,l=r.length;i<l;i++){const f=r.get(i).context;f.index=i,f.count=l,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{gs(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function gs(n,e){n.context.$implicit=e.item}let Un=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new su,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){or("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){or("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class su{constructor(){this.$implicit=null,this.ngIf=null}}function or(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}let Qr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function mo(n){return"server"===n}let tc=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new lu((0,c.LFG)(he),window)}),n})();class lu{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function br(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const l=i.shadowRoot;if(l){const d=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(d)return d}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],i-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Si(this.window.history)||Si(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Si(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Hi extends class pl extends class we{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function fe(n){R||(R=n)}(new Hi)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function sc(){return ws=ws||document.querySelector("base"),ws?ws.getAttribute("href"):null}();return null==t?null:function is(n){jn=jn||document.createElement("a"),jn.setAttribute("href",n);const e=jn.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ws=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function il(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let jn,ws=null;const Pn=new c.OlP("TRANSITION_ID"),gl=[{provide:c.ip1,useFactory:function oc(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const r=L(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<i.length;l++)r.remove(i[l])})}},deps:[Pn,he,c.zs3],multi:!0}];let ml=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const _l=new c.OlP("EventManagerPlugins");let yl=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let l=0;l<i.length;l++){const d=i[l];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(_l),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class _a{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=L().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let vo=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),bo=(()=>{class n extends vo{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(l=>{const d=this._doc.createElement("style");d.textContent=l,i.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Ds),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Ds))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(he))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Ds(n){L().remove(n)}const Ks={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ac=/%COMP%/g;function va(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?va(n,i,t):(i=i.replace(ac,n),t.push(i))}return t}function ba(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let ss=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new os(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case c.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new cc(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case c.ifc.ShadowDom:return new _u(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=va(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(yl),c.LFG(bo),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class os{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ks[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Zo(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Zo(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const l=Ks[i];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Ks[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,r,i&c.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ba(r)):this.eventManager.addEventListener(e,t,ba(r))}}function Zo(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class cc extends os{constructor(e,t,r,i){super(e),this.component=r;const l=va(i+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr=function Hn(n){return"_ngcontent-%COMP%".replace(ac,n)}(i+"-"+r.id),this.hostAttr=function ya(n){return"_nghost-%COMP%".replace(ac,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class _u extends os{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=va(i.id,i.styles,[]);for(let d=0;d<l.length;d++){const f=document.createElement("style");f.textContent=l[d],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let cr=(()=>{class n extends _a{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(he))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const wa=["alt","control","meta","shift"],C={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},E={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let M=(()=>{class n extends _a{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const l=n.parseEventName(r),d=n.eventCallback(l.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(t,l.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const l=n._normalizeKey(r.pop());let d="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),d="code."),wa.forEach(w=>{const S=r.indexOf(w);S>-1&&(r.splice(S,1),d+=w+".")}),d+=l,0!=r.length||0===l.length)return null;const _={};return _.domEventName=i,_.fullKey=d,_}static matchEventFullKeyCode(t,r){let i=C[t.key]||t.key,l="";return r.indexOf("code.")>-1&&(i=t.code,l="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),wa.forEach(d=>{d!==i&&(0,E[d])(t)&&(l+=d+".")}),l+=i,l===r)}static eventCallback(t,r,i){return l=>{n.matchEventFullKeyCode(l,t)&&i.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(he))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const wl=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:"browser"},{provide:c.g9A,useValue:function Mr(){Hi.makeCurrent()},multi:!0},{provide:he,useFactory:function Ko(){return(0,c.RDi)(document),document},deps:[]}]),Yo=new c.OlP(""),Dl=[{provide:c.rWj,useClass:class mu{addToWindow(e){c.dqk.getAngularTestability=(r,i=!0)=>{const l=e.findTestabilityInTree(r,i);if(null==l)throw new Error("Could not find testability for element.");return l},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(r=>{const i=c.dqk.getAllAngularTestabilities();let l=i.length,d=!1;const f=function(_){d=d||_,l--,0==l&&r(d)};i.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?L().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],Da=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function $r(){return new c.qLn},deps:[]},{provide:_l,useClass:cr,multi:!0,deps:[he,c.R0b,c.Lbi]},{provide:_l,useClass:M,multi:!0,deps:[he]},{provide:ss,useClass:ss,deps:[yl,bo,c.AFp]},{provide:c.FYo,useExisting:ss},{provide:vo,useExisting:bo},{provide:bo,useClass:bo,deps:[he]},{provide:yl,useClass:yl,deps:[_l,c.R0b]},{provide:class ys{},useClass:ml,deps:[]},[]];let Ca=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:Pn,useExisting:c.AFp},gl]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Yo,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[...Da,...Dl],imports:[Qr,c.hGG]}),n})(),Cs=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(he))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Cl(){return new Cs((0,c.LFG)(he))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var Tn=B(8996),as=B(3269);function yt(...n){const e=(0,as.yG)(n);return(0,Tn.D)(n,e)}var Jn=B(7579);class pn extends Jn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Jo=(0,B(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ur=B(9751);const{isArray:Xo}=Array,{getPrototypeOf:Ed,prototype:Id,keys:hf}=Object;function Do(n){if(1===n.length){const e=n[0];if(Xo(e))return{args:e,keys:null};if(function Td(n){return n&&"object"==typeof n&&Ed(n)===Id}(e)){const t=hf(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Co=B(4671),mt=B(4004);const{isArray:bu}=Array;function El(n){return(0,mt.U)(e=>function Is(n,e){return bu(e)?n(...e):n(e)}(n,e))}function Il(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var zn=B(5403),Tl=B(9672);function Oa(...n){const e=(0,as.yG)(n),t=(0,as.jO)(n),{args:r,keys:i}=Do(n);if(0===r.length)return(0,Tn.D)([],e);const l=new ur.y(function Sl(n,e,t=Co.y){return r=>{ff(e,()=>{const{length:i}=n,l=new Array(i);let d=i,f=i;for(let _=0;_<i;_++)ff(e,()=>{const w=(0,Tn.D)(n[_],e);let S=!1;w.subscribe((0,zn.x)(r,x=>{l[_]=x,S||(S=!0,f--),f||r.next(t(l.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,i?d=>Il(i,d):Co.y));return t?l.pipe(El(t)):l}function ff(n,e,t){n?(0,Tl.f)(t,n,e):e()}var Ra=B(8189);function Eo(...n){return function gc(){return(0,Ra.J)(1)}()((0,Tn.D)(n,(0,as.yG)(n)))}var Ai=B(8421);function ls(n){return new ur.y(e=>{(0,Ai.Xf)(n()).subscribe(e)})}var mc=B(9635),ti=B(576);function ea(n,e){const t=(0,ti.m)(n)?n:()=>n,r=i=>i.error(t());return new ur.y(e?i=>e.schedule(r,0,i):r)}var Vr=B(515),Sd=B(727),Fn=B(4482);function ta(){return(0,Fn.e)((n,e)=>{let t=null;n._refCount++;const r=(0,zn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,l=t;t=null,i&&(!l||i===l)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class na extends ur.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Fn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Sd.w0;const t=this.getSubject();e.add(this.source.subscribe((0,zn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Sd.w0.EMPTY)}return e}refCount(){return ta()(this)}}function dr(n,e){return(0,Fn.e)((t,r)=>{let i=null,l=0,d=!1;const f=()=>d&&!i&&r.complete();t.subscribe((0,zn.x)(r,_=>{i?.unsubscribe();let w=0;const S=l++;(0,Ai.Xf)(n(_,S)).subscribe(i=(0,zn.x)(r,x=>r.next(e?e(_,x,S,w++):x),()=>{i=null,f()}))},()=>{d=!0,f()}))})}function cn(n){return n<=0?()=>Vr.E:(0,Fn.e)((e,t)=>{let r=0;e.subscribe((0,zn.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Ts(...n){const e=(0,as.yG)(n);return(0,Fn.e)((t,r)=>{(e?Eo(n,t,e):Eo(n,t)).subscribe(r)})}function wr(n,e){return(0,Fn.e)((t,r)=>{let i=0;t.subscribe((0,zn.x)(r,l=>n.call(e,l,i++)&&r.next(l)))})}var T=B(5577);function A(n){return(0,Fn.e)((e,t)=>{let r=!1;e.subscribe((0,zn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function k(n=G){return(0,Fn.e)((e,t)=>{let r=!1;e.subscribe((0,zn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function G(){return new Jo}function ee(n,e){const t=arguments.length>=2;return r=>r.pipe(n?wr((i,l)=>n(i,l,r)):Co.y,cn(1),t?A(e):k(()=>new Jo))}function de(n,e){return(0,ti.m)(e)?(0,T.z)(n,e,1):(0,T.z)(n,1)}var Se=B(8505);function Je(n){return(0,Fn.e)((e,t)=>{let l,r=null,i=!1;r=e.subscribe((0,zn.x)(t,void 0,void 0,d=>{l=(0,Ai.Xf)(n(d,Je(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,l.subscribe(t))})}function Tt(n,e,t,r,i){return(l,d)=>{let f=t,_=e,w=0;l.subscribe((0,zn.x)(d,S=>{const x=w++;_=f?n(_,S,x):(f=!0,S),r&&d.next(_)},i&&(()=>{f&&d.next(_),d.complete()})))}}function jt(n,e){return(0,Fn.e)(Tt(n,e,arguments.length>=2,!0))}function qt(n){return n<=0?()=>Vr.E:(0,Fn.e)((e,t)=>{let r=[];e.subscribe((0,zn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function St(n,e){const t=arguments.length>=2;return r=>r.pipe(n?wr((i,l)=>n(i,l,r)):Co.y,qt(1),t?A(e):k(()=>new Jo))}function Hr(n){return(0,mt.U)(()=>n)}function ra(n){return(0,Fn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Zt="primary",Gr=Symbol("RouteTitle");class ia{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Io(n){return new ia(n)}function _c(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let l=0;l<r.length;l++){const d=r[l],f=n[l];if(d.startsWith(":"))i[d.substring(1)]=f;else if(d!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Br(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let l=0;l<t.length;l++)if(i=t[l],!Ad(n[i],e[i]))return!1;return!0}function Ad(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,l)=>r[l]===i)}return n===e}function gg(n){return Array.prototype.concat.apply([],n)}function pf(n){return n.length>0?n[n.length-1]:null}function hr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function sa(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,Tn.D)(Promise.resolve(n)):yt(n)}const ab={exact:function _g(n,e,t){if(!aa(n.segments,e.segments)||!oa(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!_g(n.children[r],e.children[r],t))return!1;return!0},subset:wu},mf={exact:function _f(n,e){return Br(n,e)},subset:function Nd(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Ad(n[t],e[t]))},ignored:()=>!0};function J_(n,e,t){return ab[t.paths](n.root,e.root,t.matrixParams)&&mf[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function wu(n,e,t){return xd(n,e,e.segments,t)}function xd(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!aa(i,t)||e.hasChildren()||!oa(i,t,r))}if(n.segments.length===t.length){if(!aa(n.segments,t)||!oa(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!wu(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(aa(n.segments,i)&&oa(n.segments,i,r)&&n.children[Zt])&&xd(n.children[Zt],e,l,r)}}function oa(n,e,t){return e.every((r,i)=>mf[t](n[i].parameters,r.parameters))}class Al{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Io(this.queryParams)),this._queryParamMap}toString(){return vg.serialize(this)}}class un{constructor(e,t){this.segments=e,this.children=t,this.parent=null,hr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vc(this)}}class Du{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Io(this.parameters)),this._parameterMap}toString(){return X_(this)}}function aa(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let yf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new yc},providedIn:"root"}),n})();class yc{parse(e){const t=new g(e);return new Al(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Cu(e.root,!0)}`,r=function cb(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Od(t)}=${Od(i)}`).join("&"):`${Od(t)}=${Od(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function bf(n){return encodeURI(n)}(e.fragment)}`:""}`}}const vg=new yc;function vc(n){return n.segments.map(e=>X_(e)).join("/")}function Cu(n,e){if(!n.hasChildren())return vc(n);if(e){const t=n.children[Zt]?Cu(n.children[Zt],!1):"",r=[];return hr(n.children,(i,l)=>{l!==Zt&&r.push(`${l}:${Cu(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function yg(n,e){let t=[];return hr(n.children,(r,i)=>{i===Zt&&(t=t.concat(e(r,i)))}),hr(n.children,(r,i)=>{i!==Zt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Zt?[Cu(n.children[Zt],!1)]:[`${i}:${Cu(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Zt]?`${vc(n)}/${t[0]}`:`${vc(n)}/(${t.join("//")})`}}function vf(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Od(n){return vf(n).replace(/%3B/gi,";")}function So(n){return vf(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function la(n){return decodeURIComponent(n)}function wf(n){return la(n.replace(/\+/g,"%20"))}function X_(n){return`${So(n.path)}${function lb(n){return Object.keys(n).map(e=>`;${So(e)}=${So(n[e])}`).join("")}(n.parameters)}`}const ub=/^[^\/()?;=#]+/;function Df(n){const e=n.match(ub);return e?e[0]:""}const Cf=/^[^=?&#]+/,ty=/^[^&#]+/;class g{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new un([],{}):new un([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Zt]=new un(e,t)),r}parseSegment(){const e=Df(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(e),new Du(la(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Df(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Df(this.remaining);i&&(r=i,this.capture(r))}e[la(t)]=la(r)}parseQueryParam(e){const t=function ey(n){const e=n.match(Cf);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function v(n){const e=n.match(ty);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const i=wf(t),l=wf(r);if(e.hasOwnProperty(i)){let d=e[i];Array.isArray(d)||(d=[d],e[i]=d),d.push(l)}else e[i]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Df(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new c.vHH(4010,!1);let l;r.indexOf(":")>-1?(l=r.slice(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Zt);const d=this.parseChildren();t[l]=1===Object.keys(d).length?d[Zt]:new un([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new c.vHH(4011,!1)}}function m(n){return n.segments.length>0?new un([],{[Zt]:n}):n}function D(n){const e={};for(const r of Object.keys(n.children)){const l=D(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function O(n){if(1===n.numberOfChildren&&n.children[Zt]){const e=n.children[Zt];return new un(n.segments.concat(e.segments),e.children)}return n}(new un(n.segments,e))}function V(n){return n instanceof Al}function an(n,e,t,r,i){if(0===t.length)return Ss(e.root,e.root,e.root,r,i);const l=function Pd(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new kd(!0,0,n);let e=0,t=!1;const r=n.reduce((i,l,d)=>{if("object"==typeof l&&null!=l){if(l.outlets){const f={};return hr(l.outlets,(_,w)=>{f[w]="string"==typeof _?_.split("/"):_}),[...i,{outlets:f}]}if(l.segmentPath)return[...i,l.segmentPath]}return"string"!=typeof l?[...i,l]:0===d?(l.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,l]},[]);return new kd(t,e,r)}(t);return l.toRoot()?Ss(e.root,e.root,new un([],{}),r,i):function d(_){const w=function Ef(n,e,t,r){if(n.isAbsolute)return new Nl(e.root,!0,0);if(-1===r)return new Nl(t,t===e.root,0);return function Fd(n,e,t){let r=n,i=e,l=t;for(;l>i;){if(l-=i,r=r.parent,!r)throw new c.vHH(4005,!1);i=r.segments.length}return new Nl(r,!1,i-l)}(t,r+(Nn(n.commands[0])?0:1),n.numberOfDoubleDots)}(l,e,n.snapshot?._urlSegment,_),S=w.processChildren?ka(w.segmentGroup,w.index,l.commands):Iu(w.segmentGroup,w.index,l.commands);return Ss(e.root,w.segmentGroup,S,r,i)}(n.snapshot?._lastPathIndex)}function Nn(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function bi(n){return"object"==typeof n&&null!=n&&n.outlets}function Ss(n,e,t,r,i){let d,l={};r&&hr(r,(_,w)=>{l[w]=Array.isArray(_)?_.map(S=>`${S}`):`${_}`}),d=n===e?t:Rd(n,e,t);const f=m(D(d));return new Al(f,l,i)}function Rd(n,e,t){const r={};return hr(n.children,(i,l)=>{r[l]=i===e?t:Rd(i,e,t)}),new un(n.segments,r)}class kd{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Nn(r[0]))throw new c.vHH(4003,!1);const i=r.find(bi);if(i&&i!==pf(r))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Nl{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Iu(n,e,t){if(n||(n=new un([],{})),0===n.segments.length&&n.hasChildren())return ka(n,e,t);const r=function ny(n,e,t){let r=0,i=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return l;const d=n.segments[i],f=t[r];if(bi(f))break;const _=`${f}`,w=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&w&&"object"==typeof w&&void 0===w.outlets){if(!wg(_,w,d))return l;r+=2}else{if(!wg(_,{},d))return l;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new un(n.segments.slice(0,r.pathIndex),{});return l.children[Zt]=new un(n.segments.slice(r.pathIndex),n.children),ka(l,0,i)}return r.match&&0===i.length?new un(n.segments,{}):r.match&&!n.hasChildren()?ar(n,e,t):r.match?ka(n,0,i):ar(n,e,t)}function ka(n,e,t){if(0===t.length)return new un(n.segments,{});{const r=function Eu(n){return bi(n[0])?n[0].outlets:{[Zt]:n}}(t),i={};return hr(r,(l,d)=>{"string"==typeof l&&(l=[l]),null!==l&&(i[d]=Iu(n.children[d],e,l))}),hr(n.children,(l,d)=>{void 0===r[d]&&(i[d]=l)}),new un(n.segments,i)}}function ar(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const l=t[i];if(bi(l)){const _=ry(l.outlets);return new un(r,_)}if(0===i&&Nn(t[0])){r.push(new Du(n.segments[e].path,db(t[0]))),i++;continue}const d=bi(l)?l.outlets[Zt]:`${l}`,f=i<t.length-1?t[i+1]:null;d&&f&&Nn(f)?(r.push(new Du(d,db(f))),i+=2):(r.push(new Du(d,{})),i++)}return new un(r,{})}function ry(n){const e={};return hr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=ar(new un([],{}),0,t))}),e}function db(n){const e={};return hr(n,(t,r)=>e[r]=`${t}`),e}function wg(n,e,t){return n==t.path&&Br(e,t.parameters)}class Pa{constructor(e,t){this.id=e,this.url=t}}class iy extends Pa{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Tu extends Pa{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Dg extends Pa{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class hb extends Pa{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class XC extends Pa{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class AA extends Pa{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class NA extends Pa{constructor(e,t,r,i,l){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=l,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class If extends Pa{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sy extends Pa{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fb{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pb{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class gb{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eE{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mb{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _b{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cg{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class yb{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Tf(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Tf(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Eg(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Eg(e,this._root).map(t=>t.value)}}function Tf(n,e){if(n===e.value)return e;for(const t of e.children){const r=Tf(n,t);if(r)return r}return null}function Eg(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Eg(n,t);if(r.length)return r.unshift(e),r}return[]}class Fa{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ao(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class vb extends yb{constructor(e,t){super(e),this.snapshot=t,Sf(this,e)}toString(){return this.snapshot.toString()}}function Ig(n,e){const t=function Tg(n,e){const d=new La([],{},{},"",{},Zt,e,null,n.root,-1,{});return new oy("",new Fa(d,[]))}(n,e),r=new pn([new Du("",{})]),i=new pn({}),l=new pn({}),d=new pn({}),f=new pn(""),_=new bc(r,i,d,f,l,Zt,e,t.root);return _.snapshot=t.root,new vb(new Fa(_,[]),t)}class bc{constructor(e,t,r,i,l,d,f,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=d,this.component=f,this.title=this.data?.pipe((0,mt.U)(w=>w[Gr]))??yt(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,mt.U)(e=>Io(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,mt.U)(e=>Io(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Sg(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],l=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(l.component)break;r--}}return function Ag(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class La{constructor(e,t,r,i,l,d,f,_,w,S,x,j){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=d,this.component=f,this.title=this.data?.[Gr],this.routeConfig=_,this._urlSegment=w,this._lastPathIndex=S,this._correctedLastPathIndex=j??S,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Io(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Io(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class oy extends yb{constructor(e,t){super(t),this.url=e,Sf(this,t)}toString(){return bb(this._root)}}function Sf(n,e){e.value._routerState=n,e.children.forEach(t=>Sf(n,t))}function bb(n){const e=n.children.length>0?` { ${n.children.map(bb).join(", ")} } `:"";return`${n.value}${e}`}function ay(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Br(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Br(e.params,t.params)||n.params.next(t.params),function To(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Br(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Br(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Ng(n,e){const t=Br(n.params,e.params)&&function Md(n,e){return aa(n,e)&&n.every((t,r)=>Br(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Ng(n.parent,e.parent))}function Af(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function tE(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Af(n,r,i);return Af(n,r)})}(n,e,t);return new Fa(r,i)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const d=l.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(f=>Af(n,f)),d}}const r=function nE(n){return new bc(new pn(n.url),new pn(n.params),new pn(n.queryParams),new pn(n.fragment),new pn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(l=>Af(n,l));return new Fa(r,i)}}const ly="ngNavigationCancelingError";function xg(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=V(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=wb(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function wb(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[ly]=!0,r.cancellationCode=e,t&&(r.url=t),r}function cy(n){return Db(n)&&V(n.url)}function Db(n){return n&&n[ly]}class Cb{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Mg,this.attachRef=null}}let Mg=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Cb,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Og=!1;let wc=(()=>{class n{constructor(t,r,i,l,d){this.parentContexts=t,this.location=r,this.changeDetector=l,this.environmentInjector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=i||Zt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,Og);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,Og);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,Og);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new c.vHH(4013,Og);this._activatedRoute=t;const i=this.location,d=t._futureSnapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,_=new rE(t,f,i.injector);if(r&&function Vd(n){return!!n.resolveComponentFactory}(r)){const w=r.resolveComponentFactory(d);this.activated=i.createComponent(w,i.length,_)}else this.activated=i.createComponent(d,{index:i.length,injector:_,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Mg),c.Y36(c.s_b),c.$8M("name"),c.Y36(c.sBO),c.Y36(c.lqb))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class rE{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===bc?this.route:e===Mg?this.childContexts:this.parent.get(e,t)}}let Su=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},dependencies:[wc],encapsulation:2}),n})();function Eb(n,e){return n.providers&&!n._injector&&(n._injector=(0,c.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function hy(n){const e=n.children&&n.children.map(hy),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Zt&&(t.component=Su),t}function No(n){return n.outlet||Zt}function Rg(n,e){const t=n.filter(r=>No(r)===e);return t.push(...n.filter(r=>No(r)!==e)),t}function kg(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class fy{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),ay(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Ao(t);e.children.forEach(l=>{const d=l.value.outlet;this.deactivateRoutes(l,i[d],r),delete i[d]}),hr(i,(l,d)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(i===l)if(i.component){const d=r.getContext(i.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=Ao(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],i);if(r&&r.outlet){const d=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=Ao(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Ao(t);e.children.forEach(l=>{this.activateRoutes(l,i[l.value.outlet],r),this.forwardEvent(new _b(l.value.snapshot))}),e.children.length&&this.forwardEvent(new eE(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(ay(i),i===l)if(i.component){const d=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const d=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),d.children.onOutletReAttached(f.contexts),d.attachRef=f.componentRef,d.route=f.route.value,d.outlet&&d.outlet.attach(f.componentRef,f.route.value),ay(f.route.value),this.activateChildRoutes(e,null,d.children)}else{const f=kg(i.snapshot),_=f?.get(c._Vd)??null;d.attachRef=null,d.route=i,d.resolver=_,d.injector=f,d.outlet&&d.outlet.activateWith(i,d.injector),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class sE{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class py{constructor(e,t){this.component=e,this.route=t}}function kA(n,e,t){const r=n._root;return xf(r,e?e._root:null,t,[r.value])}function Nf(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,c.Z0I)(n)?e.get(n):n:r}function xf(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=Ao(e);return n.children.forEach(d=>{(function Sb(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,d=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(d&&l.routeConfig===d.routeConfig){const _=function gy(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!aa(n.url,e.url);case"pathParamsOrQueryParamsChange":return!aa(n.url,e.url)||!Br(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ng(n,e)||!Br(n.queryParams,e.queryParams);default:return!Ng(n,e)}}(d,l,l.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new sE(r)):(l.data=d.data,l._resolvedData=d._resolvedData),xf(n,e,l.component?f?f.children:null:t,r,i),_&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new py(f.outlet.component,d))}else d&&Bd(e,f,i),i.canActivateChecks.push(new sE(r)),xf(n,null,l.component?f?f.children:null:t,r,i)})(d,l[d.value.outlet],t,r.concat([d.value]),i),delete l[d.value.outlet]}),hr(l,(d,f)=>Bd(d,t.getContext(f),i)),i}function Bd(n,e,t){const r=Ao(n),i=n.value;hr(r,(l,d)=>{Bd(l,i.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new py(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Ud(n){return"function"==typeof n}function Pg(n){return n instanceof Jo||"EmptyError"===n?.name}const Fg=Symbol("INITIAL_VALUE");function jd(){return dr(n=>Oa(n.map(e=>e.pipe(cn(1),Ts(Fg)))).pipe((0,mt.U)(e=>{for(const t of e)if(!0!==t){if(t===Fg)return Fg;if(!1===t||t instanceof Al)return t}return!0}),wr(e=>e!==Fg),cn(1)))}function Wi(n){return(0,mc.z)((0,Se.b)(e=>{if(V(e))throw xg(0,e)}),(0,mt.U)(e=>!0===e))}const Lg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Vg(n,e,t,r,i){const l=wi(n,e,t);return l.matched?function vy(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?yt(i.map(d=>{const f=Nf(d,n);return sa(function aE(n){return n&&Ud(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(jd(),Wi()):yt(!0)}(r=Eb(e,r),e,t).pipe((0,mt.U)(d=>!0===d?l:{...Lg})):yt(l)}function wi(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Lg}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||_c)(t,n,e);if(!i)return{...Lg};const l={};hr(i.posParams,(f,_)=>{l[_]=f.path});const d=i.consumed.length>0?{...l,...i.consumed[i.consumed.length-1].parameters}:l;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:d,positionalParamSegments:i.posParams??{}}}function Dc(n,e,t,r,i="corrected"){if(t.length>0&&function _E(n,e,t){return t.some(r=>Bg(n,e,r)&&No(r)!==Zt)}(n,t,r)){const d=new un(e,function mE(n,e,t,r){const i={};i[Zt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&No(l)!==Zt){const d=new un([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,i[No(l)]=d}return i}(n,e,r,new un(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function Mb(n,e,t){return t.some(r=>Bg(n,e,r))}(n,t,r)){const d=new un(n.segments,function xb(n,e,t,r,i,l){const d={};for(const f of r)if(Bg(n,t,f)&&!i[No(f)]){const _=new un([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===l?n.segments.length:e.length,d[No(f)]=_}return{...i,...d}}(n,e,t,r,n.children,i));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const l=new un(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function Bg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function by(n,e,t,r){return!!(No(n)===r||r!==Zt&&Bg(e,t,n))&&("**"===n.path||wi(e,n,t).matched)}function Ob(n,e,t){return 0===e.length&&!n.children[t]}const Of=!1;class Ug{constructor(e){this.segmentGroup=e||null}}class Rb{constructor(e){this.urlTree=e}}function Rf(n){return ea(new Ug(n))}function kb(n){return ea(new Rb(n))}class vE{constructor(e,t,r,i,l){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=l,this.allowRedirects=!0}apply(){const e=Dc(this.urlTree.root,[],[],this.config).segmentGroup,t=new un(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Zt).pipe((0,mt.U)(l=>this.createUrlTree(D(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Je(l=>{if(l instanceof Rb)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof Ug?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Zt).pipe((0,mt.U)(i=>this.createUrlTree(D(i),e.queryParams,e.fragment))).pipe(Je(i=>{throw i instanceof Ug?this.noMatchError(i):i}))}noMatchError(e){return new c.vHH(4002,Of)}createUrlTree(e,t,r){const i=m(e);return new Al(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,mt.U)(l=>new un([],l))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const l of Object.keys(r.children))"primary"===l?i.unshift(l):i.push(l);return(0,Tn.D)(i).pipe(de(l=>{const d=r.children[l],f=Rg(t,l);return this.expandSegmentGroup(e,f,d,l).pipe((0,mt.U)(_=>({segment:_,outlet:l})))}),jt((l,d)=>(l[d.outlet]=d.segment,l),{}),St())}expandSegment(e,t,r,i,l,d){return(0,Tn.D)(r).pipe(de(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,l,d).pipe(Je(w=>{if(w instanceof Ug)return yt(null);throw w}))),ee(f=>!!f),Je((f,_)=>{if(Pg(f))return Ob(t,i,l)?yt(new un([],{})):Rf(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,l,d,f){return by(i,t,l,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,l,d):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d):Rf(t):Rf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?kb(l):this.lineralizeSegments(r,l).pipe((0,T.z)(d=>{const f=new un(d,{});return this.expandSegment(e,f,t,d,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d){const{matched:f,consumedSegments:_,remainingSegments:w,positionalParamSegments:S}=wi(t,i,l);if(!f)return Rf(t);const x=this.applyRedirectCommands(_,i.redirectTo,S);return i.redirectTo.startsWith("/")?kb(x):this.lineralizeSegments(i,x).pipe((0,T.z)(j=>this.expandSegment(e,t,r,j.concat(w),d,!1)))}matchSegmentAgainstRoute(e,t,r,i,l){return"**"===r.path?(e=Eb(r,e),r.loadChildren?(r._loadedRoutes?yt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,mt.U)(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new un(i,{})))):yt(new un(i,{}))):Vg(t,r,i,e).pipe(dr(({matched:d,consumedSegments:f,remainingSegments:_})=>d?this.getChildConfig(e=r._injector??e,r,i).pipe((0,T.z)(S=>{const x=S.injector??e,j=S.routes,{segmentGroup:q,slicedSegments:re}=Dc(t,f,_,j),ve=new un(q.segments,q.children);if(0===re.length&&ve.hasChildren())return this.expandChildren(x,j,ve).pipe((0,mt.U)(_t=>new un(f,_t)));if(0===j.length&&0===re.length)return yt(new un(f,{}));const Ee=No(r)===l;return this.expandSegment(x,ve,j,re,Ee?Zt:l,!0).pipe((0,mt.U)(st=>new un(f.concat(st.segments),st.children)))})):Rf(t)))}getChildConfig(e,t,r){return t.children?yt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?yt({routes:t._loadedRoutes,injector:t._loadedInjector}):function gE(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?yt(!0):yt(i.map(d=>{const f=Nf(d,n);return sa(function my(n){return n&&Ud(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(jd(),Wi())}(e,t,r).pipe((0,T.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Se.b)(l=>{t._loadedRoutes=l.routes,t._loadedInjector=l.injector})):function $d(n){return ea(wb(Of,3))}())):yt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return yt(r);if(i.numberOfChildren>1||!i.children[Zt])return ea(new c.vHH(4e3,Of));i=i.children[Zt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const l=this.createSegmentGroup(e,t.root,r,i);return new Al(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return hr(e,(i,l)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[l]=t[f]}else r[l]=i}),r}createSegmentGroup(e,t,r,i){const l=this.createSegments(e,t.segments,r,i);let d={};return hr(t.children,(f,_)=>{d[_]=this.createSegmentGroup(e,f,r,i)}),new un(l,d)}createSegments(e,t,r,i){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,i):this.findOrReturn(l,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new c.vHH(4001,Of);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class LA{}class Va{constructor(e,t,r,i,l,d,f,_){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=l,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=f,this.urlSerializer=_}recognize(){const e=Dc(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Zt).pipe((0,mt.U)(t=>{if(null===t)return null;const r=new La([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Zt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Fa(r,t),l=new oy(this.url,i);return this.inheritParamsAndData(l._root),l}))}inheritParamsAndData(e){const t=e.value,r=Sg(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,Tn.D)(Object.keys(r.children)).pipe(de(i=>{const l=r.children[i],d=Rg(t,i);return this.processSegmentGroup(e,d,l,i)}),jt((i,l)=>i&&l?(i.push(...l),i):null),function gr(n,e=!1){return(0,Fn.e)((t,r)=>{let i=0;t.subscribe((0,zn.x)(r,l=>{const d=n(l,i++);(d||e)&&r.next(l),!d&&r.complete()}))})}(i=>null!==i),A(null),St(),(0,mt.U)(i=>{if(null===i)return null;const l=Ey(i);return function Dy(n){n.sort((e,t)=>e.value.outlet===Zt?-1:t.value.outlet===Zt?1:e.value.outlet.localeCompare(t.value.outlet))}(l),l}))}processSegment(e,t,r,i,l){return(0,Tn.D)(t).pipe(de(d=>this.processSegmentAgainstRoute(d._injector??e,d,r,i,l)),ee(d=>!!d),Je(d=>{if(Pg(d))return Ob(r,i,l)?yt([]):yt(null);throw d}))}processSegmentAgainstRoute(e,t,r,i,l){if(t.redirectTo||!by(t,r,i,l))return yt(null);let d;if("**"===t.path){const f=i.length>0?pf(i).parameters:{},_=Fb(r)+i.length;d=yt({snapshot:new La(i,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jg(t),No(t),t.component??t._loadedComponent??null,t,Hd(r),_,$g(t),_),consumedSegments:[],remainingSegments:[]})}else d=Vg(r,t,i,e).pipe((0,mt.U)(({matched:f,consumedSegments:_,remainingSegments:w,parameters:S})=>{if(!f)return null;const x=Fb(r)+_.length;return{snapshot:new La(_,S,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jg(t),No(t),t.component??t._loadedComponent??null,t,Hd(r),x,$g(t),x),consumedSegments:_,remainingSegments:w}}));return d.pipe(dr(f=>{if(null===f)return yt(null);const{snapshot:_,consumedSegments:w,remainingSegments:S}=f;e=t._injector??e;const x=t._loadedInjector??e,j=function Cy(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:q,slicedSegments:re}=Dc(r,w,S,j.filter(Ee=>void 0===Ee.redirectTo),this.relativeLinkResolution);if(0===re.length&&q.hasChildren())return this.processChildren(x,j,q).pipe((0,mt.U)(Ee=>null===Ee?null:[new Fa(_,Ee)]));if(0===j.length&&0===re.length)return yt([new Fa(_,[])]);const ve=No(t)===l;return this.processSegment(x,j,q,re,ve?Zt:l).pipe((0,mt.U)(Ee=>null===Ee?null:[new Fa(_,Ee)]))}))}}function wE(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Ey(n){const e=[],t=new Set;for(const r of n){if(!wE(r)){e.push(r);continue}const i=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Ey(r.children);e.push(new Fa(r.value,i))}return e.filter(r=>!t.has(r))}function Hd(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Fb(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function jg(n){return n.data||{}}function $g(n){return n.resolve||{}}function Hg(n){return"string"==typeof n.title||null===n.title}function Ty(n){return dr(e=>{const t=n(e);return t?(0,Tn.D)(t).pipe((0,mt.U)(()=>e)):yt(e)})}let Ub=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(l=>l.outlet===Zt);return r}getResolvedTitleForRoute(t){return t.data[Gr]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(jb)},providedIn:"root"}),n})(),jb=(()=>{class n extends Ub{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Cs))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class EE{}class $b extends class IE{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const kf=new c.OlP("",{providedIn:"root",factory:()=>({})}),Ay=new c.OlP("ROUTES");let Ny=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return yt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=sa(t.loadComponent()).pipe((0,Se.b)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=l}),ra(()=>{this.componentLoaders.delete(t)})),i=new na(r,()=>new Jn.x).pipe(ta());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return yt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const l=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,mt.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,w,S=!1;Array.isArray(f)?w=f:(_=f.create(t).injector,w=gg(_.get(Ay,[],c.XFs.Self|c.XFs.Optional)));return{routes:w.map(hy),injector:_}}),ra(()=>{this.childrenLoaders.delete(r)})),d=new na(l,()=>new Jn.x).pipe(ta());return this.childrenLoaders.set(r,d),d}loadModuleFactoryOrRoutes(t){return sa(t()).pipe((0,T.z)(r=>r instanceof c.YKP||Array.isArray(r)?yt(r):(0,Tn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3),c.LFG(c.Sil))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Hb{}class Gb{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Wb(n){throw n}function zb(n,e,t){return e.parse("/")}const TE={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function qb(){const n=(0,c.f3M)(yf),e=(0,c.f3M)(Mg),t=(0,c.f3M)(Be),r=(0,c.f3M)(c.zs3),i=(0,c.f3M)(c.Sil),l=(0,c.f3M)(Ay,{optional:!0})??[],d=(0,c.f3M)(kf,{optional:!0})??{},f=(0,c.f3M)(jb),_=(0,c.f3M)(Ub,{optional:!0}),w=(0,c.f3M)(Hb,{optional:!0}),S=(0,c.f3M)(EE,{optional:!0}),x=new Dr(null,n,e,t,r,i,gg(l));return w&&(x.urlHandlingStrategy=w),S&&(x.routeReuseStrategy=S),x.titleStrategy=_??f,function Wg(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,x),x}let Dr=(()=>{class n{constructor(t,r,i,l,d,f,_){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=l,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Jn.x,this.errorHandler=Wb,this.malformedUriErrorHandler=zb,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>yt(void 0),this.urlHandlingStrategy=new Gb,this.routeReuseStrategy=new $b,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=d.get(Ny),this.configLoader.onLoadEndListener=j=>this.triggerEvent(new pb(j)),this.configLoader.onLoadStartListener=j=>this.triggerEvent(new fb(j)),this.ngModule=d.get(c.h0i),this.console=d.get(c.c2e);const x=d.get(c.R0b);this.isNgZoneEnabled=x instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function mg(){return new Al(new un([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ig(this.currentUrlTree,this.rootComponentType),this.transitions=new pn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(wr(i=>0!==i.id),(0,mt.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),dr(i=>{let l=!1,d=!1;return yt(i).pipe((0,Se.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),dr(f=>{const _=this.browserUrlTree.toString(),w=!this.navigated||f.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return xy(f.source)&&(this.browserUrlTree=f.extractedUrl),yt(f).pipe(dr(x=>{const j=this.transitions.getValue();return r.next(new iy(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),j!==this.transitions.getValue()?Vr.E:Promise.resolve(x)}),function bE(n,e,t,r){return dr(i=>function xl(n,e,t,r,i){return new vE(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,mt.U)(l=>({...i,urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Se.b)(x=>{this.currentNavigation={...this.currentNavigation,finalUrl:x.urlAfterRedirects},i.urlAfterRedirects=x.urlAfterRedirects}),function Vb(n,e,t,r,i,l){return(0,T.z)(d=>function VA(n,e,t,r,i,l,d="emptyOnly",f="legacy"){return new Va(n,e,t,r,i,d,f,l).recognize().pipe(dr(_=>null===_?function Pb(n){return new ur.y(e=>e.error(n))}(new LA):yt(_)))}(n,e,t,d.urlAfterRedirects,r.serialize(d.urlAfterRedirects),r,i,l).pipe((0,mt.U)(f=>({...d,targetSnapshot:f}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Se.b)(x=>{if(i.targetSnapshot=x.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!x.extras.skipLocationChange){const q=this.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);this.setBrowserUrl(q,x)}this.browserUrlTree=x.urlAfterRedirects}const j=new XC(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);r.next(j)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:j,extractedUrl:q,source:re,restoredState:ve,extras:Ee}=f,nt=new iy(j,this.serializeUrl(q),re,ve);r.next(nt);const st=Ig(q,this.rootComponentType).snapshot;return yt(i={...f,targetSnapshot:st,urlAfterRedirects:q,extras:{...Ee,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=f.rawUrl,f.resolve(null),Vr.E}),(0,Se.b)(f=>{const _=new AA(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}),(0,mt.U)(f=>i={...f,guards:kA(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),function cE(n,e){return(0,T.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:l,canDeactivateChecks:d}}=t;return 0===d.length&&0===l.length?yt({...t,guardsResult:!0}):function uE(n,e,t,r){return(0,Tn.D)(n).pipe((0,T.z)(i=>function pE(n,e,t,r,i){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?yt(l.map(f=>{const _=kg(e)??i,w=Nf(f,_);return sa(function Mf(n){return n&&Ud(n.canDeactivate)}(w)?w.canDeactivate(n,e,t,r):_.runInContext(()=>w(n,e,t,r))).pipe(ee())})).pipe(jd()):yt(!0)}(i.component,i.route,t,e,r)),ee(i=>!0!==i,!0))}(d,r,i,n).pipe((0,T.z)(f=>f&&function Ab(n){return"boolean"==typeof n}(f)?function yy(n,e,t,r){return(0,Tn.D)(e).pipe(de(i=>Eo(function hE(n,e){return null!==n&&e&&e(new gb(n)),yt(!0)}(i.route.parent,r),function dE(n,e){return null!==n&&e&&e(new mb(n)),yt(!0)}(i.route,r),function Nb(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(d=>function PA(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>ls(()=>yt(d.guards.map(_=>{const w=kg(d.node)??t,S=Nf(_,w);return sa(function _y(n){return n&&Ud(n.canActivateChild)}(S)?S.canActivateChild(r,n):w.runInContext(()=>S(r,n))).pipe(ee())})).pipe(jd())));return yt(l).pipe(jd())}(n,i.path,t),function fE(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return yt(!0);const i=r.map(l=>ls(()=>{const d=kg(e)??t,f=Nf(l,d);return sa(function oE(n){return n&&Ud(n.canActivate)}(f)?f.canActivate(e,n):d.runInContext(()=>f(e,n))).pipe(ee())}));return yt(i).pipe(jd())}(n,i.route,t))),ee(i=>!0!==i,!0))}(r,l,n,e):yt(f)),(0,mt.U)(f=>({...t,guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,Se.b)(f=>{if(i.guardsResult=f.guardsResult,V(f.guardsResult))throw xg(0,f.guardsResult);const _=new NA(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(_)}),wr(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,"",3),!1)),Ty(f=>{if(f.guards.canActivateChecks.length)return yt(f).pipe((0,Se.b)(_=>{const w=new If(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}),dr(_=>{let w=!1;return yt(_).pipe(function BA(n,e){return(0,T.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return yt(t);let l=0;return(0,Tn.D)(i).pipe(de(d=>function Gd(n,e,t,r){const i=n.routeConfig,l=n._resolve;return void 0!==i?.title&&!Hg(i)&&(l[Gr]=i.title),function Iy(n,e,t,r){const i=function Bb(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return yt({});const l={};return(0,Tn.D)(i).pipe((0,T.z)(d=>function CE(n,e,t,r){const i=kg(e)??r,l=Nf(n,i);return sa(l.resolve?l.resolve(e,t):i.runInContext(()=>l(e,t)))}(n[d],e,t,r).pipe(ee(),(0,Se.b)(f=>{l[d]=f}))),qt(1),Hr(l),Je(d=>Pg(d)?Vr.E:ea(d)))}(l,n,e,r).pipe((0,mt.U)(d=>(n._resolvedData=d,n.data=Sg(n,t).resolve,i&&Hg(i)&&(n.data[Gr]=i.title),null)))}(d.route,r,n,e)),(0,Se.b)(()=>l++),qt(1),(0,T.z)(d=>l===i.length?yt(t):Vr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Se.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(_),this.cancelNavigationTransition(_,"",2))}}))}),(0,Se.b)(_=>{const w=new sy(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}))}),Ty(f=>{const _=w=>{const S=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&S.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,Se.b)(x=>{w.component=x}),(0,mt.U)(()=>{})));for(const x of w.children)S.push(..._(x));return S};return Oa(_(f.targetSnapshot.root)).pipe(A(),cn(1))}),Ty(()=>this.afterPreactivation()),(0,mt.U)(f=>{const _=function Ld(n,e,t){const r=Af(n,e._root,t?t._root:void 0);return new vb(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return i={...f,targetRouterState:_}}),(0,Se.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,mt.U)(r=>(new fy(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,Se.b)({next(){l=!0},complete(){l=!0}}),ra(()=>{l||d||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Je(f=>{if(d=!0,Db(f)){cy(f)||(this.navigated=!0,this.restoreHistory(i,!0));const _=new Dg(i.id,this.serializeUrl(i.extractedUrl),f.message,f.cancellationCode);if(r.next(_),cy(f)){const w=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),S={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||xy(i.source)};this.scheduleNavigation(w,"imperative",null,S,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const _=new hb(i.id,this.serializeUrl(i.extractedUrl),f,i.targetSnapshot??void 0);r.next(_);try{i.resolve(this.errorHandler(f))}catch(w){i.reject(w)}}return Vr.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},l=t.state?.navigationId?t.state:null;if(l){const f={...l};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(i.state=f)}const d=this.parseUrl(t.url);this.scheduleNavigation(d,r,l,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(hy),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:l,fragment:d,queryParamsHandling:f,preserveFragment:_}=r,w=i||this.routerState.root,S=_?this.currentUrlTree.fragment:d;let x=null;switch(f){case"merge":x={...this.currentUrlTree.queryParams,...l};break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=l||null}return null!==x&&(x=this.removeEmptyProps(x)),an(w,this.currentUrlTree,t,x,S??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=V(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function Zb(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new c.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...TE}:!1===r?{...jA}:r,V(t))return J_(this.currentUrlTree,t,i);const l=this.parseUrl(t);return J_(this.currentUrlTree,l,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const l=t[i];return null!=l&&(r[i]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Tu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,l,d){if(this.disposed)return Promise.resolve(!1);let f,_,w;d?(f=d.resolve,_=d.reject,w=d.promise):w=new Promise((j,q)=>{f=j,_=q});const S=++this.navigationId;let x;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),x=i&&i.\u0275routerPageId?i.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):x=0,this.setTransition({id:S,targetPageId:x,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:f,reject:_,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(j=>Promise.reject(j))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),l={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",l):this.location.go(i,"",l)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const l=new Dg(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(l),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:function(){return qb()},providedIn:"root"}),n})();function xy(n){return"imperative"!==n}let Wd=(()=>{class n{constructor(t,r,i,l,d){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=l,this.el=d,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Jn.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,c.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,c.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,c.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Dr),c.Y36(bc),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&c.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),n})(),Pf=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Jn.x,this.subscription=t.events.subscribe(l=>{l instanceof Tu&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,c.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,c.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,c.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,l,d){return!!(0!==t||r||i||l||d||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Dr),c.Y36(bc),c.Y36(Ie))},n.\u0275dir=c.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&c.NdJ("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&c.uIk("target",r.target)("href",r.href,c.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),n})();class My{}let Oy=(()=>{class n{constructor(t,r,i,l,d){this.router=t,this.injector=i,this.preloadingStrategy=l,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(wr(t=>t instanceof Tu),de(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const l of r){l.providers&&!l._injector&&(l._injector=(0,c.MMx)(l.providers,t,`Route: ${l.path}`));const d=l._injector??t,f=l._loadedInjector??d;l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent?i.push(this.preloadConfig(d,l)):(l.children||l._loadedRoutes)&&i.push(this.processRoutes(f,l.children??l._loadedRoutes))}return(0,Tn.D)(i).pipe((0,Ra.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):yt(null);const l=i.pipe((0,T.z)(d=>null===d?yt(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??t,d.routes))));if(r.loadComponent&&!r._loadedComponent){const d=this.loader.loadComponent(r);return(0,Tn.D)([l,d]).pipe((0,Ra.J)())}return l})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Dr),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(My),c.LFG(Ny))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Au=new c.OlP("");let Yb=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof iy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Tu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Cg&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Cg(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Nu(n,e){return{\u0275kind:n,\u0275providers:e}}function Lf(n){return[{provide:Ay,multi:!0,useValue:n}]}function NE(){const n=(0,c.f3M)(c.zs3);return e=>{const t=n.get(c.z2F);if(e!==t.components[0])return;const r=n.get(Dr),i=n.get(Ry);1===n.get(ky)&&r.initialNavigation(),n.get(xo,null,c.XFs.Optional)?.setUpPreloading(),n.get(Au,null,c.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.next(),i.complete()}}const Ry=new c.OlP("",{factory:()=>new Jn.x}),ky=new c.OlP("",{providedIn:"root",factory:()=>1});const xo=new c.OlP("");function OE(n){return Nu(0,[{provide:xo,useExisting:Oy},{provide:My,useExisting:n}])}const Xb=new c.OlP("ROUTER_FORROOT_GUARD"),kE=[Be,{provide:yf,useClass:yc},{provide:Dr,useFactory:qb},Mg,{provide:bc,useFactory:function Qb(n){return n.routerState.root},deps:[Dr]},Ny];function ew(){return new c.PXZ("Router",Dr)}let tw=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[kE,[],Lf(t),{provide:Xb,useFactory:nw,deps:[[Dr,new c.FiY,new c.tp0]]},{provide:kf,useValue:r||{}},r?.useHash?{provide:Ie,useClass:rt}:{provide:Ie,useClass:$e},{provide:Au,useFactory:()=>{const n=(0,c.f3M)(Dr),e=(0,c.f3M)(tc),t=(0,c.f3M)(kf);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Yb(n,e,t)}},r?.preloadingStrategy?OE(r.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:ew},r?.initialNavigation?rw(r):[],[{provide:Py,useFactory:NE},{provide:c.tb,multi:!0,useExisting:Py}]]}}static forChild(t){return{ngModule:n,providers:[Lf(t)]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Xb,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Su]}),n})();function nw(n){return"guarded"}function rw(n){return["disabled"===n.initialNavigation?Nu(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const e=(0,c.f3M)(Dr);return()=>{e.setUpLocationChangeListener()}}},{provide:ky,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Nu(2,[{provide:ky,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:e=>{const t=e.get(Y,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(l=>{const d=e.get(Dr),f=e.get(Ry);(function i(l){e.get(Dr).events.pipe(wr(f=>f instanceof Tu||f instanceof Dg||f instanceof hb),(0,mt.U)(f=>f instanceof Tu||f instanceof Dg&&(0===f.code||1===f.code)&&null),wr(f=>null!==f),cn(1)).subscribe(()=>{l()})})(()=>{l(!0),r=!0}),d.afterPreactivation=()=>(l(!0),r||f.closed?yt(void 0):f),d.initialNavigation()}))}}]).\u0275providers:[]]}const Py=new c.OlP("");var iw=B(5226),Mo=B.n(iw);class Kg{constructor(e=(new Date).getTime(),t="",r="",i=[],l=(new Date).getTime(),d=(new Date).getTime(),f=1){this.id=e,this.name=t,this.email=r,this.birthday=l,this.phones=i,this.createdDate=d,this.status=f}toFirebase(){return{id:this.id,name:this.name,email:this.email,phones:this.phones,birthday:this.birthday,createdDate:this.createdDate,status:this.status}}static fromFirebaseToClass(e){return new Kg(e.id,e.name||"",e.email||"",e.phones||[],e.birthday||0,e.createdDate||"",e.status||0)}}var Fy=B(4986),Rn=B(5813);function sw(){return(0,Fn.e)((n,e)=>{let t,r=!1;n.subscribe((0,zn.x)(e,i=>{const l=t;t=i,r&&e.next([l,i]),r=!0}))})}function ow(n,e){return n===e}var At,Ni=B(2011),Ly=(B(5881),B(3942)),Ne=B(5861),Ml=B(9681),Vy=B(4859),xu=B(1877),xn=B(2090),VE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ua={},By=By||{},$t=VE||self;function Yg(){}function Bf(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Cc(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Qg="closure_uid_"+(1e9*Math.random()>>>0),UE=0;function jE(n,e,t){return n.call.apply(n.bind,arguments)}function $E(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function zi(n,e,t){return(zi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?jE:$E).apply(null,arguments)}function Jg(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Di(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,l){for(var d=Array(arguments.length-2),f=2;f<arguments.length;f++)d[f-2]=arguments[f];return e.prototype[i].apply(r,d)}}function Ec(){this.s=this.s,this.o=this.o}Ec.prototype.s=!1,Ec.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function BE(n){Object.prototype.hasOwnProperty.call(n,Qg)&&n[Qg]||(n[Qg]=++UE)}(this)},Ec.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Uy=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Uf(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function HE(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Bf(r)){const i=n.length||0,l=r.length||0;n.length=i+l;for(let d=0;d<l;d++)n[i+d]=r[d]}else n.push(r)}}function Ci(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Ci.prototype.h=function(){this.defaultPrevented=!0};var GE=function(){if(!$t.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{$t.addEventListener("test",Yg,e),$t.removeEventListener("test",Yg,e)}catch{}return n}();function jy(n){return/^[\s\xa0]*$/.test(n)}var Mu=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Xg(n,e){return n<e?-1:n>e?1:0}function jf(){var n=$t.navigator;return n&&(n=n.userAgent)?n:""}function Qs(n){return-1!=jf().indexOf(n)}function Js(n){return Js[" "](n),n}Js[" "]=Yg;var Hf,n,WE=Qs("Opera"),Ic=Qs("Trident")||Qs("MSIE"),ja=Qs("Edge"),$f=ja||Ic,$y=Qs("Gecko")&&!(-1!=jf().toLowerCase().indexOf("webkit")&&!Qs("Edge"))&&!(Qs("Trident")||Qs("MSIE"))&&!Qs("Edge"),Hy=-1!=jf().toLowerCase().indexOf("webkit")&&!Qs("Edge");function zE(){var n=$t.document;return n?n.documentMode:void 0}e:{var cw="",zd=(n=jf(),$y?/rv:([^\);]+)(\)|;)/.exec(n):ja?/Edge\/([\d\.]+)/.exec(n):Ic?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Hy?/WebKit\/(\S+)/.exec(n):WE?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(zd&&(cw=zd?zd[1]:""),Ic){var qd=zE();if(null!=qd&&qd>parseFloat(cw)){Hf=String(qd);break e}}Hf=cw}var Gy={};var ZE=$t.document&&Ic&&(zE()||parseInt(Hf,10))||void 0;function Wf(n,e){if(Ci.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if($y){e:{try{Js(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:KE[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Wf.X.h.call(this)}}Di(Wf,Ci);var KE={2:"touch",3:"pen",4:"mouse"};Wf.prototype.h=function(){Wf.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var zf="closure_listenable_"+(1e6*Math.random()|0),uw=0;function zA(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++uw,this.ba=this.ea=!1}function em(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function dw(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function zy(n){const e={};for(const t in n)e[t]=n[t];return e}const qy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hw(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let l=0;l<qy.length;l++)t=qy[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Zd(n){this.src=n,this.g={},this.h=0}function fw(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],i=Uy(r,e);(l=0<=i)&&Array.prototype.splice.call(r,i,1),l&&(em(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function pw(n,e,t,r){for(var i=0;i<n.length;++i){var l=n[i];if(!l.ba&&l.listener==e&&l.capture==!!t&&l.ha==r)return i}return-1}Zd.prototype.add=function(n,e,t,r,i){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var d=pw(n,e,r,i);return-1<d?(e=n[d],t||(e.ea=!1)):((e=new zA(e,this.src,l,!!r,i)).ea=t,n.push(e)),e};var gw="closure_lm_"+(1e6*Math.random()|0),mw={};function YE(n,e,t,r,i){if(r&&r.once)return JE(n,e,t,r,i);if(Array.isArray(e)){for(var l=0;l<e.length;l++)YE(n,e[l],t,r,i);return null}return t=qf(t),n&&n[zf]?n.N(e,t,Cc(r)?!!r.capture:!!r,i):QE(n,e,t,!1,r,i)}function QE(n,e,t,r,i,l){if(!e)throw Error("Invalid event type");var d=Cc(i)?!!i.capture:!!i,f=Ky(n);if(f||(n[gw]=f=new Zd(n)),(t=f.add(e,t,r,d,l)).proxy)return t;if(r=function qA(){const e=Zy;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)GE||(i=d),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Ol(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function JE(n,e,t,r,i){if(Array.isArray(e)){for(var l=0;l<e.length;l++)JE(n,e[l],t,r,i);return null}return t=qf(t),n&&n[zf]?n.O(e,t,Cc(r)?!!r.capture:!!r,i):QE(n,e,t,!0,r,i)}function XE(n,e,t,r,i){if(Array.isArray(e))for(var l=0;l<e.length;l++)XE(n,e[l],t,r,i);else r=Cc(r)?!!r.capture:!!r,t=qf(t),n&&n[zf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=pw(l=n.g[e],t,r,i))&&(em(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=Ky(n))&&(e=n.g[e.toString()],n=-1,e&&(n=pw(e,t,r,i)),(t=-1<n?e[n]:null)&&_w(t))}function _w(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[zf])fw(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Ol(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Ky(e))?(fw(t,n),0==t.h&&(t.src=null,e[gw]=null)):em(n)}}}function Ol(n){return n in mw?mw[n]:mw[n]="on"+n}function Zy(n,e){if(n.ba)n=!0;else{e=new Wf(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&_w(n),n=t.call(r,e)}return n}function Ky(n){return(n=n[gw])instanceof Zd?n:null}var tm="__closure_events_fn_"+(1e9*Math.random()>>>0);function qf(n){return"function"==typeof n?n:(n[tm]||(n[tm]=function(e){return n.handleEvent(e)}),n[tm])}function ni(){Ec.call(this),this.i=new Zd(this),this.P=this,this.I=null}function ri(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Ci(e,n);else if(e instanceof Ci)e.target=e.target||n;else{var i=e;hw(e=new Ci(r,n),i)}if(i=!0,t)for(var l=t.length-1;0<=l;l--){var d=e.g=t[l];i=nm(d,r,!0,e)&&i}if(i=nm(d=e.g=n,r,!0,e)&&i,i=nm(d,r,!1,e)&&i,t)for(l=0;l<t.length;l++)i=nm(d=e.g=t[l],r,!1,e)&&i}function nm(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,l=0;l<e.length;++l){var d=e[l];if(d&&!d.ba&&d.capture==t){var f=d.listener,_=d.ha||d.src;d.ea&&fw(n.i,d),i=!1!==f.call(_,r)&&i}}return i&&!r.defaultPrevented}Di(ni,Ec),ni.prototype[zf]=!0,ni.prototype.removeEventListener=function(n,e,t,r){XE(this,n,e,t,r)},ni.prototype.M=function(){if(ni.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)em(t[r]);delete n.g[e],n.h--}}this.I=null},ni.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},ni.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var $a=$t.JSON.stringify;function yw(){var n=Ou;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Kd,vw=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new bw,n=>n.reset());class bw{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function tI(n){$t.setTimeout(()=>{throw n},0)}function ww(n,e){Kd||function Yd(){var n=$t.Promise.resolve(void 0);Kd=function(){n.then(Yy)}}(),Zf||(Kd(),Zf=!0),Ou.add(n,e)}var Zf=!1,Ou=new class eI{constructor(){this.h=this.g=null}add(e,t){const r=vw.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Yy(){for(var n;n=yw();){try{n.h.call(n.g)}catch(t){tI(t)}var e=vw;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Zf=!1}function Ru(n,e){ni.call(this),this.h=n||1,this.g=e||$t,this.j=zi(this.lb,this),this.l=Date.now()}function rm(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function im(n,e,t){if("function"==typeof n)t&&(n=zi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=zi(n.handleEvent,n)}return 2147483647<Number(e)?-1:$t.setTimeout(n,e||0)}function sm(n){n.g=im(()=>{n.g=null,n.i&&(n.i=!1,sm(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Di(Ru,ni),(At=Ru.prototype).ca=!1,At.R=null,At.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ri(this,"tick"),this.ca&&(rm(this),this.start()))}},At.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},At.M=function(){Ru.X.M.call(this),rm(this),delete this.g};class Qy extends Ec{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:sm(this)}M(){super.M(),this.g&&($t.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qd(n){Ec.call(this),this.h=n,this.g={}}Di(Qd,Ec);var om=[];function Dw(n,e,t,r){Array.isArray(t)||(t&&(om[0]=t.toString()),t=om);for(var i=0;i<t.length;i++){var l=YE(e,t[i],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function nI(n){dw(n.g,function(e,t){this.g.hasOwnProperty(t)&&_w(e)},n),n.g={}}function am(){this.g=!0}function ku(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function iI(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var l=i[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var d=1;d<i.length;d++)i[d]=""}}}return $a(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Qd.prototype.M=function(){Qd.X.M.call(this),nI(this)},Qd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},am.prototype.Aa=function(){this.g=!1},am.prototype.info=function(){};var ii={},Jy=null;function lm(){return Jy=Jy||new ni}function sI(n){Ci.call(this,ii.Pa,n)}function Kf(n){const e=lm();ri(e,new sI(e))}function cm(n,e){Ci.call(this,ii.STAT_EVENT,n),this.stat=e}function qi(n){const e=lm();ri(e,new cm(e,n))}function Iw(n,e){Ci.call(this,ii.Qa,n),this.size=e}function Yf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return $t.setTimeout(function(){n()},e)}ii.Pa="serverreachability",Di(sI,Ci),ii.STAT_EVENT="statevent",Di(cm,Ci),ii.Qa="timingevent",Di(Iw,Ci);var um={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Xy={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function ev(){}function Tw(){}ev.prototype.h=null;var nv,Qf={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function dm(){Ci.call(this,"d")}function hm(){Ci.call(this,"c")}function Xs(){}function Pu(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new Qd(this),this.O=oI,this.T=new Ru(n=$f?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Sw}function Sw(){this.i=null,this.g="",this.h=!1}Di(dm,Ci),Di(hm,Ci),Di(Xs,ev),Xs.prototype.g=function(){return new XMLHttpRequest},Xs.prototype.i=function(){return{}},nv=new Xs;var oI=45e3,Aw={},Jf={};function rv(n,e,t){n.K=1,n.v=th(xi(e)),n.s=t,n.P=!0,Nw(n,null)}function Nw(n,e){n.F=Date.now(),Xf(n),n.A=xi(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),pm(t.i,"t",r),n.C=0,t=n.l.H,n.h=new Sw,n.g=Dm(n.l,t?e:null,!n.s),0<n.N&&(n.L=new Qy(zi(n.La,n,n.g),n.N)),Dw(n.S,n.g,"readystatechange",n.ib),e=n.H?zy(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Kf(),function Cw(n,e,t,r,i,l){n.info(function(){if(n.g)if(l)for(var d="",f=l.split("&"),_=0;_<f.length;_++){var w=f[_].split("=");if(1<w.length){var S=w[0];w=w[1];var x=S.split("_");d=2<=x.length&&"type"==x[1]?d+(S+"=")+w+"&":d+(S+"=redacted&")}}else d=null;else d=l;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.U,n.s)}function xw(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function fm(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=aI(n,t),i==Jf){4==e&&(n.o=4,qi(14),r=!1),ku(n.j,n.m,null,"[Incomplete Response]");break}if(i==Aw){n.o=4,qi(15),ku(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}ku(n.j,n.m,i,null),tp(n,i)}xw(n)&&i!=Jf&&i!=Aw&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,qi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),dh(e),e.K=!0,qi(11))):(ku(n.j,n.m,t,"[Invalid Chunked Response]"),Xd(n),Tc(n))}function aI(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Jf:(t=Number(e.substring(t,r)),isNaN(t)?Aw:(r+=1)+t>e.length?Jf:(e=e.substr(r,t),n.C=r+t,e))}function Xf(n){n.V=Date.now()+n.O,ep(n,n.O)}function ep(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Yf(zi(n.gb,n),e)}function Jd(n){n.B&&($t.clearTimeout(n.B),n.B=null)}function Tc(n){0==n.l.G||n.I||Uw(n.l,n)}function Xd(n){Jd(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,rm(n.T),nI(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function tp(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||lv(t.h,n)))if(!n.J&&lv(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;hh(t),ip(t)}gv(t),qi(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=Yf(zi(t.cb,t),6e3));if(1>=Fw(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Pl(t,11)}else if((n.J||t.g==n)&&hh(t),!jy(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let w=i[e];if(t.T=w[0],w=w[1],2==t.G)if("c"==w[0]){t.I=w[1],t.ka=w[2];const S=w[3];null!=S&&(t.ma=S,t.j.info("VER="+t.ma));const x=w[4];null!=x&&(t.Ca=x,t.j.info("SVER="+t.Ca));const j=w[5];null!=j&&"number"==typeof j&&0<j&&(t.J=r=1.5*j,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const q=n.g;if(q){const re=q.g?q.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(re){var l=r.h;l.g||-1==re.indexOf("spdy")&&-1==re.indexOf("quic")&&-1==re.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(sh(l,l.h),l.h=null))}if(r.D){const ve=q.g?q.g.getResponseHeader("X-HTTP-Session-Id"):null;ve&&(r.za=ve,mr(r.F,r.D,ve))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var d=n;if((r=t).sa=_v(r,r.H?r.ka:null,r.V),d.J){Ac(r.h,d);var f=d,_=r.J;_&&f.setTimeout(_),f.B&&(Jd(f),Xf(f)),r.g=d}else bm(r);0<t.i.length&&ym(t)}else"stop"!=w[0]&&"close"!=w[0]||Pl(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?Pl(t,7):_m(t):"noop"!=w[0]&&t.l&&t.l.wa(w),t.A=0)}Kf()}catch{}}function iv(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Bf(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Mw(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Bf(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function ZA(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Bf(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,l=0;l<i;l++)e.call(void 0,r[l],t&&t[l],n)}(At=Pu.prototype).setTimeout=function(n){this.O=n},At.ib=function(n){n=n.target;const e=this.L;e&&3==Ha(n)?e.l():this.La(n)},At.La=function(n){try{if(n==this.g)e:{const S=Ha(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>S)&&(3!=S||$f||this.g&&(this.h.h||this.g.fa()||hv(this.g)))){this.I||4!=S||7==e||Kf(),Jd(this);var t=this.g.aa();this.Y=t;t:if(xw(this)){var r=hv(this.g);n="";var i=r.length,l=4==Ha(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Xd(this),Tc(this);var d="";break t}this.h.i=new $t.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.fa();if(this.i=200==t,function rI(n,e,t,r,i,l,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+l+" "+d})}(this.j,this.u,this.A,this.m,this.U,S,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!jy(f)){var w=f;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,qi(12),Xd(this),Tc(this);break e}ku(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,tp(this,t)}this.P?(fm(this,S,d),$f&&this.i&&3==S&&(Dw(this.S,this.T,"tick",this.hb),this.T.start())):(ku(this.j,this.m,d,null),tp(this,d)),4==S&&Xd(this),this.i&&!this.I&&(4==S?Uw(this.l,this):(this.i=!1,Xf(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,qi(12)):(this.o=0,qi(13)),Xd(this),Tc(this)}}}catch{}},At.hb=function(){if(this.g){var n=Ha(this.g),e=this.g.fa();this.C<e.length&&(Jd(this),fm(this,n,e),this.i&&4!=n&&Xf(this))}},At.cancel=function(){this.I=!0,Xd(this)},At.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function Ew(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Kf(),qi(17)),Xd(this),this.o=2,Tc(this)):ep(this,this.V-n)};var sv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rl(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Rl){this.h=void 0!==e?e:n.h,Fu(this,n.j),this.s=n.s,this.g=n.g,Lu(this,n.m),this.l=n.l,e=n.i;var t=new rp;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),eh(this,t),this.o=n.o}else n&&(t=String(n).match(sv))?(this.h=!!e,Fu(this,t[1]||"",!0),this.s=nh(t[2]||""),this.g=nh(t[3]||"",!0),Lu(this,t[4]),this.l=nh(t[5]||"",!0),eh(this,t[6]||"",!0),this.o=nh(t[7]||"")):(this.h=!!e,this.i=new rp(null,this.h))}function xi(n){return new Rl(n)}function Fu(n,e,t){n.j=t?nh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Lu(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function eh(n,e,t){e instanceof rp?(n.i=e,function av(n,e){e&&!n.j&&(Sc(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Rw(this,r),pm(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=np(e,uI)),n.i=new rp(e,n.h))}function mr(n,e,t){n.i.set(e,t)}function th(n){return mr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function nh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function np(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,lI),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function lI(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Rl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(np(e,rh,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(np(e,rh,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(np(t,"/"==t.charAt(0)?KA:cI,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",np(t,YA)),n.join("")};var rh=/[#\/\?@]/g,cI=/[#\?:]/g,KA=/[#\?]/g,uI=/[#\?@]/g,YA=/#/g;function rp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Sc(n){n.g||(n.g=new Map,n.h=0,n.i&&function Ow(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var l=n[t].substring(0,r);i=n[t].substring(r+1)}else l=n[t];e(l,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Rw(n,e){Sc(n),e=ih(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function ov(n,e){return Sc(n),e=ih(n,e),n.g.has(e)}function pm(n,e,t){Rw(n,e),0<t.length&&(n.i=null,n.g.set(ih(n,e),Uf(t)),n.h+=t.length)}function ih(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function kw(n){this.l=n||hI,n=$t.PerformanceNavigationTiming?0<(n=$t.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!($t.g&&$t.g.Ga&&$t.g.Ga()&&$t.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(At=rp.prototype).add=function(n,e){Sc(this),this.i=null,n=ih(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},At.forEach=function(n,e){Sc(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},At.oa=function(){Sc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let l=0;l<i.length;l++)t.push(e[r])}return t},At.W=function(n){Sc(this);let e=[];if("string"==typeof n)ov(this,n)&&(e=e.concat(this.g.get(ih(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},At.set=function(n,e){return Sc(this),this.i=null,ov(this,n=ih(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},At.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},At.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const l=encodeURIComponent(String(r)),d=this.W(r);for(r=0;r<d.length;r++){var i=l;""!==d[r]&&(i+="="+encodeURIComponent(String(d[r]))),n.push(i)}}return this.i=n.join("&")};var hI=10;function Pw(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Fw(n){return n.h?1:n.g?n.g.size:0}function lv(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function sh(n,e){n.g?n.g.add(e):n.h=e}function Ac(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function fI(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Uf(n.i)}function Vu(){}function pI(){this.g=new Vu}function gI(n,e,t){const r=t||"";try{iv(n,function(i,l){let d=i;Cc(i)&&(d=$a(i)),e.push(r+l+"="+encodeURIComponent(d))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function gm(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function As(n){this.l=n.ac||null,this.j=n.jb||!1}function Nc(n,e){ni.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Ei,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}kw.prototype.cancel=function(){if(this.i=fI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Vu.prototype.stringify=function(n){return $t.JSON.stringify(n,void 0)},Vu.prototype.parse=function(n){return $t.JSON.parse(n,void 0)},Di(As,ev),As.prototype.g=function(){return new Nc(this.l,this.j)},As.prototype.i=function(n){return function(){return n}}({}),Di(Nc,ni);var Ei=0;function xc(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Mc(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Zi(n)}function Zi(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(At=Nc.prototype).open=function(n,e){if(this.readyState!=Ei)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Zi(this)},At.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||$t).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},At.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Mc(this)),this.readyState=Ei},At.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Zi(this)),this.g&&(this.readyState=3,Zi(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof $t.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xc(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},At.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Mc(this):Zi(this),3==this.readyState&&xc(this)}},At.Va=function(n){this.g&&(this.response=this.responseText=n,Mc(this))},At.Ua=function(n){this.g&&(this.response=n,Mc(this))},At.ga=function(){this.g&&Mc(this)},At.setRequestHeader=function(n,e){this.v.append(n,e)},At.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},At.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Nc.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var uv=$t.JSON.parse;function Xn(n){ni.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Bu,this.K=this.L=!1}Di(Xn,ni);var Bu="",oh=/^https?$/i,ah=["POST","PUT"];function Uu(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,ju(n),kl(n)}function ju(n){n.D||(n.D=!0,ri(n,"complete"),ri(n,"error"))}function $u(n){if(n.h&&typeof By<"u"&&(!n.C[1]||4!=Ha(n)||2!=n.aa()))if(n.v&&4==Ha(n))im(n.Ha,0,n);else if(ri(n,"readystatechange"),4==Ha(n)){n.h=!1;try{const f=n.aa();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(sv)[1]||null;if(!i&&$t.self&&$t.self.location){var l=$t.self.location.protocol;i=l.substr(0,l.length-1)}r=!oh.test(i?i.toLowerCase():"")}t=r}if(t)ri(n,"complete"),ri(n,"success");else{n.m=6;try{var d=2<Ha(n)?n.g.statusText:""}catch{d=""}n.j=d+" ["+n.aa()+"]",ju(n)}}finally{kl(n)}}}function kl(n,e){if(n.g){dv(n);const t=n.g,r=n.C[0]?Yg:null;n.g=null,n.C=null,e||ri(n,"ready");try{t.onreadystatechange=r}catch{}}}function dv(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&($t.clearTimeout(n.A),n.A=null)}function Ha(n){return n.g?n.g.readyState:0}function hv(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Bu:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function fv(n){let e="";return dw(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function mm(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=fv(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):mr(n,e,t))}function ch(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function pv(n){this.Ca=0,this.i=[],this.j=new am,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=ch("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=ch("baseRetryDelayMs",5e3,n),this.bb=ch("retryDelaySeedMs",1e4,n),this.$a=ch("forwardChannelMaxRetries",2,n),this.ta=ch("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new kw(n&&n.concurrentRequestLimit),this.Fa=new pI,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function _m(n){if(Lw(n),3==n.G){var e=n.U++,t=xi(n.F);mr(t,"SID",n.I),mr(t,"RID",e),mr(t,"TYPE","terminate"),uh(n,t),(e=new Pu(n,n.j,e,void 0)).K=2,e.v=th(xi(t)),t=!1,$t.navigator&&$t.navigator.sendBeacon&&(t=$t.navigator.sendBeacon(e.v.toString(),"")),!t&&$t.Image&&((new Image).src=e.v,t=!0),t||(e.g=Dm(e.l,null),e.g.da(e.v)),e.F=Date.now(),Xf(e)}mv(n)}function ip(n){n.g&&(dh(n),n.g.cancel(),n.g=null)}function Lw(n){ip(n),n.u&&($t.clearTimeout(n.u),n.u=null),hh(n),n.h.cancel(),n.m&&("number"==typeof n.m&&$t.clearTimeout(n.m),n.m=null)}function ym(n){Pw(n.h)||n.m||(n.m=!0,ww(n.Ja,n),n.C=0)}function Bw(n,e){var t;t=e?e.m:n.U++;const r=xi(n.F);mr(r,"SID",n.I),mr(r,"RID",t),mr(r,"AID",n.T),uh(n,r),n.o&&n.s&&mm(r,n.o,n.s),t=new Pu(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=vm(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),sh(n.h,t),rv(t,r,e)}function uh(n,e){n.ia&&dw(n.ia,function(t,r){mr(e,r,t)}),n.l&&iv({},function(t,r){mr(e,r,t)})}function vm(n,e,t){t=Math.min(n.i.length,t);var r=n.l?zi(n.l.Ra,n.l,n):null;e:{var i=n.i;let l=-1;for(;;){const d=["count="+t];-1==l?0<t?(l=i[0].h,d.push("ofs="+l)):l=0:d.push("ofs="+l);let f=!0;for(let _=0;_<t;_++){let w=i[_].h;const S=i[_].g;if(w-=l,0>w)l=Math.max(0,i[_].h-100),f=!1;else try{gI(S,d,"req"+w+"_")}catch{r&&r(S)}}if(f){r=d.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function bm(n){n.g||n.u||(n.Z=1,ww(n.Ia,n),n.A=0)}function gv(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Yf(zi(n.Ia,n),wm(n,n.A)),n.A++,0))}function dh(n){null!=n.B&&($t.clearTimeout(n.B),n.B=null)}function sp(n){n.g=new Pu(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=xi(n.sa);mr(e,"RID","rpc"),mr(e,"SID",n.I),mr(e,"CI",n.L?"0":"1"),mr(e,"AID",n.T),mr(e,"TYPE","xmlhttp"),uh(n,e),n.o&&n.s&&mm(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=th(xi(e)),t.s=null,t.P=!0,Nw(t,n)}function hh(n){null!=n.v&&($t.clearTimeout(n.v),n.v=null)}function Uw(n,e){var t=null;if(n.g==e){hh(n),dh(n),n.g=null;var r=2}else{if(!lv(n.h,e))return;t=e.D,Ac(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;ri(r=lm(),new Iw(r,t)),ym(n)}else bm(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function Vw(n,e){return!(Fw(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Yf(zi(n.Ja,n,e),wm(n,n.C)),n.C++,0)))}(n,e)||2==r&&gv(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Pl(n,5);break;case 4:Pl(n,10);break;case 3:Pl(n,6);break;default:Pl(n,2)}}function wm(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Pl(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=zi(n.kb,n);t||(t=new Rl("//www.google.com/images/cleardot.gif"),$t.location&&"http"==$t.location.protocol||Fu(t,"https"),th(t)),function cv(n,e){const t=new am;if($t.Image){const r=new Image;r.onload=Jg(gm,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Jg(gm,t,r,"TestLoadImage: error",!1,e),r.onabort=Jg(gm,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Jg(gm,t,r,"TestLoadImage: timeout",!1,e),$t.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else qi(2);n.G=0,n.l&&n.l.va(e),mv(n),Lw(n)}function mv(n){if(n.G=0,n.la=[],n.l){const e=fI(n.h);(0!=e.length||0!=n.i.length)&&(HE(n.la,e),HE(n.la,n.i),n.h.i.length=0,Uf(n.i),n.i.length=0),n.l.ua()}}function _v(n,e,t){var r=t instanceof Rl?xi(t):new Rl(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Lu(r,r.m);else{var i=$t.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var l=new Rl(null,void 0);r&&Fu(l,r),e&&(l.g=e),i&&Lu(l,i),t&&(l.l=t),r=l}return e=n.za,(t=n.D)&&e&&mr(r,t,e),mr(r,"VER",n.ma),uh(n,r),r}function Dm(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Xn(t&&n.Da&&!n.ra?new As({jb:!0}):n.ra)).Ka(n.H),e}function yv(){}function op(){if(Ic&&!(10<=Number(ZE)))throw Error("Environmental error: no available transport.")}function cs(n,e){ni.call(this),this.g=new pv(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!jy(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!jy(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Hu(this)}function vv(n){dm.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function jw(){hm.call(this),this.status=1}function Hu(n){this.g=n}(At=Xn.prototype).Ka=function(n){this.L=n},At.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():nv.g(),this.C=function tv(n){return n.h||(n.h=n.i())}(this.u?this.u:nv),this.g.onreadystatechange=zi(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void Uu(this,l)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const l of r.keys())t.set(l,r.get(l))}r=Array.from(t.keys()).find(l=>"content-type"==l.toLowerCase()),i=$t.FormData&&n instanceof $t.FormData,!(0<=Uy(ah,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,d]of t)this.g.setRequestHeader(l,d);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{dv(this),0<this.B&&((this.K=function lh(n){return Ic&&function Wy(){return function lw(n){var e=Gy;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Mu(String(Hf)).split("."),t=Mu("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var i=e[d]||"",l=t[d]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==i[0].length&&0==l[0].length)break;n=Xg(0==i[1].length?0:parseInt(i[1],10),0==l[1].length?0:parseInt(l[1],10))||Xg(0==i[2].length,0==l[2].length)||Xg(i[2],l[2]),i=i[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=zi(this.qa,this)):this.A=im(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){Uu(this,l)}},At.qa=function(){typeof By<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ri(this,"timeout"),this.abort(8))},At.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ri(this,"complete"),ri(this,"abort"),kl(this))},At.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),kl(this,!0)),Xn.X.M.call(this)},At.Ha=function(){this.s||(this.F||this.v||this.l?$u(this):this.fb())},At.fb=function(){$u(this)},At.aa=function(){try{return 2<Ha(this)?this.g.status:-1}catch{return-1}},At.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},At.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),uv(e)}},At.Ea=function(){return this.m},At.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(At=pv.prototype).ma=8,At.G=1,At.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new Pu(this,this.j,n,void 0);let l=this.s;if(this.S&&(l?(l=zy(l),hw(l,this.S)):l=this.S),null!==this.o||this.N||(i.H=l,l=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=vm(this,i,e),mr(t=xi(this.F),"RID",n),mr(t,"CVER",22),this.D&&mr(t,"X-HTTP-Session-Id",this.D),uh(this,t),l&&(this.N?e="headers="+encodeURIComponent(String(fv(l)))+"&"+e:this.o&&mm(t,this.o,l)),sh(this.h,i),this.Ya&&mr(t,"TYPE","init"),this.O?(mr(t,"$req",e),mr(t,"SID","null"),i.Z=!0,rv(i,t,null)):rv(i,t,e),this.G=2}}else 3==this.G&&(n?Bw(this,n):0==this.i.length||Pw(this.h)||Bw(this))},At.Ia=function(){if(this.u=null,sp(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Yf(zi(this.eb,this),n)}},At.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,qi(10),ip(this),sp(this))},At.cb=function(){null!=this.v&&(this.v=null,ip(this),gv(this),qi(19))},At.kb=function(n){n?(this.j.info("Successfully pinged google.com"),qi(2)):(this.j.info("Failed to ping google.com"),qi(1))},(At=yv.prototype).xa=function(){},At.wa=function(){},At.va=function(){},At.ua=function(){},At.Ra=function(){},op.prototype.g=function(n,e){return new cs(n,e)},Di(cs,ni),cs.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;qi(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=_v(n,null,n.V),ym(n)},cs.prototype.close=function(){_m(this.g)},cs.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=$a(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&ym(e)},cs.prototype.M=function(){this.g.l=null,delete this.j,_m(this.g),delete this.g,cs.X.M.call(this)},Di(vv,dm),Di(jw,hm),Di(Hu,yv),Hu.prototype.xa=function(){ri(this.g,"a")},Hu.prototype.wa=function(n){ri(this.g,new vv(n))},Hu.prototype.va=function(n){ri(this.g,new jw)},Hu.prototype.ua=function(){ri(this.g,"b")},op.prototype.createWebChannel=op.prototype.g,cs.prototype.send=cs.prototype.u,cs.prototype.open=cs.prototype.m,cs.prototype.close=cs.prototype.close,um.NO_ERROR=0,um.TIMEOUT=8,um.HTTP_ERROR=6,Xy.COMPLETE="complete",Tw.EventType=Qf,Qf.OPEN="a",Qf.CLOSE="b",Qf.ERROR="c",Qf.MESSAGE="d",ni.prototype.listen=ni.prototype.N,Xn.prototype.listenOnce=Xn.prototype.O,Xn.prototype.getLastError=Xn.prototype.Oa,Xn.prototype.getLastErrorCode=Xn.prototype.Ea,Xn.prototype.getStatus=Xn.prototype.aa,Xn.prototype.getResponseJson=Xn.prototype.Sa,Xn.prototype.getResponseText=Xn.prototype.fa,Xn.prototype.send=Xn.prototype.da,Xn.prototype.setWithCredentials=Xn.prototype.Ka;var $w=Ua.createWebChannelTransport=function(){return new op},Hw=Ua.getStatEventTarget=function(){return lm()},Cm=Ua.ErrorCode=um,mI=Ua.EventType=Xy,Gw=Ua.Event=ii,bv=Ua.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},wv=Ua.FetchXmlHttpFactory=As,Gu=Ua.WebChannel=Tw,Ww=Ua.XhrIo=Xn;const Dv="@firebase/firestore";class si{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}si.UNAUTHENTICATED=new si(null),si.GOOGLE_CREDENTIALS=new si("google-credentials-uid"),si.FIRST_PARTY=new si("first-party-uid"),si.MOCK_USER=new si("mock-user");let Wu="9.13.0";const Fl=new xu.Yd("@firebase/firestore");function Em(){return Fl.logLevel}function Ke(n,...e){if(Fl.logLevel<=xu.in.DEBUG){const t=e.map(Cv);Fl.debug(`Firestore (${Wu}): ${n}`,...t)}}function Wr(n,...e){if(Fl.logLevel<=xu.in.ERROR){const t=e.map(Cv);Fl.error(`Firestore (${Wu}): ${n}`,...t)}}function zu(n,...e){if(Fl.logLevel<=xu.in.WARN){const t=e.map(Cv);Fl.warn(`Firestore (${Wu}): ${n}`,...t)}}function Cv(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function bt(n="Unexpected state"){const e=`FIRESTORE (${Wu}) INTERNAL ASSERTION FAILED: `+n;throw Wr(e),new Error(e)}function Ht(n,e){n||bt()}function ct(n,e){return n}const De={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class He extends xn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class qw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Zw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(si.UNAUTHENTICATED))}shutdown(){}}class Kw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class fh{constructor(e){this.t=e,this.currentUser=si.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const l=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let d=new zr;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new zr,e.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const w=d;e.enqueueRetryable((0,Ne.Z)(function*(){yield w.promise,yield l(r.currentUser)}))},_=w=>{Ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(w=>_(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?_(w):(Ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new zr)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ht("string"==typeof r.accessToken),new qw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ht(null===e||"string"==typeof e),new si(e)}}class _I{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=si.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ht(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class yI{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new _I(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(si.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ev{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vI{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=l=>{null!=l.error&&Ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.A;return this.A=l.token,Ke("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const i=l=>{Ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.T.onInit(l=>i(l)),setTimeout(()=>{if(!this.appCheck){const l=this.T.getImmediate({optional:!0});l?i(l):Ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ht("string"==typeof t.token),this.A=t.token,new Ev(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function QA(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Im{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=QA(40);for(let l=0;l<i.length;++l)r.length<20&&i[l]<t&&(r+=e.charAt(i[l]%e.length))}return r}}function Kt(n,e){return n<e?-1:n>e?1:0}function us(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Yw(n){return n+"\0"}class fr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new He(De.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new He(De.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new He(De.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new He(De.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return fr.fromMillis(Date.now())}static fromDate(e){return fr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new fr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Kt(this.nanoseconds,e.nanoseconds):Kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Nt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Nt(e)}static min(){return new Nt(new fr(0,0))}static max(){return new Nt(new fr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ds{constructor(e,t,r){void 0===t?t=0:t>e.length&&bt(),void 0===r?r=e.length-t:r>e.length-t&&bt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===ds.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ds?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const l=e.get(i),d=t.get(i);if(l<d)return-1;if(l>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class tn extends ds{construct(e,t,r){return new tn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new He(De.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new tn(t)}static emptyPath(){return new tn([])}}const Qw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cr extends ds{construct(e,t,r){return new Cr(e,t,r)}static isValidIdentifier(e){return Qw.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Cr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const l=()=>{if(0===r.length)throw new He(De.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new He(De.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new He(De.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===f?(d=!d,i++):"."!==f||d?(r+=f,i++):(l(),i++)}if(l(),d)throw new He(De.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Cr(t)}static emptyPath(){return new Cr([])}}class at{constructor(e){this.path=e}static fromPath(e){return new at(tn.fromString(e))}static fromName(e){return new at(tn.fromString(e).popFirst(5))}static empty(){return new at(tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===tn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return tn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new at(new tn(e.slice()))}}class Tm{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function Iv(n){return n.fields.find(e=>2===e.kind)}function qu(n){return n.fields.filter(e=>2!==e.kind)}Tm.UNKNOWN_ID=-1;class Oc{constructor(e,t){this.fieldPath=e,this.kind=t}}class ph{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ph(0,Ns.min())}}function Jw(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Nt.fromTimestamp(1e9===r?new fr(t+1,0):new fr(t,r));return new Ns(i,at.empty(),e)}function Sv(n){return new Ns(n.readTime,n.key,-1)}class Ns{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ns(Nt.min(),at.empty(),-1)}static max(){return new Ns(Nt.max(),at.empty(),-1)}}function gh(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=at.comparator(n.documentKey,e.documentKey),0!==t?t:Kt(n.largestBatchId,e.largestBatchId))}const Xw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Av{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ll(n){return ap.apply(this,arguments)}function ap(){return ap=(0,Ne.Z)(function*(n){if(n.code!==De.FAILED_PRECONDITION||n.message!==Xw)throw n;Ke("LocalStore","Unexpectedly lost primary lease")}),ap.apply(this,arguments)}class _e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&bt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new _e((r,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,i)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof _e?t:_e.resolve(t)}catch(t){return _e.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):_e.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):_e.reject(t)}static resolve(e){return new _e((t,r)=>{t(e)})}static reject(e){return new _e((t,r)=>{r(e)})}static waitFor(e){return new _e((t,r)=>{let i=0,l=0,d=!1;e.forEach(f=>{++i,f.next(()=>{++l,d&&l===i&&t()},_=>r(_))}),d=!0,l===i&&t()})}static or(e){let t=_e.resolve(!1);for(const r of e)t=t.next(i=>i?_e.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,l)=>{r.push(t.call(this,i,l))}),this.waitFor(r)}static mapArray(e,t){return new _e((r,i)=>{const l=e.length,d=new Array(l);let f=0;for(let _=0;_<l;_++){const w=_;t(e[w]).next(S=>{d[w]=S,++f,f===l&&r(d)},S=>i(S))}})}static doWhile(e,t){return new _e((r,i)=>{const l=()=>{!0===e()?t().next(()=>{l()},i):r()};l()})}}class lp{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new zr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new mh(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=xv(r.target.error);this.P.reject(new mh(e,i))}}static open(e,t,r,i){try{return new lp(t,e.transaction(i,r))}catch(l){throw new mh(t,l)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Ke("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new tD(t)}}class Oo{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===Oo.D((0,xn.z$)())&&Wr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ke("SimpleDb","Removing database:",e),Rc(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,xn.hl)())return!1;if(Oo.N())return!0;const e=(0,xn.z$)(),t=Oo.D(e),r=0<t&&t<10,i=Oo.k(e),l=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,Ne.Z)(function*(){return t.db||(Ke("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=d=>{r(d.target.result)},l.onblocked=()=>{i(new mh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=d=>{const f=d.target.error;i("VersionError"===f.name?new He(De.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new He(De.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new mh(e,f))},l.onupgradeneeded=d=>{Ke("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.S.$(d.target.result,l.transaction,d.oldVersion,t.version).next(()=>{Ke("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var l=this;return(0,Ne.Z)(function*(){const d="readonly"===t;let f=0;for(;;){++f;try{l.db=yield l.F(e);const _=lp.open(l.db,e,d?"readonly":"readwrite",r),w=i(_).next(S=>(_.V(),S)).catch(S=>(_.abort(S),_e.reject(S))).toPromise();return w.catch(()=>{}),yield _.v,w}catch(_){const w=_,S="FirebaseError"!==w.name&&f<3;if(Ke("SimpleDb","Transaction failed with error:",w.message,"Retrying:",S),l.close(),!S)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class eD{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return Rc(this.U.delete())}}class mh extends He{constructor(e,t){super(De.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Vl(n){return"IndexedDbTransactionError"===n.name}class tD{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ke("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ke("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Rc(r)}add(e){return Ke("SimpleDb","ADD",this.store.name,e,e),Rc(this.store.add(e))}get(e){return Rc(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ke("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ke("SimpleDb","DELETE",this.store.name,e),Rc(this.store.delete(e))}count(){return Ke("SimpleDb","COUNT",this.store.name),Rc(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),l=[];return this.H(i,(d,f)=>{l.push(f)}).next(()=>l)}{const i=this.store.getAll(r.range);return new _e((l,d)=>{i.onerror=f=>{d(f.target.error)},i.onsuccess=f=>{l(f.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new _e((i,l)=>{r.onerror=d=>{l(d.target.error)},r.onsuccess=d=>{i(d.target.result)}})}Y(e,t){Ke("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(l,d,f)=>f.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new _e((r,i)=>{t.onerror=l=>{const d=xv(l.target.error);i(d)},t.onsuccess=l=>{const d=l.target.result;d?e(d.primaryKey,d.value).next(f=>{f?d.continue():r()}):r()}})}H(e,t){const r=[];return new _e((i,l)=>{e.onerror=d=>{l(d.target.error)},e.onsuccess=d=>{const f=d.target.result;if(!f)return void i();const _=new eD(f),w=t(f.primaryKey,f.value,_);if(w instanceof _e){const S=w.catch(x=>(_.done(),_e.reject(x)));r.push(S)}_.isDone?i():null===_.G?f.continue():f.continue(_.G)}}).next(()=>_e.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Rc(n){return new _e((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=xv(r.target.error);t(i)}})}let Nv=!1;function xv(n){const e=Oo.D((0,xn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new He("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Nv||(Nv=!0,setTimeout(()=>{throw r},0)),r}}return n}class DI{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Ke("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ne.Z)(function*(){t.task=null;try{Ke("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){Vl(r)?Ke("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Ll(r)}yield t.nt(6e4)}))}}class CI{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Ne.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,l=!0;return _e.doWhile(()=>!0===l&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!r.has(d))return Ke("IndexBackiller",`Processing collection: ${d}`),this.rt(e,d,i).next(f=>{i-=f,r.add(d)});l=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(l=>{const d=l.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.ot(i,l)).next(f=>(Ke("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>d.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,l)=>{const d=Sv(l);gh(d,r)>0&&(r=d)}),new Ns(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class xs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function nD(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Zu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function rD(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}xs.at=-1;class Or{constructor(e,t){this.comparator=e,this.root=t||Mi.EMPTY}insert(e,t){return new Or(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Mi.BLACK,null,null))}remove(e){return new Or(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sm(this.root,e,this.comparator,!0)}}class Sm{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mi{constructor(e,t,r,i,l){this.key=e,this.value=t,this.color=r??Mi.RED,this.left=i??Mi.EMPTY,this.right=l??Mi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,l){return new Mi(e??this.key,t??this.value,r??this.color,i??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const l=r(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===l?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Mi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Mi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw bt();const e=this.left.check();if(e!==this.right.check())throw bt();return e+(this.isRed()?0:1)}}Mi.EMPTY=null,Mi.RED=!0,Mi.BLACK=!1,Mi.EMPTY=new class{constructor(){this.size=0}get key(){throw bt()}get value(){throw bt()}get color(){throw bt()}get left(){throw bt()}get right(){throw bt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Mi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qn{constructor(e){this.comparator=e,this.data=new Or(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new iD(this.data.getIterator())}getIteratorFrom(e){return new iD(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof qn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(i,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new qn(this.comparator);return t.data=e,t}}class iD{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function _h(n){return n.hasNext()?n.getNext():void 0}class eo{constructor(e){this.fields=e,e.sort(Cr.comparator)}static empty(){return new eo([])}unionWith(e){let t=new qn(Cr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new eo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return us(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class ai{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new ai(t)}static fromUint8Array(e){const t=function(r){let i="";for(let l=0;l<r.length;++l)i+=String.fromCharCode(r[l]);return i}(e);return new ai(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ai.EMPTY_BYTE_STRING=new ai("");const II=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kc(n){if(Ht(!!n),"string"==typeof n){let e=0;const t=II.exec(n);if(Ht(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Er(n.seconds),nanos:Er(n.nanos)}}function Er(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Pc(n){return"string"==typeof n?ai.fromBase64String(n):ai.fromUint8Array(n)}function Am(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Mv(n){const e=n.mapValue.fields.__previous_value__;return Am(e)?Mv(e):e}function yh(n){const e=kc(n.mapValue.fields.__local_write_time__.timestampValue);return new fr(e.seconds,e.nanos)}class sD{constructor(e,t,r,i,l,d,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class Bl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Bl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Bl&&e.projectId===this.projectId&&e.database===this.database}}function vh(n){return null==n}function bh(n){return 0===n&&1/n==-1/0}function Nm(n){return"number"==typeof n&&Number.isInteger(n)&&!bh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Ul={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ga={nullValue:"NULL_VALUE"};function Ku(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Am(n)?4:cD(n)?9007199254740991:10:bt()}function Wa(n,e){if(n===e)return!0;const t=Ku(n);if(t!==Ku(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return yh(n).isEqual(yh(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const l=kc(r.timestampValue),d=kc(i.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Pc(n.bytesValue).isEqual(Pc(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Er(r.geoPointValue.latitude)===Er(i.geoPointValue.latitude)&&Er(r.geoPointValue.longitude)===Er(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Er(r.integerValue)===Er(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const l=Er(r.doubleValue),d=Er(i.doubleValue);return l===d?bh(l)===bh(d):isNaN(l)&&isNaN(d)}return!1}(n,e);case 9:return us(n.arrayValue.values||[],e.arrayValue.values||[],Wa);case 10:return function(r,i){const l=r.mapValue.fields||{},d=i.mapValue.fields||{};if(nD(l)!==nD(d))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(void 0===d[f]||!Wa(l[f],d[f])))return!1;return!0}(n,e);default:return bt()}var i}function za(n,e){return void 0!==(n.values||[]).find(t=>Wa(t,e))}function Yu(n,e){if(n===e)return 0;const t=Ku(n),r=Ku(e);if(t!==r)return Kt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Kt(n.booleanValue,e.booleanValue);case 2:return function(i,l){const d=Er(i.integerValue||i.doubleValue),f=Er(l.integerValue||l.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return xm(n.timestampValue,e.timestampValue);case 4:return xm(yh(n),yh(e));case 5:return Kt(n.stringValue,e.stringValue);case 6:return function(i,l){const d=Pc(i),f=Pc(l);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,l){const d=i.split("/"),f=l.split("/");for(let _=0;_<d.length&&_<f.length;_++){const w=Kt(d[_],f[_]);if(0!==w)return w}return Kt(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,l){const d=Kt(Er(i.latitude),Er(l.latitude));return 0!==d?d:Kt(Er(i.longitude),Er(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,l){const d=i.values||[],f=l.values||[];for(let _=0;_<d.length&&_<f.length;++_){const w=Yu(d[_],f[_]);if(w)return w}return Kt(d.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,l){if(i===Ul.mapValue&&l===Ul.mapValue)return 0;if(i===Ul.mapValue)return 1;if(l===Ul.mapValue)return-1;const d=i.fields||{},f=Object.keys(d),_=l.fields||{},w=Object.keys(_);f.sort(),w.sort();for(let S=0;S<f.length&&S<w.length;++S){const x=Kt(f[S],w[S]);if(0!==x)return x;const j=Yu(d[f[S]],_[w[S]]);if(0!==j)return j}return Kt(f.length,w.length)}(n.mapValue,e.mapValue);default:throw bt()}}function xm(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Kt(n,e);const t=kc(n),r=kc(e),i=Kt(t.seconds,r.seconds);return 0!==i?i:Kt(t.nanos,r.nanos)}function cp(n){return Mm(n)}function Mm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=kc(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Pc(n.bytesValue).toBase64():"referenceValue"in n?at.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",l=!0;for(const d of r.values||[])l?l=!1:i+=",",i+=Mm(d);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let l="{",d=!0;for(const f of i)d?d=!1:l+=",",l+=`${f}:${Mm(r.fields[f])}`;return l+"}"}(n.mapValue):bt();var e}function Fc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function oD(n){return!!n&&"integerValue"in n}function kt(n){return!!n&&"arrayValue"in n}function aD(n){return!!n&&"nullValue"in n}function lD(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Om(n){return!!n&&"mapValue"in n}function qa(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Zu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=qa(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=qa(n.arrayValue.values[t]);return e}return Object.assign({},n)}function cD(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Rm(n){return"nullValue"in n?Ga:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Fc(Bl.empty(),at.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:bt()}function km(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Fc(Bl.empty(),at.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Ul:bt()}function Ir(n,e){const t=Yu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function TI(n,e){const t=Yu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Ii{constructor(e){this.value=e}static empty(){return new Ii({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Om(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=qa(t)}setAll(e){let t=Cr.emptyPath(),r={},i=[];e.forEach((d,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=f.popLast()}d?r[f.lastSegment()]=qa(d):i.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,i)}delete(e){const t=this.field(e.popLast());Om(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Wa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Om(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Zu(t,(i,l)=>e[i]=l);for(const i of r)delete e[i]}clone(){return new Ii(qa(this.value))}}function Ov(n){const e=[];return Zu(n.fields,(t,r)=>{const i=new Cr([t]);if(Om(r)){const l=Ov(r.mapValue).fields;if(0===l.length)e.push(i);else for(const d of l)e.push(i.child(d))}else e.push(i)}),new eo(e)}class lr{constructor(e,t,r,i,l,d){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=l,this.documentState=d}static newInvalidDocument(e){return new lr(e,0,Nt.min(),Nt.min(),Ii.empty(),0)}static newFoundDocument(e,t,r){return new lr(e,1,t,Nt.min(),r,0)}static newNoDocument(e,t){return new lr(e,2,t,Nt.min(),Ii.empty(),0)}static newUnknownDocument(e,t){return new lr(e,3,t,Nt.min(),Ii.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ii.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ii.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof lr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new lr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class uD{constructor(e,t=null,r=[],i=[],l=null,d=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=l,this.startAt=d,this.endAt=f,this.ht=null}}function Rv(n,e=null,t=[],r=[],i=null,l=null,d=null){return new uD(n,e,t,r,i,l,d)}function Lc(n){const e=ct(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+cp(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),vh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>cp(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>cp(r)).join(",")),e.ht=t}return e.ht}function up(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!NI(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!Wa(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Fv(n.startAt,e.startAt)&&Fv(n.endAt,e.endAt)}function Pm(n){return at.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Fm(n,e){return n.filters.filter(t=>t instanceof Oi&&t.field.isEqual(e))}function wh(n,e,t){let r=Ga,i=!0;for(const l of Fm(n,e)){let d=Ga,f=!0;switch(l.op){case"<":case"<=":d=Rm(l.value);break;case"==":case"in":case">=":d=l.value;break;case">":d=l.value,f=!1;break;case"!=":case"not-in":d=Ga}Ir({value:r,inclusive:i},{value:d,inclusive:f})<0&&(r=d,i=f)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const d=t.position[l];Ir({value:r,inclusive:i},{value:d,inclusive:t.inclusive})<0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}function hD(n,e,t){let r=Ul,i=!0;for(const l of Fm(n,e)){let d=Ul,f=!0;switch(l.op){case">=":case">":d=km(l.value),f=!1;break;case"==":case"in":case"<=":d=l.value;break;case"<":d=l.value,f=!1;break;case"!=":case"not-in":d=Ul}TI({value:r,inclusive:i},{value:d,inclusive:f})>0&&(r=d,i=f)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const d=t.position[l];TI({value:r,inclusive:i},{value:d,inclusive:t.inclusive})>0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}class Oi extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new SI(e,t,r):"array-contains"===t?new pD(e,r):"in"===t?new AI(e,r):"not-in"===t?new dp(e,r):"array-contains-any"===t?new hp(e,r):new Oi(e,t,r)}static lt(e,t,r){return"in"===t?new Lm(e,r):new fD(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Yu(t,this.value)):null!==t&&Ku(this.value)===Ku(t)&&this.ft(Yu(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return bt()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class SI extends Oi{constructor(e,t,r){super(e,t,r),this.key=at.fromName(r.referenceValue)}matches(e){const t=at.comparator(e.key,this.key);return this.ft(t)}}class Lm extends Oi{constructor(e,t){super(e,"in",t),this.keys=kv(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class fD extends Oi{constructor(e,t){super(e,"not-in",t),this.keys=kv(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function kv(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>at.fromName(r.referenceValue))}class pD extends Oi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return kt(t)&&za(t.arrayValue,this.value)}}class AI extends Oi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&za(this.value.arrayValue,t)}}class dp extends Oi{constructor(e,t){super(e,"not-in",t)}matches(e){if(za(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!za(this.value.arrayValue,t)}}class hp extends Oi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!kt(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>za(this.value.arrayValue,r))}}class Vc{constructor(e,t){this.position=e,this.inclusive=t}}class Dh{constructor(e,t="asc"){this.field=e,this.dir=t}}function NI(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Pv(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const l=e[i],d=n.position[i];if(r=l.field.isKeyField()?at.comparator(at.fromName(d.referenceValue),t.key):Yu(d,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function Fv(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Wa(n.position[t],e.position[t]))return!1;return!0}class Za{constructor(e,t=null,r=[],i=[],l=null,d="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=l,this.limitType=d,this.startAt=f,this.endAt=_,this._t=null,this.wt=null}}function gD(n,e,t,r,i,l,d,f){return new Za(n,e,t,r,i,l,d,f)}function Qu(n){return new Za(n)}function mD(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Lv(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function _D(n){for(const e of n.filters)if(e.dt())return e.field;return null}function yD(n){return null!==n.collectionGroup}function fp(n){const e=ct(n);if(null===e._t){e._t=[];const t=_D(e),r=Lv(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new Dh(t)),e._t.push(new Dh(Cr.keyField(),"asc"));else{let i=!1;for(const l of e.explicitOrderBy)e._t.push(l),l.field.isKeyField()&&(i=!0);if(!i){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Dh(Cr.keyField(),l))}}}return e._t}function Ms(n){const e=ct(n);if(!e.wt)if("F"===e.limitType)e.wt=Rv(e.path,e.collectionGroup,fp(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of fp(e))t.push(new Dh(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new Vc(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Vc(e.startAt.position,e.startAt.inclusive):null;e.wt=Rv(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.wt}function pp(n,e,t){return new Za(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Bc(n,e){return up(Ms(n),Ms(e))&&n.limitType===e.limitType}function vD(n){return`${Lc(Ms(n))}|lt:${n.limitType}`}function Vv(n){return`Query(target=${function dD(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${cp(r.value)}`;var r}).join(", ")}]`),vh(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>cp(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>cp(t)).join(",")),`Target(${e})`}(Ms(n))}; limitType=${n.limitType})`}function Vm(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):at.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,l,d){const f=Pv(i,l,d);return i.inclusive?f<=0:f<0}(t.startAt,fp(t),r)||t.endAt&&!function(i,l,d){const f=Pv(i,l,d);return i.inclusive?f>=0:f>0}(t.endAt,fp(t),r)));var t,r}function Ch(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function bD(n){return(e,t)=>{let r=!1;for(const i of fp(n)){const l=xI(i,e,t);if(0!==l)return l;r=r||i.field.isKeyField()}return 0}}function xI(n,e,t){const r=n.field.isKeyField()?at.comparator(e.key,t.key):function(i,l,d){const f=l.data.field(i),_=d.data.field(i);return null!==f&&null!==_?Yu(f,_):bt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return bt()}}function wD(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bh(e)?"-0":e}}function DD(n){return{integerValue:""+n}}function CD(n,e){return Nm(e)?DD(e):wD(n,e)}class gp{constructor(){this._=void 0}}function MI(n,e,t){return n instanceof Ih?function(r,i){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(l.fields.__previous_value__=i),{mapValue:l}}(t,e):n instanceof Uc?ED(n,e):n instanceof jc?ID(n,e):function(r,i){const l=Eh(r,i),d=TD(l)+TD(r.yt);return oD(l)&&oD(r.yt)?DD(d):wD(r.It,d)}(n,e)}function OI(n,e,t){return n instanceof Uc?ED(n,e):n instanceof jc?ID(n,e):t}function Eh(n,e){return n instanceof Ju?oD(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Ih extends gp{}class Uc extends gp{constructor(e){super(),this.elements=e}}function ED(n,e){const t=Bm(e);for(const r of n.elements)t.some(i=>Wa(i,r))||t.push(r);return{arrayValue:{values:t}}}class jc extends gp{constructor(e){super(),this.elements=e}}function ID(n,e){let t=Bm(e);for(const r of n.elements)t=t.filter(i=>!Wa(i,r));return{arrayValue:{values:t}}}class Ju extends gp{constructor(e,t){super(),this.It=e,this.yt=t}}function TD(n){return Er(n.integerValue||n.doubleValue)}function Bm(n){return kt(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class mp{constructor(e,t){this.field=e,this.transform=t}}class AD{constructor(e,t){this.version=e,this.transformResults=t}}class _r{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new _r}static exists(e){return new _r(void 0,e)}static updateTime(e){return new _r(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Um(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class jm{}function $m(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Ah(n.key,_r.none()):new Sh(n.key,n.data,_r.none());{const t=n.data,r=Ii.empty();let i=new qn(Cr.comparator);for(let l of e.fields)if(!i.has(l)){let d=t.field(l);null===d&&l.length>1&&(l=l.popLast(),d=t.field(l)),null===d?r.delete(l):r.set(l,d),i=i.add(l)}return new jl(n.key,r,new eo(i.toArray()),_r.none())}}function RI(n,e,t){n instanceof Sh?function(r,i,l){const d=r.value.clone(),f=MD(r.fieldTransforms,i,l.transformResults);d.setAll(f),i.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):n instanceof jl?function(r,i,l){if(!Um(r.precondition,i))return void i.convertToUnknownDocument(l.version);const d=MD(r.fieldTransforms,i,l.transformResults),f=i.data;f.setAll(xD(r)),f.setAll(d),i.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Th(n,e,t,r){return n instanceof Sh?function(i,l,d,f){if(!Um(i.precondition,l))return d;const _=i.value.clone(),w=OD(i.fieldTransforms,f,l);return _.setAll(w),l.convertToFoundDocument(l.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof jl?function(i,l,d,f){if(!Um(i.precondition,l))return d;const _=OD(i.fieldTransforms,f,l),w=l.data;return w.setAll(xD(i)),w.setAll(_),l.convertToFoundDocument(l.version,w).setHasLocalMutations(),null===d?null:d.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(S=>S.field))}(n,e,t,r):(d=t,Um(n.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):d);var l,d}function kI(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),l=Eh(r.transform,i||null);null!=l&&(null===t&&(t=Ii.empty()),t.set(r.field,l))}return t||null}function ND(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&us(t,r,(i,l)=>function SD(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Uc&&r instanceof Uc||t instanceof jc&&r instanceof jc?us(t.elements,r.elements,Wa):t instanceof Ju&&r instanceof Ju?Wa(t.yt,r.yt):t instanceof Ih&&r instanceof Ih);var t,r}(i,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Sh extends jm{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class jl extends jm{constructor(e,t,r,i,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function xD(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function MD(n,e,t){const r=new Map;Ht(n.length===t.length);for(let i=0;i<t.length;i++){const l=n[i],d=l.transform,f=e.data.field(l.field);r.set(l.field,OI(d,f,t[i]))}return r}function OD(n,e,t){const r=new Map;for(const i of n){const l=i.transform,d=t.data.field(i.field);r.set(i.field,MI(l,d,e))}return r}class Ah extends jm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Hm extends jm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class RD{constructor(e){this.count=e}}var Ur,bn;function Gm(n){switch(n){default:return bt();case De.CANCELLED:case De.UNKNOWN:case De.DEADLINE_EXCEEDED:case De.RESOURCE_EXHAUSTED:case De.INTERNAL:case De.UNAVAILABLE:case De.UNAUTHENTICATED:return!1;case De.INVALID_ARGUMENT:case De.NOT_FOUND:case De.ALREADY_EXISTS:case De.PERMISSION_DENIED:case De.FAILED_PRECONDITION:case De.ABORTED:case De.OUT_OF_RANGE:case De.UNIMPLEMENTED:case De.DATA_LOSS:return!0}}function Bv(n){if(void 0===n)return Wr("GRPC error has no .code"),De.UNKNOWN;switch(n){case Ur.OK:return De.OK;case Ur.CANCELLED:return De.CANCELLED;case Ur.UNKNOWN:return De.UNKNOWN;case Ur.DEADLINE_EXCEEDED:return De.DEADLINE_EXCEEDED;case Ur.RESOURCE_EXHAUSTED:return De.RESOURCE_EXHAUSTED;case Ur.INTERNAL:return De.INTERNAL;case Ur.UNAVAILABLE:return De.UNAVAILABLE;case Ur.UNAUTHENTICATED:return De.UNAUTHENTICATED;case Ur.INVALID_ARGUMENT:return De.INVALID_ARGUMENT;case Ur.NOT_FOUND:return De.NOT_FOUND;case Ur.ALREADY_EXISTS:return De.ALREADY_EXISTS;case Ur.PERMISSION_DENIED:return De.PERMISSION_DENIED;case Ur.FAILED_PRECONDITION:return De.FAILED_PRECONDITION;case Ur.ABORTED:return De.ABORTED;case Ur.OUT_OF_RANGE:return De.OUT_OF_RANGE;case Ur.UNIMPLEMENTED:return De.UNIMPLEMENTED;case Ur.DATA_LOSS:return De.DATA_LOSS;default:return bt()}}(bn=Ur||(Ur={}))[bn.OK=0]="OK",bn[bn.CANCELLED=1]="CANCELLED",bn[bn.UNKNOWN=2]="UNKNOWN",bn[bn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bn[bn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bn[bn.NOT_FOUND=5]="NOT_FOUND",bn[bn.ALREADY_EXISTS=6]="ALREADY_EXISTS",bn[bn.PERMISSION_DENIED=7]="PERMISSION_DENIED",bn[bn.UNAUTHENTICATED=16]="UNAUTHENTICATED",bn[bn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bn[bn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bn[bn.ABORTED=10]="ABORTED",bn[bn.OUT_OF_RANGE=11]="OUT_OF_RANGE",bn[bn.UNIMPLEMENTED=12]="UNIMPLEMENTED",bn[bn.INTERNAL=13]="INTERNAL",bn[bn.UNAVAILABLE=14]="UNAVAILABLE",bn[bn.DATA_LOSS=15]="DATA_LOSS";class $c{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,l]of r)if(this.equalsFn(i,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Zu(this.inner,(t,r)=>{for(const[i,l]of r)e(i,l)})}isEmpty(){return rD(this.inner)}size(){return this.innerSize}}const PI=new Or(at.comparator);function Ki(){return PI}const Wm=new Or(at.comparator);function Nh(...n){let e=Wm;for(const t of n)e=e.insert(t.key,t);return e}function zm(n){let e=Wm;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ka(){return Xu()}function kD(){return Xu()}function Xu(){return new $c(n=>n.toString(),(n,e)=>n.isEqual(e))}const FI=new Or(at.comparator),PD=new qn(at.comparator);function Yt(...n){let e=PD;for(const t of n)e=e.add(t);return e}const FD=new qn(Kt);function qm(){return FD}class Zm{constructor(e,t,r,i,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,xh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Zm(Nt.min(),i,qm(),Ki(),Yt())}}class xh{constructor(e,t,r,i,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new xh(r,t,Yt(),Yt(),Yt())}}class Mh{constructor(e,t,r,i){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=i}}class LD{constructor(e,t){this.targetId=e,this.At=t}}class Km{constructor(e,t,r=ai.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class VD{constructor(){this.Rt=0,this.bt=Uv(),this.Pt=ai.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Yt(),t=Yt(),r=Yt();return this.bt.forEach((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:bt()}}),new xh(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=Uv()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class BD{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Ki(),this.qt=Ym(),this.Kt=new qn(Kt)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:bt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,i)=>{this.Ht(i)&&t(i)})}Yt(e){const t=e.targetId,r=e.At.count,i=this.Xt(t);if(i){const l=i.target;if(Pm(l))if(0===r){const d=new at(l.path);this.jt(t,d,lr.newNoDocument(d,Nt.min()))}else Ht(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((l,d)=>{const f=this.Xt(d);if(f){if(l.current&&Pm(f.target)){const _=new at(f.target.path);null!==this.Ut.get(_)||this.ee(d,_)||this.jt(d,_,lr.newNoDocument(_,e))}l.Dt&&(t.set(d,l.xt()),l.Nt())}});let r=Yt();this.qt.forEach((l,d)=>{let f=!0;d.forEachWhile(_=>{const w=this.Xt(_);return!w||2===w.purpose||(f=!1,!1)}),f&&(r=r.add(l))}),this.Ut.forEach((l,d)=>d.setReadTime(e));const i=new Zm(e,t,this.Kt,this.Ut,r);return this.Ut=Ki(),this.qt=Ym(),this.Kt=new qn(Kt),i}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,t)?i.kt(t,1):i.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new VD,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new qn(Kt),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Ke("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new VD),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function Ym(){return new Or(at.comparator)}function Uv(){return new Or(at.comparator)}const UD={asc:"ASCENDING",desc:"DESCENDING"},jD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class $D{constructor(e,t){this.databaseId=e,this.gt=t}}function _p(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HD(n,e){return n.gt?e.toBase64():e.toUint8Array()}function LI(n,e){return _p(n,e.toTimestamp())}function Ti(n){return Ht(!!n),Nt.fromTimestamp(function(e){const t=kc(e);return new fr(t.seconds,t.nanos)}(n))}function Qm(n,e){return(t=n,new tn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function VI(n){const e=tn.fromString(n);return Ht(HI(e)),e}function Oh(n,e){return Qm(n.databaseId,e.path)}function Ya(n,e){const t=VI(e);if(t.get(1)!==n.databaseId.projectId)throw new He(De.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new He(De.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new at(GD(t))}function jv(n,e){return Qm(n.databaseId,e)}function BI(n){const e=VI(n);return 4===e.length?tn.emptyPath():GD(e)}function Jm(n){return new tn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function GD(n){return Ht(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function WD(n,e,t){return{name:Oh(n,e),fields:t.value.mapValue.fields}}function zD(n,e,t){const r=Ya(n,e.name),i=Ti(e.updateTime),l=new Ii({mapValue:{fields:e.fields}}),d=lr.newFoundDocument(r,i,l);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function Rh(n,e){let t;if(e instanceof Sh)t={update:WD(n,e.key,e.value)};else if(e instanceof Ah)t={delete:Oh(n,e.key)};else if(e instanceof jl)t={update:WD(n,e.key,e.data),updateMask:$I(e.fieldMask)};else{if(!(e instanceof Hm))return bt();t={verify:Oh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,l){const d=l.transform;if(d instanceof Ih)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Uc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof jc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Ju)return{fieldPath:l.field.canonicalString(),increment:d.yt};throw bt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:LI(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:bt()),t;var i}function $v(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?_r.updateTime(Ti(i.updateTime)):void 0!==i.exists?_r.exists(i.exists):_r.none():_r.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,d){let f=null;"setToServerValue"in d?(Ht("REQUEST_TIME"===d.setToServerValue),f=new Ih):"appendMissingElements"in d?f=new Uc(d.appendMissingElements.values||[]):"removeAllFromArray"in d?f=new jc(d.removeAllFromArray.values||[]):"increment"in d?f=new Ju(l,d.increment):bt();const _=Cr.fromServerFormat(d.fieldPath);return new mp(_,f)}(n,i)):[];var i;if(e.update){const i=Ya(n,e.update.name),l=new Ii({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new eo((e.updateMask.fieldPaths||[]).map(w=>Cr.fromServerFormat(w)));return new jl(i,l,d,t,r)}return new Sh(i,l,t,r)}if(e.delete){const i=Ya(n,e.delete);return new Ah(i,t)}if(e.verify){const i=Ya(n,e.verify);return new Hm(i,t)}return bt()}function KD(n,e){return{documents:[jv(n,e.path)]}}function Hv(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=jv(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=jv(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0===_.length)return;const w=_.map(S=>function(x){if("=="===x.op){if(lD(x.value))return{unaryFilter:{field:ed(x.field),op:"IS_NAN"}};if(aD(x.value))return{unaryFilter:{field:ed(x.field),op:"IS_NULL"}}}else if("!="===x.op){if(lD(x.value))return{unaryFilter:{field:ed(x.field),op:"IS_NOT_NAN"}};if(aD(x.value))return{unaryFilter:{field:ed(x.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ed(x.field),op:JD(x.op),value:x.value}}}(S));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(e.filters);i&&(t.structuredQuery.where=i);const l=function(_){if(0!==_.length)return _.map(w=>{return{field:ed((S=w).field),direction:QD(S.dir)};var S})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const d=(w=e.limit,n.gt||vh(w)?w:{value:w});var w,f,_;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function YD(n){let e=BI(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ht(1===r);const S=t.from[0];S.allDescendants?i=S.collectionId:e=e.child(S.collectionId)}let l=[];t.where&&(l=kh(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(S=>{return new Dh(td((x=S).field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let f=null;t.limit&&(f=function(S){let x;return x="object"==typeof S?S.value:S,vh(x)?null:x}(t.limit));let _=null;var S;t.startAt&&(_=new Vc((S=t.startAt).values||[],!!S.before));let w=null;return t.endAt&&(w=function(S){return new Vc(S.values||[],!S.before)}(t.endAt)),gD(e,i,d,l,f,"F",_,w)}function kh(n){return n?void 0!==n.unaryFilter?[e1(n)]:void 0!==n.fieldFilter?[XD(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>kh(e)).reduce((e,t)=>e.concat(t)):bt():[]}function QD(n){return UD[n]}function JD(n){return jD[n]}function ed(n){return{fieldPath:n.canonicalString()}}function td(n){return Cr.fromServerFormat(n.fieldPath)}function XD(n){return Oi.create(td(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return bt()}}(n.fieldFilter.op),n.fieldFilter.value)}function e1(n){switch(n.unaryFilter.op){case"IS_NAN":const e=td(n.unaryFilter.field);return Oi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=td(n.unaryFilter.field);return Oi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=td(n.unaryFilter.field);return Oi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=td(n.unaryFilter.field);return Oi.create(i,"!=",{nullValue:"NULL_VALUE"});default:return bt()}}function $I(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function HI(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Yi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=t1(e)),e=GI(n.get(t),e);return t1(e)}function GI(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const l=n.charAt(i);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function t1(n){return n+"\x01\x01"}function Qa(n){const e=n.length;if(Ht(e>=2),2===e)return Ht("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),tn.emptyPath();const t=e-2,r=[];let i="";for(let l=0;l<e;){const d=n.indexOf("\x01",l);switch((d<0||d>t)&&bt(),n.charAt(d+1)){case"\x01":const f=n.substring(l,d);let _;0===i.length?_=f:(i+=f,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(l,d),i+="\0";break;case"\x11":i+=n.substring(l,d+1);break;default:bt()}l=d+2}return new tn(r)}const n1=["userId","batchId"];function Hc(n,e){return[n,Yi(e)]}function r1(n,e,t){return[n,Yi(e),t]}const Gv={},Ja=["prefixPath","collectionGroup","readTime","documentId"],WI=["prefixPath","collectionGroup","documentId"],Wv=["collectionGroup","readTime","prefixPath","documentId"],yp=["canonicalId","targetId"],zI=["targetId","path"],qI=["path","targetId"],ZI=["collectionId","parent"],Xm=["indexId","uid"],e_=["uid","sequenceNumber"],KI=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],YI=["indexId","uid","orderedDocumentKey"],i1=["userId","collectionPath","documentId"],s1=["userId","collectionPath","largestBatchId"],zv=["userId","collectionGroup","largestBatchId"],qv=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],QI=[...qv,"documentOverlays"],o1=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],JI=o1,Zv=[...JI,"indexConfiguration","indexState","indexEntries"];class vp extends Av{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function li(n,e){const t=ct(n);return Oo.M(t.ie,e)}class bp{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&RI(l,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Th(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Th(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=kD();return this.mutations.forEach(i=>{const l=e.get(i.key),d=l.overlayedDocument;let f=this.applyToLocalView(d,l.mutatedFields);f=t.has(i.key)?null:f;const _=$m(d,f);null!==_&&r.set(i.key,_),d.isValidDocument()||d.convertToNoDocument(Nt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Yt())}isEqual(e){return this.batchId===e.batchId&&us(this.mutations,e.mutations,(t,r)=>ND(t,r))&&us(this.baseMutations,e.baseMutations,(t,r)=>ND(t,r))}}class wp{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ht(e.mutations.length===r.length);let i=FI;const l=e.mutations;for(let d=0;d<l.length;d++)i=i.insert(l[d].key,r[d].version);return new wp(e,t,r,i)}}class Kv{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Gc{constructor(e,t,r,i,l=Nt.min(),d=Nt.min(),f=ai.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=f}withSequenceNumber(e){return new Gc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Gc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Gc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class a1{constructor(e){this.re=e}}function Yv(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Ph(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Oh(i=n.re,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:_p(i,l.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Wc(e.version)};else{if(!e.isUnknownDocument())return bt();r.unknownDocument={path:t.path.toArray(),version:Wc(e.version)}}var i,l;return r}function Ph(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Wc(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function zc(n){const e=new fr(n.seconds,n.nanoseconds);return Nt.fromTimestamp(e)}function qc(n,e){const t=(e.baseMutations||[]).map(l=>$v(n.re,l));for(let l=0;l<e.mutations.length-1;++l){const d=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(d.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>$v(n.re,l)),i=fr.fromMillis(e.localWriteTimeMs);return new bp(e.batchId,i,t,r)}function Fh(n){const e=zc(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?zc(n.lastLimboFreeSnapshotVersion):Nt.min();let r;var i;return void 0!==n.query.documents?(Ht(1===(i=n.query).documents.length),r=Ms(Qu(BI(i.documents[0])))):r=Ms(YD(n.query)),new Gc(r,n.targetId,0,n.lastListenSequenceNumber,e,t,ai.fromBase64String(n.resumeToken))}function l1(n,e){const t=Wc(e.snapshotVersion),r=Wc(e.lastLimboFreeSnapshotVersion);let i;i=Pm(e.target)?KD(n.re,e.target):Hv(n.re,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Lc(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function t_(n){const e=YD({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?pp(e,e.limit,"L"):e}function n_(n,e){return new Kv(e.largestBatchId,$v(n.re,e.overlayMutation))}function c1(n,e){const t=e.path.lastSegment();return[n,Yi(e.path.popLast()),t]}function Qv(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Wc(r.readTime),documentKey:Yi(r.documentKey.path),largestBatchId:r.largestBatchId}}class u1{getBundleMetadata(e,t){return Qi(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:zc(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return Qi(e).put({bundleId:(r=t).id,createTime:Wc(Ti(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return nd(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:t_(i.bundledQuery),readTime:zc(i.readTime)};var i})}saveNamedQuery(e,t){return nd(e).put({name:(r=t).name,readTime:Wc(Ti(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Qi(n){return li(n,"bundles")}function nd(n){return li(n,"namedQueries")}class r_{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new r_(e,t.uid||"")}getOverlay(e,t){return Dp(e).get(c1(this.userId,t)).next(r=>r?n_(this.It,r):null)}getOverlays(e,t){const r=Ka();return _e.forEach(t,i=>this.getOverlay(e,i).next(l=>{null!==l&&r.set(i,l)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((l,d)=>{const f=new Kv(t,d);i.push(this.ue(e,f))}),_e.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(d=>i.add(Yi(d.getCollectionPath())));const l=[];return i.forEach(d=>{const f=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);l.push(Dp(e).Y("collectionPathOverlayIndex",f))}),_e.waitFor(l)}getOverlaysForCollection(e,t,r){const i=Ka(),l=Yi(t),d=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return Dp(e).W("collectionPathOverlayIndex",d).next(f=>{for(const _ of f){const w=n_(this.It,_);i.set(w.getKey(),w)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const l=Ka();let d;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Dp(e).Z({index:"collectionGroupOverlayIndex",range:f},(_,w,S)=>{const x=n_(this.It,w);l.size()<i||x.largestBatchId===d?(l.set(x.getKey(),x),d=x.largestBatchId):S.done()}).next(()=>l)}ue(e,t){return Dp(e).put(function(r,i,l){const[d,f,_]=c1(i,l.mutation.key);return{userId:i,collectionPath:f,documentId:_,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:Rh(r.re,l.mutation)}}(this.It,this.userId,t))}}function Dp(n){return li(n,"documentOverlays")}class Lh{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Er(e.integerValue));else if("doubleValue"in e){const r=Er(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),bh(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Pc(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?cD(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):bt()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const i of Object.keys(r))this._e(i,t),this.ae(r[i],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const i of r)this.ae(i,t)}ge(e,t){this.le(t,37),at.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function JA(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function Jv(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const l=JA(255&t[i]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}Lh.Te=new Lh;class d1{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.ve()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=t.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const i=t.codePointAt(0);this.Pe(240|i>>>18),this.Pe(128|63&i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i)}}this.ve()}De(e){const t=this.Ce(e),r=Jv(t);this.xe(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Ne(e){const t=this.Ce(e),r=Jv(t);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(i){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,i,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Cp{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class eT{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class rd{constructor(){this.Be=new d1,this.Le=new Cp(this.Be),this.Ue=new eT(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class id{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new id(this.indexId,this.documentKey,this.arrayValue,r)}}function Zc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=h1(n.arrayValue,e.arrayValue),0!==t?t:(t=h1(n.directionalValue,e.directionalValue),0!==t?t:at.comparator(n.documentKey,e.documentKey)))}function h1(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class tT{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const r=t;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const t=Iv(e);if(void 0!==t&&!this.ze(t))return!1;const r=qu(e);let i=0,l=0;for(;i<r.length&&this.ze(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.je){const d=r[i];if(!this.He(this.je,d)||!this.Je(this.Ge[l++],d))return!1;++i}for(;i<r.length;++i){const d=r[i];if(l>=this.Ge.length||!this.Je(this.Ge[l++],d))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class nT{constructor(){this.Ye=new Ep}addToCollectionParentIndex(e,t){return this.Ye.add(t),_e.resolve()}getCollectionParents(e,t){return _e.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return _e.resolve()}deleteFieldIndex(e,t){return _e.resolve()}getDocumentsMatchingTarget(e,t){return _e.resolve(null)}getIndexType(e,t){return _e.resolve(0)}getFieldIndexes(e,t){return _e.resolve([])}getNextCollectionGroupToUpdate(e){return _e.resolve(null)}getMinOffset(e,t){return _e.resolve(Ns.min())}getMinOffsetFromCollectionGroup(e,t){return _e.resolve(Ns.min())}updateCollectionGroup(e,t,r){return _e.resolve()}updateIndexEntries(e,t){return _e.resolve()}}class Ep{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new qn(tn.comparator),l=!i.has(r);return this.index[t]=i.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new qn(tn.comparator)).toArray()}}const Ip=new Uint8Array(0);class f1{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new Ep,this.Ze=new $c(r=>Lc(r),(r,i)=>up(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const l={collectionId:r,parent:Yi(i)};return Tp(e).put(l)}return _e.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[Yw(t),""],!1,!0);return Tp(e).W(i).next(l=>{for(const d of l){if(d.collectionId!==t)break;r.push(Qa(d.parent))}return r})}addFieldIndex(e,t){const r=Xv(e),i={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var d;delete i.indexId;const l=r.add(i);if(t.indexState){const d=Vh(e);return l.next(f=>{d.put(Qv(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return l.next()}deleteFieldIndex(e,t){const r=Xv(e),i=Vh(e),l=sd(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=sd(e);let i=!0;const l=new Map;return _e.forEach(this.tn(t),d=>this.en(e,d).next(f=>{i&&(i=!!f),l.set(d,f)})).next(()=>{if(i){let d=Yt();const f=[];return _e.forEach(l,(_,w)=>{var S;Ke("IndexedDbIndexManager",`Using index ${S=_,`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(_t=>`${_t.fieldPath}:${_t.kind}`).join(",")}`} to execute ${Lc(t)}`);const x=function(_t,ut){const ot=Iv(ut);if(void 0===ot)return null;for(const gt of Fm(_t,ot.fieldPath))switch(gt.op){case"array-contains-any":return gt.value.arrayValue.values||[];case"array-contains":return[gt.value]}return null}(w,_),j=function(_t,ut){const ot=new Map;for(const gt of qu(ut))for(const nn of Fm(_t,gt.fieldPath))switch(nn.op){case"==":case"in":ot.set(gt.fieldPath.canonicalString(),nn.value);break;case"not-in":case"!=":return ot.set(gt.fieldPath.canonicalString(),nn.value),Array.from(ot.values())}return null}(w,_),q=function(_t,ut){const ot=[];let gt=!0;for(const nn of qu(ut)){const Mn=0===nn.kind?wh(_t,nn.fieldPath,_t.startAt):hD(_t,nn.fieldPath,_t.startAt);ot.push(Mn.value),gt&&(gt=Mn.inclusive)}return new Vc(ot,gt)}(w,_),re=function(_t,ut){const ot=[];let gt=!0;for(const nn of qu(ut)){const Mn=0===nn.kind?hD(_t,nn.fieldPath,_t.endAt):wh(_t,nn.fieldPath,_t.endAt);ot.push(Mn.value),gt&&(gt=Mn.inclusive)}return new Vc(ot,gt)}(w,_),ve=this.nn(_,w,q),Ee=this.nn(_,w,re),nt=this.sn(_,w,j),st=this.rn(_.indexId,x,ve,q.inclusive,Ee,re.inclusive,nt);return _e.forEach(st,_t=>r.J(_t,t.limit).next(ut=>{ut.forEach(ot=>{const gt=at.fromSegments(ot.documentKey);d.has(gt)||(d=d.add(gt),f.push(gt))})}))}).next(()=>f)}return _e.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,r,i,l,d,f){const _=(null!=t?t.length:1)*Math.max(r.length,l.length),w=_/(null!=t?t.length:1),S=[];for(let x=0;x<_;++x){const j=t?this.on(t[x/w]):Ip,q=this.un(e,j,r[x%w],i),re=this.cn(e,j,l[x%w],d),ve=f.map(Ee=>this.un(e,j,Ee,!0));S.push(...this.createRange(q,re,ve))}return S}un(e,t,r,i){const l=new id(e,at.empty(),t,r);return i?l:l.Ke()}cn(e,t,r,i){const l=new id(e,at.empty(),t,r);return i?l.Ke():l}en(e,t){const r=new tT(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(l=>{let d=null;for(const f of l)r.We(f)&&(!d||f.fields.length>d.fields.length)&&(d=f);return d})}getIndexType(e,t){let r=2;return _e.forEach(this.tn(t),i=>this.en(e,i).next(l=>{l?0!==r&&l.fields.length<function(d){let f=new qn(Cr.comparator),_=!1;for(const w of d.filters){const S=w;S.field.isKeyField()||("array-contains"===S.op||"array-contains-any"===S.op?_=!0:f=f.add(S.field))}for(const w of d.orderBy)w.field.isKeyField()||(f=f.add(w.field));return f.size+(_?1:0)}(i)&&(r=1):r=0})).next(()=>r)}an(e,t){const r=new rd;for(const i of qu(e)){const l=t.data.field(i.fieldPath);if(null==l)return null;const d=r.qe(i.kind);Lh.Te.ce(l,d)}return r.$e()}on(e){const t=new rd;return Lh.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const r=new rd;return Lh.Te.ce(Fc(this.databaseId,t),r.qe(function(i){const l=qu(i);return 0===l.length?0:l[l.length-1].kind}(e))),r.$e()}sn(e,t,r){if(null===r)return[];let i=[];i.push(new rd);let l=0;for(const d of qu(e)){const f=r[l++];for(const _ of i)if(this.ln(t,d.fieldPath)&&kt(f))i=this.fn(i,d,f);else{const w=_.qe(d.kind);Lh.Te.ce(f,w)}}return this.dn(i)}nn(e,t,r){return this.sn(e,t,r.position)}dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}fn(e,t,r){const i=[...e],l=[];for(const d of r.arrayValue.values||[])for(const f of i){const _=new rd;_.seed(f.$e()),Lh.Te.ce(d,_.qe(t.kind)),l.push(_)}return l}ln(e,t){return!!e.filters.find(r=>r instanceof Oi&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Xv(e),i=Vh(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(l=>{const d=[];return _e.forEach(l,f=>i.get([f.indexId,this.uid]).next(_=>{d.push(function(w,S){const x=S?new ph(S.sequenceNumber,new Ns(zc(S.readTime),new at(Qa(S.documentKey)),S.largestBatchId)):ph.empty(),j=w.fields.map(([q,re])=>new Oc(Cr.fromServerFormat(q),re));return new Tm(w.indexId,w.collectionGroup,j,x)}(f,_))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const l=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==l?l:Kt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Xv(e),l=Vh(e);return this._n(e).next(d=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>_e.forEach(f,_=>l.put(Qv(_.indexId,this.user,d,r)))))}updateIndexEntries(e,t){const r=new Map;return _e.forEach(t,(i,l)=>{const d=r.get(i.collectionGroup);return(d?_e.resolve(d):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),_e.forEach(f,_=>this.wn(e,i,_).next(w=>{const S=this.mn(l,_);return w.isEqual(S)?_e.resolve():this.gn(e,l,_,w,S)}))))})}yn(e,t,r,i){return sd(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.hn(r,t.key),documentKey:t.key.path.toArray()})}pn(e,t,r,i){return sd(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.hn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const i=sd(e);let l=new qn(Zc);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,t)])},(d,f)=>{l=l.add(new id(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>l)}mn(e,t){let r=new qn(Zc);const i=this.an(t,e);if(null==i)return r;const l=Iv(t);if(null!=l){const d=e.data.field(l.fieldPath);if(kt(d))for(const f of d.arrayValue.values||[])r=r.add(new id(t.indexId,e.key,this.on(f),i))}else r=r.add(new id(t.indexId,e.key,Ip,i));return r}gn(e,t,r,i,l){Ke("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(f,_,w,S,x){const j=f.getIterator(),q=_.getIterator();let re=_h(j),ve=_h(q);for(;re||ve;){let Ee=!1,nt=!1;if(re&&ve){const st=w(re,ve);st<0?nt=!0:st>0&&(Ee=!0)}else null!=re?nt=!0:Ee=!0;Ee?(S(ve),ve=_h(q)):nt?(x(re),re=_h(j)):(re=_h(j),ve=_h(q))}}(i,l,Zc,f=>{d.push(this.yn(e,t,r,f))},f=>{d.push(this.pn(e,t,r,f))}),_e.waitFor(d)}_n(e){let t=1;return Vh(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,l)=>{l.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,f)=>Zc(d,f)).filter((d,f,_)=>!f||0!==Zc(d,_[f-1]));const i=[];i.push(e);for(const d of r){const f=Zc(d,e),_=Zc(d,t);if(0===f)i[0]=e.Ke();else if(f>0&&_<0)i.push(d),i.push(d.Ke());else if(_>0)break}i.push(t);const l=[];for(let d=0;d<i.length;d+=2)l.push(IDBKeyRange.bound([i[d].indexId,this.uid,i[d].arrayValue,i[d].directionalValue,Ip,[]],[i[d+1].indexId,this.uid,i[d+1].arrayValue,i[d+1].directionalValue,Ip,[]]));return l}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(p1)}getMinOffset(e,t){return _e.mapArray(this.tn(t),r=>this.en(e,r).next(i=>i||bt())).next(p1)}}function Tp(n){return li(n,"collectionParents")}function sd(n){return li(n,"indexEntries")}function Xv(n){return li(n,"indexConfiguration")}function Vh(n){return li(n,"indexState")}function p1(n){Ht(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;gh(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Ns(e.readTime,e.documentKey,t)}const e0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ci{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ci(e,ci.DEFAULT_COLLECTION_PERCENTILE,ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function g1(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),l=[],d=IDBKeyRange.only(t.batchId);let f=0;const _=r.Z({range:d},(S,x,j)=>(f++,j.delete()));l.push(_.next(()=>{Ht(1===f)}));const w=[];for(const S of t.mutations){const x=r1(e,S.key.path,t.batchId);l.push(i.delete(x)),w.push(S.key)}return _e.waitFor(l).next(()=>w)}function Sp(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw bt();e=n.noDocument}return JSON.stringify(e).length}ci.DEFAULT_COLLECTION_PERCENTILE=10,ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ci.DEFAULT=new ci(41943040,ci.DEFAULT_COLLECTION_PERCENTILE,ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ci.DISABLED=new ci(-1,0,0);class Bh{constructor(e,t,r,i){this.userId=e,this.It=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static oe(e,t,r,i){Ht(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new Bh(l,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Kc(e).Z({index:"userMutationsIndex",range:r},(i,l,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const l=Ap(e),d=Kc(e);return d.add({}).next(f=>{Ht("number"==typeof f);const _=new bp(f,t,r,i),w=function(j,q,re){const ve=re.baseMutations.map(nt=>Rh(j.re,nt)),Ee=re.mutations.map(nt=>Rh(j.re,nt));return{userId:q,batchId:re.batchId,localWriteTimeMs:re.localWriteTime.toMillis(),baseMutations:ve,mutations:Ee}}(this.It,this.userId,_),S=[];let x=new qn((j,q)=>Kt(j.canonicalString(),q.canonicalString()));for(const j of i){const q=r1(this.userId,j.key.path,f);x=x.add(j.key.path.popLast()),S.push(d.put(w)),S.push(l.put(q,Gv))}return x.forEach(j=>{S.push(this.indexManager.addToCollectionParentIndex(e,j))}),e.addOnCommittedListener(()=>{this.In[f]=_.keys()}),_e.waitFor(S).next(()=>_)})}lookupMutationBatch(e,t){return Kc(e).get(t).next(r=>r?(Ht(r.userId===this.userId),qc(this.It,r)):null)}Tn(e,t){return this.In[t]?_e.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Kc(e).Z({index:"userMutationsIndex",range:i},(d,f,_)=>{f.userId===this.userId&&(Ht(f.batchId>=r),l=qc(this.It,f)),_.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Kc(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,l,d)=>{r=l.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Kc(e).W("userMutationsIndex",t).next(r=>r.map(i=>qc(this.It,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Hc(this.userId,t.path),i=IDBKeyRange.lowerBound(r),l=[];return Ap(e).Z({range:i},(d,f,_)=>{const[w,S,x]=d,j=Qa(S);if(w===this.userId&&t.path.isEqual(j))return Kc(e).get(x).next(q=>{if(!q)throw bt();Ht(q.userId===this.userId),l.push(qc(this.It,q))});_.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new qn(Kt);const i=[];return t.forEach(l=>{const d=Hc(this.userId,l.path),f=IDBKeyRange.lowerBound(d),_=Ap(e).Z({range:f},(w,S,x)=>{const[j,q,re]=w,ve=Qa(q);j===this.userId&&l.path.isEqual(ve)?r=r.add(re):x.done()});i.push(_)}),_e.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,l=Hc(this.userId,r),d=IDBKeyRange.lowerBound(l);let f=new qn(Kt);return Ap(e).Z({range:d},(_,w,S)=>{const[x,j,q]=_,re=Qa(j);x===this.userId&&r.isPrefixOf(re)?re.length===i&&(f=f.add(q)):S.done()}).next(()=>this.En(e,f))}En(e,t){const r=[],i=[];return t.forEach(l=>{i.push(Kc(e).get(l).next(d=>{if(null===d)throw bt();Ht(d.userId===this.userId),r.push(qc(this.It,d))}))}),_e.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return g1(e.ie,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),_e.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return _e.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Ap(e).Z({range:r},(l,d,f)=>{if(l[0]===this.userId){const _=Qa(l[1]);i.push(_)}else f.done()}).next(()=>{Ht(0===i.length)})})}containsKey(e,t){return rT(e,this.userId,t)}Rn(e){return m1(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function rT(n,e,t){const r=Hc(e,t.path),i=r[1],l=IDBKeyRange.lowerBound(r);let d=!1;return Ap(n).Z({range:l,X:!0},(f,_,w)=>{const[S,x,j]=f;S===e&&x===i&&(d=!0),w.done()}).next(()=>d)}function Kc(n){return li(n,"mutations")}function Ap(n){return li(n,"documentMutations")}function m1(n){return li(n,"mutationQueues")}class od{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new od(0)}static vn(){return new od(-1)}}class iT{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new od(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Nt.fromTimestamp(new fr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>ad(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(Ht(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const l=[];return ad(e).Z((d,f)=>{const _=Fh(f);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,l.push(this.removeTargetData(e,_)))}).next(()=>_e.waitFor(l)).next(()=>i)}forEachTarget(e,t){return ad(e).Z((r,i)=>{const l=Fh(i);t(l)})}Vn(e){return t0(e).get("targetGlobalKey").next(t=>(Ht(null!==t),t))}Sn(e,t){return t0(e).put("targetGlobalKey",t)}Dn(e,t){return ad(e).put(l1(this.It,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Lc(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return ad(e).Z({range:i,index:"queryTargetsIndex"},(d,f,_)=>{const w=Fh(f);up(t,w.target)&&(l=w,_.done())}).next(()=>l)}addMatchingKeys(e,t,r){const i=[],l=Yc(e);return t.forEach(d=>{const f=Yi(d.path);i.push(l.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,d))}),_e.waitFor(i)}removeMatchingKeys(e,t,r){const i=Yc(e);return _e.forEach(t,l=>{const d=Yi(l.path);return _e.waitFor([i.delete([r,d]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=Yc(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Yc(e);let l=Yt();return i.Z({range:r,X:!0},(d,f,_)=>{const w=Qa(d[1]),S=new at(w);l=l.add(S)}).next(()=>l)}containsKey(e,t){const r=Yi(t.path),i=IDBKeyRange.bound([r],[Yw(r)],!1,!0);let l=0;return Yc(e).Z({index:"documentTargetsIndex",X:!0,range:i},([d,f],_,w)=>{0!==d&&(l++,w.done())}).next(()=>l>0)}se(e,t){return ad(e).get(t).next(r=>r?Fh(r):null)}}function ad(n){return li(n,"targets")}function t0(n){return li(n,"targetGlobal")}function Yc(n){return li(n,"targetDocuments")}function n0([n,e],[t,r]){const i=Kt(n,t);return 0===i?Kt(e,r):i}class _1{constructor(e){this.xn=e,this.buffer=new qn(n0),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();n0(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class sT{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Ke("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ne.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Vl(r)?Ke("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Ll(r)}yield t.Fn(3e5)}))}}class oT{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return _e.resolve(xs.at);const r=new _1(t);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ke("LruGarbageCollector","Garbage collection skipped; disabled"),_e.resolve(e0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),e0):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let r,i,l,d,f,_,w;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(Ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),i=this.params.maximumSequenceNumbersToCollect):i=x,d=Date.now(),this.nthSequenceNumber(e,i))).next(x=>(r=x,f=Date.now(),this.removeTargets(e,r,t))).next(x=>(l=x,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(x=>(w=Date.now(),Em()<=xu.in.DEBUG&&Ke("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-S}ms\n\tDetermined least recently used ${i} in `+(f-d)+`ms\n\tRemoved ${l} targets in `+(_-f)+`ms\n\tRemoved ${x} documents in `+(w-_)+`ms\nTotal Duration: ${w-S}ms`),_e.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:x})))}}class y1{constructor(e,t){this.db=e,this.garbageCollector=new oT(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}qn(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return i_(e,r)}removeReference(e,t,r){return i_(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return i_(e,t)}Gn(e,t){return function(r,i){let l=!1;return m1(r).tt(d=>rT(r,d,i).next(f=>(f&&(l=!0),_e.resolve(!f)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let l=0;return this.Kn(e,(d,f)=>{if(f<=t){const _=this.Gn(e,d).next(w=>{if(!w)return l++,r.getEntry(e,d).next(()=>(r.removeEntry(d,Nt.min()),Yc(e).delete([0,Yi(d.path)])))});i.push(_)}}).next(()=>_e.waitFor(i)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return i_(e,t)}Kn(e,t){const r=Yc(e);let i,l=xs.at;return r.Z({index:"documentTargetsIndex"},([d,f],{path:_,sequenceNumber:w})=>{0===d?(l!==xs.at&&t(new at(Qa(i)),l),l=w,i=_):l=xs.at}).next(()=>{l!==xs.at&&t(new at(Qa(i)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function i_(n,e){return Yc(n).put((r=n.currentSequenceNumber,{targetId:0,path:Yi(e.path),sequenceNumber:r}));var r}class r0{constructor(){this.changes=new $c(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,lr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?_e.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class v1{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return ld(e).put(r)}removeEntry(e,t,r){return ld(e).delete(function(i,l){const d=i.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],Ph(l),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=lr.newInvalidDocument(t);return ld(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(s_(t))},(i,l)=>{r=this.jn(t,l)}).next(()=>r)}Wn(e,t){let r={size:0,document:lr.newInvalidDocument(t)};return ld(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(s_(t))},(i,l)=>{r={document:this.jn(t,l),size:Sp(l)}}).next(()=>r)}getEntries(e,t){let r=Ki();return this.zn(e,t,(i,l)=>{const d=this.jn(i,l);r=r.insert(i,d)}).next(()=>r)}Hn(e,t){let r=Ki(),i=new Or(at.comparator);return this.zn(e,t,(l,d)=>{const f=this.jn(l,d);r=r.insert(l,f),i=i.insert(l,Sp(d))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return _e.resolve();let i=new qn(aT);t.forEach(_=>i=i.add(_));const l=IDBKeyRange.bound(s_(i.first()),s_(i.last())),d=i.getIterator();let f=d.getNext();return ld(e).Z({index:"documentKeyIndex",range:l},(_,w,S)=>{const x=at.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;f&&aT(f,x)<0;)r(f,null),f=d.getNext();f&&f.isEqual(x)&&(r(f,w),f=d.hasNext()?d.getNext():null),f?S.j(s_(f)):S.done()}).next(()=>{for(;f;)r(f,null),f=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),Ph(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ld(e).W(IDBKeyRange.bound(i,l,!0)).next(d=>{let f=Ki();for(const _ of d){const w=this.jn(at.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);f=f.insert(w.key,w)}return f})}getAllFromCollectionGroup(e,t,r,i){let l=Ki();const d=o0(t,r),f=o0(t,Ns.max());return ld(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,f,!0)},(_,w,S)=>{const x=this.jn(at.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);l=l.insert(x.key,x),l.size===i&&S.done()}).next(()=>l)}newChangeBuffer(e){return new b1(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return w1(e).get("remoteDocumentGlobalKey").next(t=>(Ht(!!t),t))}Qn(e,t){return w1(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function XI(n,e){let t;if(e.document)t=zD(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=at.fromSegments(e.noDocument.path),i=zc(e.noDocument.readTime);t=lr.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return bt();{const r=at.fromSegments(e.unknownDocument.path),i=zc(e.unknownDocument.version);t=lr.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new fr(r[0],r[1]);return Nt.fromTimestamp(i)}(e.readTime)),t}(this.It,t);if(!r.isNoDocument()||!r.version.isEqual(Nt.min()))return r}return lr.newInvalidDocument(e)}}function s0(n){return new v1(n)}class b1 extends r0{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new $c(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new qn((l,d)=>Kt(l.canonicalString(),d.canonicalString()));return this.changes.forEach((l,d)=>{const f=this.Xn.get(l);if(t.push(this.Yn.removeEntry(e,l,f.readTime)),d.isValidDocument()){const _=Yv(this.Yn.It,d);i=i.add(l.path.popLast()),r+=Sp(_)-f.size,t.push(this.Yn.addEntry(e,l,_))}else if(r-=f.size,this.trackRemovals){const _=Yv(this.Yn.It,d.convertToNoDocument(Nt.min()));t.push(this.Yn.addEntry(e,l,_))}}),i.forEach(l=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.Yn.updateMetadata(e,r)),_e.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((l,d)=>{this.Xn.set(l,{size:d,readTime:r.get(l).readTime})}),r))}}function w1(n){return li(n,"remoteDocumentGlobal")}function ld(n){return li(n,"remoteDocumentsV14")}function s_(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function o0(n,e){const t=e.documentKey.path.toArray();return[n,Ph(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function aT(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let l=0;l<t.length-2&&l<r.length-2;++l)if(i=Kt(t[l],r[l]),i)return i;return i=Kt(t.length,r.length),i||(i=Kt(t[t.length-2],r[r.length-2]),i||Kt(t[t.length-1],r[r.length-1]))}class XA{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class lT{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&Th(r.mutation,i,eo.empty(),fr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Yt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Yt()){const i=Ka();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(l=>{let d=Nh();return l.forEach((f,_)=>{d=d.insert(f,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=Ka();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Yt()))}populateOverlays(e,t,r){const i=[];return r.forEach(l=>{t.has(l)||i.push(l)}),this.documentOverlayCache.getOverlays(e,i).next(l=>{l.forEach((d,f)=>{t.set(d,f)})})}computeViews(e,t,r,i){let l=Ki();const d=Xu(),f=Xu();return t.forEach((_,w)=>{const S=r.get(w.key);i.has(w.key)&&(void 0===S||S.mutation instanceof jl)?l=l.insert(w.key,w):void 0!==S&&(d.set(w.key,S.mutation.getFieldMask()),Th(S.mutation,w,S.mutation.getFieldMask(),fr.now()))}),this.recalculateAndSaveOverlays(e,l).next(_=>(_.forEach((w,S)=>d.set(w,S)),t.forEach((w,S)=>{var x;return f.set(w,new XA(S,null!==(x=d.get(w))&&void 0!==x?x:null))}),f))}recalculateAndSaveOverlays(e,t){const r=Xu();let i=new Or((d,f)=>d-f),l=Yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const f of d)f.keys().forEach(_=>{const w=t.get(_);if(null===w)return;let S=r.get(_)||eo.empty();S=f.applyToLocalView(w,S),r.set(_,S);const x=(i.get(f.batchId)||Yt()).add(_);i=i.insert(f.batchId,x)})}).next(()=>{const d=[],f=i.getReverseIterator();for(;f.hasNext();){const _=f.getNext(),w=_.key,S=_.value,x=kD();S.forEach(j=>{if(!l.has(j)){const q=$m(t.get(j),r.get(j));null!==q&&x.set(j,q),l=l.add(j)}}),d.push(this.documentOverlayCache.saveOverlays(e,w,x))}return _e.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return at.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):yD(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(l=>{const d=i-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-l.size):_e.resolve(Ka());let f=-1,_=l;return d.next(w=>_e.forEach(w,(S,x)=>(f<x.largestBatchId&&(f=x.largestBatchId),l.get(S)?_e.resolve():this.getBaseDocument(e,S,x).next(j=>{_=_.insert(S,j)}))).next(()=>this.populateOverlays(e,w,l)).next(()=>this.computeViews(e,_,w,Yt())).next(S=>({batchId:f,changes:zm(S)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new at(t)).next(r=>{let i=Nh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let l=Nh();return this.indexManager.getCollectionParents(e,i).next(d=>_e.forEach(d,f=>{const _=(w=t,S=f.child(i),new Za(S,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,S;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(w=>{w.forEach((S,x)=>{l=l.insert(S,x)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(l=>(i=l,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(l=>{l.forEach((f,_)=>{const w=_.getKey();null===i.get(w)&&(i=i.insert(w,lr.newInvalidDocument(w)))});let d=Nh();return i.forEach((f,_)=>{const w=l.get(f);void 0!==w&&Th(w.mutation,_,eo.empty(),fr.now()),Vm(t,_)&&(d=d.insert(f,_))}),d})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):_e.resolve(lr.newInvalidDocument(t))}}class eN{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return _e.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Ti(r.createTime)}),_e.resolve()}getNamedQuery(e,t){return _e.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:t_(r.bundledQuery),readTime:Ti(r.readTime)}),_e.resolve();var r}}class tN{constructor(){this.overlays=new Or(at.comparator),this.es=new Map}getOverlay(e,t){return _e.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ka();return _e.forEach(t,i=>this.getOverlay(e,i).next(l=>{null!==l&&r.set(i,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,l)=>{this.ue(e,t,l)}),_e.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(l=>this.overlays=this.overlays.remove(l)),this.es.delete(r)),_e.resolve()}getOverlaysForCollection(e,t,r){const i=Ka(),l=t.length+1,d=new at(t.child("")),f=this.overlays.getIteratorFrom(d);for(;f.hasNext();){const _=f.getNext().value,w=_.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===l&&_.largestBatchId>r&&i.set(_.getKey(),_)}return _e.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let l=new Or((w,S)=>w-S);const d=this.overlays.getIterator();for(;d.hasNext();){const w=d.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let S=l.get(w.largestBatchId);null===S&&(S=Ka(),l=l.insert(w.largestBatchId,S)),S.set(w.getKey(),w)}}const f=Ka(),_=l.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((w,S)=>f.set(w,S)),!(f.size()>=i)););return _e.resolve(f)}ue(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const d=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new Kv(t,r));let l=this.es.get(t);void 0===l&&(l=Yt(),this.es.set(t,l)),this.es.set(t,l.add(r.key))}}class D1{constructor(){this.ns=new qn(Ri.ss),this.rs=new qn(Ri.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new Ri(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new Ri(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new at(new tn([])),r=new Ri(t,e),i=new Ri(t,e+1),l=[];return this.rs.forEachInRange([r,i],d=>{this.cs(d),l.push(d.key)}),l}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new at(new tn([])),r=new Ri(t,e),i=new Ri(t,e+1);let l=Yt();return this.rs.forEachInRange([r,i],d=>{l=l.add(d.key)}),l}containsKey(e){const t=new Ri(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ri{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return at.comparator(e.key,t.key)||Kt(e._s,t._s)}static os(e,t){return Kt(e._s,t._s)||at.comparator(e.key,t.key)}}class nN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new qn(Ri.ss)}checkEmpty(e){return _e.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const l=this.ws;this.ws++;const d=new bp(l,t,r,i);this.mutationQueue.push(d);for(const f of i)this.gs=this.gs.add(new Ri(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return _e.resolve(d)}lookupMutationBatch(e,t){return _e.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),l=i<0?0:i;return _e.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return _e.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return _e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ri(t,0),i=new Ri(t,Number.POSITIVE_INFINITY),l=[];return this.gs.forEachInRange([r,i],d=>{const f=this.ys(d._s);l.push(f)}),_e.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new qn(Kt);return t.forEach(i=>{const l=new Ri(i,0),d=new Ri(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([l,d],f=>{r=r.add(f._s)})}),_e.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let l=r;at.isDocumentKey(l)||(l=l.child(""));const d=new Ri(new at(l),0);let f=new qn(Kt);return this.gs.forEachWhile(_=>{const w=_.key.path;return!!r.isPrefixOf(w)&&(w.length===i&&(f=f.add(_._s)),!0)},d),_e.resolve(this.Is(f))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Ht(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return _e.forEach(t.mutations,i=>{const l=new Ri(i.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new Ri(t,0),i=this.gs.firstAfterOrEqual(r);return _e.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return _e.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class o_{constructor(e){this.Es=e,this.docs=new Or(at.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),l=i?i.size:0,d=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return _e.resolve(r?r.document.mutableCopy():lr.newInvalidDocument(t))}getEntries(e,t){let r=Ki();return t.forEach(i=>{const l=this.docs.get(i);r=r.insert(i,l?l.document.mutableCopy():lr.newInvalidDocument(i))}),_e.resolve(r)}getAllFromCollection(e,t,r){let i=Ki();const l=new at(t.child("")),d=this.docs.getIteratorFrom(l);for(;d.hasNext();){const{key:f,value:{document:_}}=d.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||gh(Sv(_),r)<=0||(i=i.insert(_.key,_.mutableCopy()))}return _e.resolve(i)}getAllFromCollectionGroup(e,t,r,i){bt()}As(e,t){return _e.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new rN(this)}getSize(e){return _e.resolve(this.size)}}class rN extends r0{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),_e.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class C1{constructor(e){this.persistence=e,this.Rs=new $c(t=>Lc(t),up),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new D1,this.targetCount=0,this.vs=od.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),_e.resolve()}getLastRemoteSnapshotVersion(e){return _e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _e.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),_e.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),_e.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new od(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,_e.resolve()}updateTargetData(e,t){return this.Dn(t),_e.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,_e.resolve()}removeTargets(e,t,r){let i=0;const l=[];return this.Rs.forEach((d,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Rs.delete(d),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),_e.waitFor(l).next(()=>i)}getTargetCount(e){return _e.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return _e.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),_e.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,l=[];return i&&t.forEach(d=>{l.push(i.markPotentiallyOrphaned(e,d))}),_e.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),_e.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return _e.resolve(r)}containsKey(e,t){return _e.resolve(this.Ps.containsKey(t))}}class Np{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new xs(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new C1(this),this.indexManager=new nT,this.remoteDocumentCache=new o_(r=>this.referenceDelegate.xs(r)),this.It=new a1(t),this.Ns=new eN(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new tN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new nN(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){Ke("MemoryPersistence","Starting transaction:",e);const i=new E1(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(l=>this.referenceDelegate.Os(i).next(()=>l)).toPromise().then(l=>(i.raiseOnCommittedEvent(),l))}Ms(e,t){return _e.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class E1 extends Av{constructor(e){super(),this.currentSequenceNumber=e}}class xp{constructor(e){this.persistence=e,this.Fs=new D1,this.$s=null}static Bs(e){return new xp(e)}get Ls(){if(this.$s)return this.$s;throw bt()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),_e.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),_e.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),_e.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(l=>this.Ls.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _e.forEach(this.Ls,r=>{const i=at.fromPath(r);return this.Us(e,i).next(l=>{l||t.removeEntry(i,Nt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return _e.or([()=>_e.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class iN{constructor(e){this.It=e}$(e,t,r,i){const l=new lp("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",n1,{unique:!0}),f.createObjectStore("documentMutations"),a_(e),function(f){f.createObjectStore("remoteDocuments")}(e));let d=_e.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),a_(e)),d=d.next(()=>function(f){const _=f.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Nt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",w)}(l))),r<4&&i>=4&&(0!==r&&(d=d.next(()=>function(f,_){return _.store("mutations").W().next(w=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",n1,{unique:!0});const S=_.store("mutations"),x=w.map(j=>S.put(j));return _e.waitFor(x)})}(e,l))),d=d.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(d=d.next(()=>this.qs(l))),r<6&&i>=6&&(d=d.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(l)))),r<7&&i>=7&&(d=d.next(()=>this.Gs(l))),r<8&&i>=8&&(d=d.next(()=>this.Qs(e,l))),r<9&&i>=9&&(d=d.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(d=d.next(()=>this.js(l))),r<11&&i>=11&&(d=d.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(d=d.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:i1});_.createIndex("collectionPathOverlayIndex",s1,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",zv,{unique:!1})}(e)})),r<13&&i>=13&&(d=d.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:Ja});_.createIndex("documentKeyIndex",WI),_.createIndex("collectionGroupIndex",Wv)}(e)).next(()=>this.Ws(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(d=d.next(()=>this.zs(e,l))),r<15&&i>=15&&(d=d.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:Xm}).createIndex("sequenceNumberIndex",e_,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:KI}).createIndex("documentKeyIndex",YI,{unique:!1})}(e))),d}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=Sp(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>_e.forEach(i,l=>{const d=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",d).next(f=>_e.forEach(f,_=>{Ht(_.userId===l.userId);const w=qc(this.It,_);return g1(e,l.userId,w).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const l=[];return r.Z((d,f)=>{const _=new tn(d),w=[0,Yi(_)];l.push(t.get(w).next(S=>S?_e.resolve():t.put({targetId:0,path:Yi(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>_e.waitFor(l))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:ZI});const r=t.store("collectionParents"),i=new Ep,l=d=>{if(i.add(d)){const f=d.lastSegment(),_=d.popLast();return r.put({collectionId:f,parent:Yi(_)})}};return t.store("remoteDocuments").Z({X:!0},(d,f)=>{const _=new tn(d);return l(_.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([d,f,_],w)=>{const S=Qa(f);return l(S.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const l=Fh(i),d=l1(this.It,l);return t.put(d)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((l,d)=>{const f=t.store("remoteDocumentsV14"),_=(w=d,w.document?new at(tn.fromString(w.document.name).popFirst(5)):w.noDocument?at.fromSegments(w.noDocument.path):w.unknownDocument?at.fromSegments(w.unknownDocument.path):bt()).path.toArray();var w;const S={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};i.push(f.put(S))}).next(()=>_e.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=s0(this.It),l=new Np(xp.Bs,this.It.re);return r.W().next(d=>{const f=new Map;return d.forEach(_=>{var w;let S=null!==(w=f.get(_.userId))&&void 0!==w?w:Yt();qc(this.It,_).keys().forEach(x=>S=S.add(x)),f.set(_.userId,S)}),_e.forEach(f,(_,w)=>{const S=new si(w),x=r_.oe(this.It,S),j=l.getIndexManager(S),q=Bh.oe(S,this.It,j,l.referenceDelegate);return new lT(i,q,x,j).recalculateAndSaveOverlaysForDocumentKeys(new vp(t,xs.at),_).next()})})}}function a_(n){n.createObjectStore("targetDocuments",{keyPath:zI}).createIndex("documentTargetsIndex",qI,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",yp,{unique:!0}),n.createObjectStore("targetGlobal")}const l_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class a0{constructor(e,t,r,i,l,d,f,_,w,S,x=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=l,this.window=d,this.document=f,this.Js=w,this.Ys=S,this.Xs=x,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=j=>Promise.resolve(),!a0.C())throw new He(De.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new y1(this,i),this.ii=t+"main",this.It=new a1(_),this.ri=new Oo(this.ii,this.Xs,new iN(this.It)),this.Cs=new iT(this.referenceDelegate,this.It),this.remoteDocumentCache=s0(this.It),this.Ns=new u1,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===S&&Wr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new He(De.FAILED_PRECONDITION,l_);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new xs(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,Ne.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Ne.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Ne.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>l0(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Vl(e))return Ke("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ke("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Uh(e).get("owner").next(t=>_e.resolve(this.mi(t)))}gi(e){return l0(e).delete(this.clientId)}yi(){var e=this;return(0,Ne.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=li(r,"clientMetadata");return i.W().next(l=>{const d=e.Ii(l,18e5),f=l.filter(_=>-1===d.indexOf(_));return _e.forEach(f,_=>i.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?_e.resolve(!0):Uh(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new He(De.FAILED_PRECONDITION,l_);return!1}}return!(!this.networkEnabled||!this.inForeground)||l0(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const d=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||d&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ke("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ne.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new vp(t,xs.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>l0(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Bh.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new f1(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return r_.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){Ke("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",l=15===(d=this.Xs)?Zv:14===d?JI:13===d?o1:12===d?QI:11===d?qv:void bt();var d;let f;return this.ri.runTransaction(e,i,l,_=>(f=new vp(_,this.Ss?this.Ss.next():xs.at),"readwrite-primary"===t?this.fi(f).next(w=>!!w||this.di(f)).next(w=>{if(!w)throw Wr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new He(De.FAILED_PRECONDITION,Xw);return r(f)}).next(w=>this.wi(f).next(()=>w)):this.Vi(f).next(()=>r(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}Vi(e){return Uh(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new He(De.FAILED_PRECONDITION,l_)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Uh(e).put("owner",t)}static C(){return Oo.C()}_i(e){const t=Uh(e);return t.get("owner").next(r=>this.mi(r)?(Ke("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):_e.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Wr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,xn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Ke("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Wr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Wr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Uh(n){return li(n,"owner")}function l0(n){return li(n,"clientMetadata")}function I1(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class c0{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=Yt(),i=Yt();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new c0(e,t.fromCache,r,i)}}class T1{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(l=>l||this.Oi(e,t,i,r)).next(l=>l||this.Mi(e,t))}ki(e,t){if(mD(t))return _e.resolve(null);let r=Ms(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=pp(t,null,"F"),r=Ms(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const d=Yt(...l);return this.Ni.getDocuments(e,d).next(f=>this.indexManager.getMinOffset(e,r).next(_=>{const w=this.Fi(t,f);return this.$i(t,w,d,_.readTime)?this.ki(e,pp(t,null,"F")):this.Bi(e,w,t,_)}))})))}Oi(e,t,r,i){return mD(t)||i.isEqual(Nt.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(l=>{const d=this.Fi(t,l);return this.$i(t,d,r,i)?this.Mi(e,t):(Em()<=xu.in.DEBUG&&Ke("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Vv(t)),this.Bi(e,d,t,Jw(i,-1)))})}Fi(e,t){let r=new qn(bD(e));return t.forEach((i,l)=>{Vm(e,l)&&(r=r.add(l))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}Mi(e,t){return Em()<=xu.in.DEBUG&&Ke("QueryEngine","Using full collection scan to execute query:",Vv(t)),this.Ni.getDocumentsMatchingQuery(e,t,Ns.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(l=>(t.forEach(d=>{l=l.insert(d.key,d)}),l))}}class c_{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.It=i,this.Ui=new Or(Kt),this.qi=new $c(l=>Lc(l),up),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lT(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function S1(n,e,t,r){return new c_(n,e,t,r)}function cT(n,e){return A1.apply(this,arguments)}function A1(){return A1=(0,Ne.Z)(function*(n,e){const t=ct(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(l=>(i=l,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const d=[],f=[];let _=Yt();for(const w of i){d.push(w.batchId);for(const S of w.mutations)_=_.add(S.key)}for(const w of l){f.push(w.batchId);for(const S of w.mutations)_=_.add(S.key)}return t.localDocuments.getDocuments(r,_).next(w=>({ji:w,removedBatchIds:d,addedBatchIds:f}))})})}),A1.apply(this,arguments)}function sN(n,e){const t=ct(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),l=t.Gi.newChangeBuffer({trackRemovals:!0});return function(d,f,_,w){const S=_.batch,x=S.keys();let j=_e.resolve();return x.forEach(q=>{j=j.next(()=>w.getEntry(f,q)).next(re=>{const ve=_.docVersions.get(q);Ht(null!==ve),re.version.compareTo(ve)<0&&(S.applyToRemoteDocument(re,_),re.isValidDocument()&&(re.setReadTime(_.commitVersion),w.addEntry(re)))})}),j.next(()=>d.mutationQueue.removeMutationBatch(f,S))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let f=Yt();for(let _=0;_<d.mutationResults.length;++_)d.mutationResults[_].transformResults.length>0&&(f=f.add(d.batch.mutations[_].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function N1(n){const e=ct(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function uT(n,e){const t=ct(n),r=e.snapshotVersion;let i=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const d=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.Ui;const f=[];e.targetChanges.forEach((S,x)=>{const j=i.get(x);if(!j)return;f.push(t.Cs.removeMatchingKeys(l,S.removedDocuments,x).next(()=>t.Cs.addMatchingKeys(l,S.addedDocuments,x)));let q=j.withSequenceNumber(l.currentSequenceNumber);var re,ve,Ee;e.targetMismatches.has(x)?q=q.withResumeToken(ai.EMPTY_BYTE_STRING,Nt.min()).withLastLimboFreeSnapshotVersion(Nt.min()):S.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(S.resumeToken,r)),i=i.insert(x,q),ve=q,Ee=S,(0===(re=j).resumeToken.approximateByteSize()||ve.snapshotVersion.toMicroseconds()-re.snapshotVersion.toMicroseconds()>=3e8||Ee.addedDocuments.size+Ee.modifiedDocuments.size+Ee.removedDocuments.size>0)&&f.push(t.Cs.updateTargetData(l,q))});let _=Ki(),w=Yt();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,S))}),f.push(x1(l,d,e.documentUpdates).next(S=>{_=S.Wi,w=S.zi})),!r.isEqual(Nt.min())){const S=t.Cs.getLastRemoteSnapshotVersion(l).next(x=>t.Cs.setTargetsMetadata(l,l.currentSequenceNumber,r));f.push(S)}return _e.waitFor(f).next(()=>d.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,_,w)).next(()=>_)}).then(l=>(t.Ui=i,l))}function x1(n,e,t){let r=Yt(),i=Yt();return t.forEach(l=>r=r.add(l)),e.getEntries(n,r).next(l=>{let d=Ki();return t.forEach((f,_)=>{const w=l.get(f);_.isFoundDocument()!==w.isFoundDocument()&&(i=i.add(f)),_.isNoDocument()&&_.version.isEqual(Nt.min())?(e.removeEntry(f,_.readTime),d=d.insert(f,_)):!w.isValidDocument()||_.version.compareTo(w.version)>0||0===_.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(_),d=d.insert(f,_)):Ke("LocalStore","Ignoring outdated watch update for ",f,". Current version:",w.version," Watch version:",_.version)}),{Wi:d,zi:i}})}function oN(n,e){const t=ct(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function jh(n,e){const t=ct(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(l=>l?(i=l,_e.resolve(i)):t.Cs.allocateTargetId(r).next(d=>(i=new Gc(e,d,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function cd(n,e,t){return u_.apply(this,arguments)}function u_(){return u_=(0,Ne.Z)(function*(n,e,t){const r=ct(n),i=r.Ui.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,d=>r.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!Vl(d))throw d;Ke("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}),u_.apply(this,arguments)}function u0(n,e,t){const r=ct(n);let i=Nt.min(),l=Yt();return r.persistence.runTransaction("Execute query","readonly",d=>function(f,_,w){const S=ct(f),x=S.qi.get(w);return void 0!==x?_e.resolve(S.Ui.get(x)):S.Cs.getTargetData(_,w)}(r,d,Ms(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(d,f.targetId).next(_=>{l=_})}).next(()=>r.Li.getDocumentsMatchingQuery(d,e,t?i:Nt.min(),t?l:Yt())).next(f=>(d_(r,Ch(e),f),{documents:f,Hi:l})))}function Ro(n,e){const t=ct(n),r=ct(t.Cs),i=t.Ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",l=>r.se(l,e).next(d=>d?d.target:null))}function M1(n,e){const t=ct(n),r=t.Ki.get(e)||Nt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,Jw(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(d_(t,e,i),i))}function d_(n,e,t){let r=n.Ki.get(e)||Nt.min();t.forEach((i,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.Ki.set(e,r)}function Os(){return Os=(0,Ne.Z)(function*(n,e,t,r){const i=ct(n);let l=Yt(),d=Ki();for(const w of t){const S=e.Ji(w.metadata.name);w.document&&(l=l.add(S));const x=e.Yi(w);x.setReadTime(e.Xi(w.metadata.readTime)),d=d.insert(S,x)}const f=i.Gi.newChangeBuffer({trackRemovals:!0}),_=yield jh(i,(w=r,Ms(Qu(tn.fromString(`__bundle__/docs/${w}`)))));var w;return i.persistence.runTransaction("Apply bundle documents","readwrite",w=>x1(w,f,d).next(S=>(f.apply(w),S)).next(S=>i.Cs.removeMatchingKeysForTargetId(w,_.targetId).next(()=>i.Cs.addMatchingKeys(w,l,_.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(w,S.Wi,S.zi)).next(()=>S.Wi)))}),Os.apply(this,arguments)}function hT(n,e){return Mp.apply(this,arguments)}function Mp(){return Mp=(0,Ne.Z)(function*(n,e,t=Yt()){const r=yield jh(n,Ms(t_(e.bundledQuery))),i=ct(n);return i.persistence.runTransaction("Save named query","readwrite",l=>{const d=Ti(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return i.Ns.saveNamedQuery(l,e);const f=r.withResumeToken(ai.EMPTY_BYTE_STRING,d);return i.Ui=i.Ui.insert(f.targetId,f),i.Cs.updateTargetData(l,f).next(()=>i.Cs.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>i.Cs.addMatchingKeys(l,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(l,e))})}),Mp.apply(this,arguments)}function O1(n,e){return`firestore_clients_${n}_${e}`}function R1(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Op(n,e){return`firestore_targets_${n}_${e}`}class Rp{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let l,d="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return d&&i.error&&(d="string"==typeof i.error.message&&"string"==typeof i.error.code,d&&(l=new He(i.error.code,i.error.message))),d?new Rp(e,t,i.state,l):(Wr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class $h{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(i=new He(r.error.code,r.error.message))),l?new $h(e,r.state,i):(Wr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class h_{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,l=qm();for(let d=0;i&&d<r.activeTargetIds.length;++d)i=Nm(r.activeTargetIds[d]),l=l.add(r.activeTargetIds[d]);return i?new h_(e,l):(Wr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class f_{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new f_(t.clientId,t.onlineState):(Wr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class p_{constructor(){this.activeTargetIds=qm()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class d0{constructor(e,t,r,i,l){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Or(Kt),this.started=!1,this.cr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.ar=O1(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new p_),this.lr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ne.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const l=e.getItem(O1(e.persistenceKey,i));if(l){const d=h_.Zi(i,l);d&&(e.ur=e.ur.insert(d.clientId,d))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Op(this.persistenceKey,e));if(r){const i=$h.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Op(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ke("SharedClientState","READ",e,t),t}setItem(e,t){Ke("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ke("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ke("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void Wr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Ne.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(l){let d=xs.at;if(null!=l)try{const f=JSON.parse(l);Ht("number"==typeof f),d=f}catch(f){Wr("SharedClientState","Failed to read sequence number from WebStorage",f)}return d}(r.newValue);i!==xs.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Or(r.newValue);yield Promise.all(i.map(l=>t.syncEngine.Mr(l)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new Rp(this.currentUser,e,t,r),l=R1(this.persistenceKey,this.currentUser,e);this.setItem(l,i.tr())}Er(e){const t=R1(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=Op(this.persistenceKey,e),l=new $h(e,t,r);this.setItem(i,l.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return h_.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return Rp.Zi(new si(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return $h.Zi(i,t)}yr(e){return f_.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Ne.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Ke("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),l=this.Ir(r),d=[],f=[];return l.forEach(_=>{i.has(_)||d.push(_)}),i.forEach(_=>{l.has(_)||f.push(_)}),this.syncEngine.Br(d,f).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=qm();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class h0{constructor(){this.Lr=new p_,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new p_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class fT{qr(e){}shutdown(){}}class g_{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Qc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class k1{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class f0 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,l){const d=this.ho(e,t);Ke("RestConnection","Sending: ",d,r);const f={};return this.lo(f,i,l),this.fo(e,d,f,r).then(_=>(Ke("RestConnection","Received: ",_),_),_=>{throw zu("RestConnection",`${e} failed with error: `,_,"url: ",d,"request:",r),_})}_o(e,t,r,i,l,d){return this.ao(e,t,r,i,l)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Wu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,l)=>e[l]=i),r&&r.headers.forEach((i,l)=>e[l]=i)}ho(e,t){return`${this.oo}/v1/${t}:${Qc[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((l,d)=>{const f=new Ww;f.setWithCredentials(!0),f.listenOnce(mI.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Cm.NO_ERROR:const w=f.getResponseJson();Ke("Connection","XHR received:",JSON.stringify(w)),l(w);break;case Cm.TIMEOUT:Ke("Connection",'RPC "'+e+'" timed out'),d(new He(De.DEADLINE_EXCEEDED,"Request time out"));break;case Cm.HTTP_ERROR:const S=f.getStatus();if(Ke("Connection",'RPC "'+e+'" failed with status:',S,"response text:",f.getResponseText()),S>0){const x=f.getResponseJson().error;if(x&&x.status&&x.message){const j=function(q){const re=q.toLowerCase().replace(/_/g,"-");return Object.values(De).indexOf(re)>=0?re:De.UNKNOWN}(x.status);d(new He(j,x.message))}else d(new He(De.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new He(De.UNAVAILABLE,"Connection failed."));break;default:bt()}}finally{Ke("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(i);f.send(t,"POST",_,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=$w(),d=Hw(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new wv({})),this.lo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const _=i.join("");Ke("Connection","Creating WebChannel: "+_,f);const w=l.createWebChannel(_,f);let S=!1,x=!1;const j=new k1({Hr:re=>{x?Ke("Connection","Not sending because WebChannel is closed:",re):(S||(Ke("Connection","Opening WebChannel transport."),w.open(),S=!0),Ke("Connection","WebChannel sending:",re),w.send(re))},Jr:()=>w.close()}),q=(re,ve,Ee)=>{re.listen(ve,nt=>{try{Ee(nt)}catch(st){setTimeout(()=>{throw st},0)}})};return q(w,Gu.EventType.OPEN,()=>{x||Ke("Connection","WebChannel transport opened.")}),q(w,Gu.EventType.CLOSE,()=>{x||(x=!0,Ke("Connection","WebChannel transport closed"),j.io())}),q(w,Gu.EventType.ERROR,re=>{x||(x=!0,zu("Connection","WebChannel transport errored:",re),j.io(new He(De.UNAVAILABLE,"The operation could not be completed")))}),q(w,Gu.EventType.MESSAGE,re=>{var ve;if(!x){const Ee=re.data[0];Ht(!!Ee);const nt=Ee,st=nt.error||(null===(ve=nt[0])||void 0===ve?void 0:ve.error);if(st){Ke("Connection","WebChannel received error:",st);const _t=st.status;let ut=function(gt){const nn=Ur[gt];if(void 0!==nn)return Bv(nn)}(_t),ot=st.message;void 0===ut&&(ut=De.INTERNAL,ot="Unknown error status: "+_t+" with message "+st.message),x=!0,j.io(new He(ut,ot)),w.close()}else Ke("Connection","WebChannel received:",Ee),j.ro(Ee)}}),q(d,Gw.STAT_EVENT,re=>{re.stat===bv.PROXY?Ke("Connection","Detected buffering proxy"):re.stat===bv.NOPROXY&&Ke("Connection","Detected no buffering proxy")}),setTimeout(()=>{j.so()},0),j}}function Xa(){return typeof window<"u"?window:null}function m_(){return typeof document<"u"?document:null}function __(n){return new $D(n,!0)}class p0{constructor(e,t,r=1e3,i=1.5,l=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=l,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&Ke("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class P1{constructor(e,t,r,i,l,d,f,_){this.Hs=e,this.vo=r,this.Vo=i,this.connection=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new p0(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,Ne.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,Ne.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,Ne.Z)(function*(){r.Lo(),r.Uo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===De.RESOURCE_EXHAUSTED?(Wr(t.toString()),Wr("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===De.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new He(De.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,Ne.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Ke("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pT extends P1{constructor(e,t,r,i,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,d),this.It=l}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function ZD(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:bt(),i=e.targetChange.targetIds||[],l=function(_,w){return _.gt?(Ht(void 0===w||"string"==typeof w),ai.fromBase64String(w||"")):(Ht(void 0===w||w instanceof Uint8Array),ai.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,f=d&&function(_){const w=void 0===_.code?De.UNKNOWN:Bv(_.code);return new He(w,_.message||"")}(d);t=new Km(r,i,l,f||null)}else if("documentChange"in e){const r=e.documentChange,i=Ya(n,r.document.name),l=Ti(r.document.updateTime),d=new Ii({mapValue:{fields:r.document.fields}}),f=lr.newFoundDocument(i,l,d);t=new Mh(r.targetIds||[],r.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const r=e.documentDelete,i=Ya(n,r.document),l=r.readTime?Ti(r.readTime):Nt.min(),d=lr.newNoDocument(i,l);t=new Mh([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,i=Ya(n,r.document);t=new Mh([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return bt();{const r=e.filter,l=new RD(r.count||0);t=new LD(r.targetId,l)}}var _;return t}(this.It,e),r=function(i){if(!("targetChange"in i))return Nt.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?Nt.min():l.readTime?Ti(l.readTime):Nt.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=Jm(this.It),t.addTarget=function(i,l){let d;const f=l.target;return d=Pm(f)?{documents:KD(i,f)}:{query:Hv(i,f)},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?d.resumeToken=HD(i,l.resumeToken):l.snapshotVersion.compareTo(Nt.min())>0&&(d.readTime=_p(i,l.snapshotVersion.toTimestamp())),d}(this.It,e);const r=function jI(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return bt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=Jm(this.It),t.removeTarget=e,this.Bo(t)}}class gT extends P1{constructor(e,t,r,i,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,d),this.It=l,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(Ht(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function UI(n,e){return n&&n.length>0?(Ht(void 0!==e),n.map(t=>function(r,i){let l=Ti(r.updateTime?r.updateTime:i);return l.isEqual(Nt.min())&&(l=Ti(i)),new AD(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Ti(e.commitTime);return this.listener.Zo(r,t)}return Ht(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Jm(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Rh(this.It,r))};this.Bo(t)}}class F1 extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.It=i,this.nu=!1}su(){if(this.nu)throw new He(De.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.connection.ao(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===De.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new He(De.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.connection._o(e,t,r,l,d,i)).catch(l=>{throw"FirebaseError"===l.name?(l.code===De.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new He(De.UNKNOWN,l.toString())})}terminate(){this.nu=!0}}class mT{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Wr(t),this.ou=!1):Ke("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class L1{constructor(e,t,r,i,l){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=l,this.mu.qr(f=>{r.enqueueAndForget((0,Ne.Z)(function*(){var _;$l(d)&&(Ke("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,Ne.Z)(function*(w){const S=ct(w);S._u.add(4),yield ud(S),S.gu.set("Unknown"),S._u.delete(4),yield v_(S)}),function(w){return _.apply(this,arguments)})(d))}))}),this.gu=new mT(r,i)}}function v_(n){return kp.apply(this,arguments)}function kp(){return kp=(0,Ne.Z)(function*(n){if($l(n))for(const e of n.wu)yield e(!0)}),kp.apply(this,arguments)}function ud(n){return b_.apply(this,arguments)}function b_(){return b_=(0,Ne.Z)(function*(n){for(const e of n.wu)yield e(!1)}),b_.apply(this,arguments)}function Pp(n,e){const t=ct(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),D_(t)?Gh(t):jp(t).ko()&&w_(t,e))}function Hh(n,e){const t=ct(n),r=jp(t);t.du.delete(e),r.ko()&&Fp(t,e),0===t.du.size&&(r.ko()?r.Fo():$l(t)&&t.gu.set("Unknown"))}function w_(n,e){n.yu.Mt(e.targetId),jp(n).zo(e)}function Fp(n,e){n.yu.Mt(e),jp(n).Ho(e)}function Gh(n){n.yu=new BD({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),jp(n).start(),n.gu.uu()}function D_(n){return $l(n)&&!jp(n).No()&&n.du.size>0}function $l(n){return 0===ct(n)._u.size}function g0(n){n.yu=void 0}function V1(n){return m0.apply(this,arguments)}function m0(){return m0=(0,Ne.Z)(function*(n){n.du.forEach((e,t)=>{w_(n,e)})}),m0.apply(this,arguments)}function _T(n,e){return B1.apply(this,arguments)}function B1(){return B1=(0,Ne.Z)(function*(n,e){g0(n),D_(n)?(n.gu.hu(e),Gh(n)):n.gu.set("Unknown")}),B1.apply(this,arguments)}function lN(n,e,t){return C_.apply(this,arguments)}function C_(){return C_=(0,Ne.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof Km&&2===e.state&&e.cause)try{yield(r=(0,Ne.Z)(function*(i,l){const d=l.cause;for(const f of l.targetIds)i.du.has(f)&&(yield i.remoteSyncer.rejectListen(f,d),i.du.delete(f),i.yu.removeTarget(f))}),function(i,l){return r.apply(this,arguments)})(n,e)}catch(r){Ke("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield E_(n,r)}else if(e instanceof Mh?n.yu.Gt(e):e instanceof LD?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(Nt.min()))try{const r=yield N1(n.localStore);t.compareTo(r)>=0&&(yield function(i,l){const d=i.yu.te(l);return d.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const w=i.du.get(_);w&&i.du.set(_,w.withResumeToken(f.resumeToken,l))}}),d.targetMismatches.forEach(f=>{const _=i.du.get(f);if(!_)return;i.du.set(f,_.withResumeToken(ai.EMPTY_BYTE_STRING,_.snapshotVersion)),Fp(i,f);const w=new Gc(_.target,f,1,_.sequenceNumber);w_(i,w)}),i.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){Ke("RemoteStore","Failed to raise snapshot:",r),yield E_(n,r)}var r}),C_.apply(this,arguments)}function E_(n,e,t){return _0.apply(this,arguments)}function _0(){return _0=(0,Ne.Z)(function*(n,e,t){if(!Vl(e))throw e;n._u.add(1),yield ud(n),n.gu.set("Offline"),t||(t=()=>N1(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ne.Z)(function*(){Ke("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield v_(n)}))}),_0.apply(this,arguments)}function U1(n,e){return e().catch(t=>E_(n,t,e))}function Lp(n){return j1.apply(this,arguments)}function j1(){return j1=(0,Ne.Z)(function*(n){const e=ct(n),t=hd(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;cN(e);)try{const i=yield oN(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,uN(e,i)}catch(i){yield E_(e,i)}yT(e)&&$1(e)}),j1.apply(this,arguments)}function cN(n){return $l(n)&&n.fu.length<10}function uN(n,e){n.fu.push(e);const t=hd(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function yT(n){return $l(n)&&!hd(n).No()&&n.fu.length>0}function $1(n){hd(n).start()}function I_(n){return y0.apply(this,arguments)}function y0(){return y0=(0,Ne.Z)(function*(n){hd(n).eu()}),y0.apply(this,arguments)}function vT(n){return T_.apply(this,arguments)}function T_(){return T_=(0,Ne.Z)(function*(n){const e=hd(n);for(const t of n.fu)e.Xo(t.mutations)}),T_.apply(this,arguments)}function dd(n,e,t){return S_.apply(this,arguments)}function S_(){return S_=(0,Ne.Z)(function*(n,e,t){const r=n.fu.shift(),i=wp.from(r,e,t);yield U1(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Lp(n)}),S_.apply(this,arguments)}function v0(n,e){return Vp.apply(this,arguments)}function Vp(){return Vp=(0,Ne.Z)(function*(n,e){var t;e&&hd(n).Yo&&(yield(t=(0,Ne.Z)(function*(r,i){if(Gm(l=i.code)&&l!==De.ABORTED){const d=r.fu.shift();hd(r).Mo(),yield U1(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,i)),yield Lp(r)}var l}),function(r,i){return t.apply(this,arguments)})(n,e)),yT(n)&&$1(n)}),Vp.apply(this,arguments)}function H1(n,e){return Bp.apply(this,arguments)}function Bp(){return Bp=(0,Ne.Z)(function*(n,e){const t=ct(n);t.asyncQueue.verifyOperationInProgress(),Ke("RemoteStore","RemoteStore received new credentials");const r=$l(t);t._u.add(3),yield ud(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield v_(t)}),Bp.apply(this,arguments)}function Up(n,e){return Wh.apply(this,arguments)}function Wh(){return Wh=(0,Ne.Z)(function*(n,e){const t=ct(n);e?(t._u.delete(2),yield v_(t)):e||(t._u.add(2),yield ud(t),t.gu.set("Unknown"))}),Wh.apply(this,arguments)}function jp(n){return n.pu||(n.pu=function(e,t,r){const i=ct(e);return i.su(),new pT(t,i.connection,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:V1.bind(null,n),Zr:_T.bind(null,n),Wo:lN.bind(null,n)}),n.wu.push(function(){var e=(0,Ne.Z)(function*(t){t?(n.pu.Mo(),D_(n)?Gh(n):n.gu.set("Unknown")):(yield n.pu.stop(),g0(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function hd(n){return n.Iu||(n.Iu=function(e,t,r){const i=ct(e);return i.su(),new gT(t,i.connection,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:I_.bind(null,n),Zr:v0.bind(null,n),tu:vT.bind(null,n),Zo:dd.bind(null,n)}),n.wu.push(function(){var e=(0,Ne.Z)(function*(t){t?(n.Iu.Mo(),yield Lp(n)):(yield n.Iu.stop(),n.fu.length>0&&(Ke("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class G1{constructor(e,t,r,i,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=l,this.deferred=new zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,i,l){const d=Date.now()+r,f=new G1(e,t,d,i,l);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new He(De.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $p(n,e){if(Wr("AsyncQueue",`${e}: ${n}`),Vl(n))return new He(De.UNAVAILABLE,`${e}: ${n}`);throw n}class fd{constructor(e){this.comparator=e?(t,r)=>e(t,r)||at.comparator(t.key,r.key):(t,r)=>at.comparator(t.key,r.key),this.keyedMap=Nh(),this.sortedSet=new Or(this.comparator)}static emptySet(e){return new fd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof fd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new fd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class W1{constructor(){this.Tu=new Or(at.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):bt():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class zh{constructor(e,t,r,i,l,d,f,_,w){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=f,this.excludesMetadataChanges=_,this.hasCachedResults=w}static fromInitialDocuments(e,t,r,i,l){const d=[];return t.forEach(f=>{d.push({type:0,doc:f})}),new zh(e,t,fd.emptySet(t),d,r,i,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class bT{constructor(){this.Au=void 0,this.listeners=[]}}class wT{constructor(){this.queries=new $c(e=>vD(e),Bc),this.onlineState="Unknown",this.Ru=new Set}}function A_(n,e){return N_.apply(this,arguments)}function N_(){return N_=(0,Ne.Z)(function*(n,e){const t=ct(n),r=e.query;let i=!1,l=t.queries.get(r);if(l||(i=!0,l=new bT),i)try{l.Au=yield t.onListen(r)}catch(d){const f=$p(d,`Initialization of query '${Vv(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,l),l.listeners.push(e),e.bu(t.onlineState),l.Au&&e.Pu(l.Au)&&Hp(t)}),N_.apply(this,arguments)}function x_(n,e){return b0.apply(this,arguments)}function b0(){return b0=(0,Ne.Z)(function*(n,e){const t=ct(n),r=e.query;let i=!1;const l=t.queries.get(r);if(l){const d=l.listeners.indexOf(e);d>=0&&(l.listeners.splice(d,1),i=0===l.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),b0.apply(this,arguments)}function DT(n,e){const t=ct(n);let r=!1;for(const i of e){const d=t.queries.get(i.query);if(d){for(const f of d.listeners)f.Pu(i)&&(r=!0);d.Au=i}}r&&Hp(t)}function z1(n,e,t){const r=ct(n),i=r.queries.get(e);if(i)for(const l of i.listeners)l.onError(t);r.queries.delete(e)}function Hp(n){n.Ru.forEach(e=>{e.next()})}class q1{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new zh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=zh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class Z1{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class M_{constructor(e){this.It=e}Ji(e){return Ya(this.It,e)}Yi(e){return e.metadata.exists?zD(this.It,e.document,!1):lr.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Ti(e)}}class CT{constructor(e,t,r){this.Mu=e,this.localStore=t,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=K1(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const r=tn.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new M_(this.It);for(const i of e)if(i.metadata.queries){const l=r.Ji(i.metadata.name);for(const d of i.metadata.queries){const f=(t.get(d)||Yt()).add(l);t.set(d,f)}}return t}complete(){var e=this;return(0,Ne.Z)(function*(){const t=yield function dT(n,e,t,r){return Os.apply(this,arguments)}(e.localStore,new M_(e.It),e.documents,e.Mu.id),r=e.$u(e.documents);for(const i of e.queries)yield hT(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function K1(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class ET{constructor(e){this.key=e}}class IT{constructor(e){this.key=e}}class Y1{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Yt(),this.mutatedKeys=Yt(),this.Gu=bD(e),this.Qu=new fd(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new W1,i=t?t.Qu:this.Qu;let l=t?t.mutatedKeys:this.mutatedKeys,d=i,f=!1;const _="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,w="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((S,x)=>{const j=i.get(S),q=Vm(this.query,x)?x:null,re=!!j&&this.mutatedKeys.has(j.key),ve=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let Ee=!1;j&&q?j.data.isEqual(q.data)?re!==ve&&(r.track({type:3,doc:q}),Ee=!0):this.Hu(j,q)||(r.track({type:2,doc:q}),Ee=!0,(_&&this.Gu(q,_)>0||w&&this.Gu(q,w)<0)&&(f=!0)):!j&&q?(r.track({type:0,doc:q}),Ee=!0):j&&!q&&(r.track({type:1,doc:j}),Ee=!0,(_||w)&&(f=!0)),Ee&&(q?(d=d.add(q),l=ve?l.add(S):l.delete(S)):(d=d.delete(S),l=l.delete(S)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const S="F"===this.query.limitType?d.last():d.first();d=d.delete(S.key),l=l.delete(S.key),r.track({type:1,doc:S})}return{Qu:d,zu:r,$i:f,mutatedKeys:l}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const l=e.zu.Eu();l.sort((w,S)=>function(x,j){const q=re=>{switch(re){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt()}};return q(x)-q(j)}(w.type,S.type)||this.Gu(w.doc,S.doc)),this.Ju(r);const d=t?this.Yu():[],f=0===this.Ku.size&&this.current?1:0,_=f!==this.qu;return this.qu=f,0!==l.length||_?{snapshot:new zh(this.query,e.Qu,i,l,e.mutatedKeys,0===f,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:d}:{Xu:d}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new W1,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Yt(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new IT(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new ET(r))}),t}tc(e){this.Uu=e.Hi,this.Ku=Yt();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return zh.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class TT{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class ST{constructor(e){this.key=e,this.nc=!1}}class dN{constructor(e,t,r,i,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.sc={},this.ic=new $c(f=>vD(f),Bc),this.rc=new Map,this.oc=new Set,this.uc=new Or(at.comparator),this.cc=new Map,this.ac=new D1,this.hc={},this.lc=new Map,this.fc=od.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function hN(n,e){return Q1.apply(this,arguments)}function Q1(){return Q1=(0,Ne.Z)(function*(n,e){const t=RT(n);let r,i;const l=t.ic.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),i=l.view.ec();else{const d=yield jh(t.localStore,Ms(e));t.isPrimaryClient&&Pp(t.remoteStore,d);const f=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,i=yield J1(t,e,r,"current"===f,d.resumeToken)}return i}),Q1.apply(this,arguments)}function J1(n,e,t,r,i){return X1.apply(this,arguments)}function X1(){return X1=(0,Ne.Z)(function*(n,e,t,r,i){n._c=(x,j,q)=>{return(re=(0,Ne.Z)(function*(ve,Ee,nt,st){let _t=Ee.view.Wu(nt);_t.$i&&(_t=yield u0(ve.localStore,Ee.query,!1).then(({documents:gt})=>Ee.view.Wu(gt,_t)));const ut=st&&st.targetChanges.get(Ee.targetId),ot=Ee.view.applyChanges(_t,ve.isPrimaryClient,ut);return Q(ve,Ee.targetId,ot.Xu),ot.snapshot}),function(ve,Ee,nt,st){return re.apply(this,arguments)})(n,x,j,q);var re};const l=yield u0(n.localStore,e,!0),d=new Y1(e,l.Hi),f=d.Wu(l.documents),_=xh.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),w=d.applyChanges(f,n.isPrimaryClient,_);Q(n,t,w.Xu);const S=new TT(e,t,d);return n.ic.set(e,S),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),w.snapshot}),X1.apply(this,arguments)}function AT(n,e){return eC.apply(this,arguments)}function eC(){return eC=(0,Ne.Z)(function*(n,e){const t=ct(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(l=>!Bc(l,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield cd(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Hh(t.remoteStore,r.targetId),P(t,r.targetId)}).catch(Ll))):(P(t,r.targetId),yield cd(t.localStore,r.targetId,!0))}),eC.apply(this,arguments)}function tC(){return tC=(0,Ne.Z)(function*(n,e,t){const r=kT(n);try{const i=yield function(l,d){const f=ct(l),_=fr.now(),w=d.reduce((j,q)=>j.add(q.key),Yt());let S,x;return f.persistence.runTransaction("Locally write mutations","readwrite",j=>{let q=Ki(),re=Yt();return f.Gi.getEntries(j,w).next(ve=>{q=ve,q.forEach((Ee,nt)=>{nt.isValidDocument()||(re=re.add(Ee))})}).next(()=>f.localDocuments.getOverlayedDocuments(j,q)).next(ve=>{S=ve;const Ee=[];for(const nt of d){const st=kI(nt,S.get(nt.key).overlayedDocument);null!=st&&Ee.push(new jl(nt.key,st,Ov(st.value.mapValue),_r.exists(!0)))}return f.mutationQueue.addMutationBatch(j,_,Ee,d)}).next(ve=>{x=ve;const Ee=ve.applyToLocalDocumentSet(S,re);return f.documentOverlayCache.saveOverlays(j,ve.batchId,Ee)})}).then(()=>({batchId:x.batchId,changes:zm(S)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,d,f){let _=l.hc[l.currentUser.toKey()];_||(_=new Or(Kt)),_=_.insert(d,f),l.hc[l.currentUser.toKey()]=_}(r,i.batchId,t),yield ze(r,i.changes),yield Lp(r.remoteStore)}catch(i){const l=$p(i,"Failed to persist write");t.reject(l)}}),tC.apply(this,arguments)}function NT(n,e){return w0.apply(this,arguments)}function w0(){return w0=(0,Ne.Z)(function*(n,e){const t=ct(n);try{const r=yield uT(t.localStore,e);e.targetChanges.forEach((i,l)=>{const d=t.cc.get(l);d&&(Ht(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?d.nc=!0:i.modifiedDocuments.size>0?Ht(d.nc):i.removedDocuments.size>0&&(Ht(d.nc),d.nc=!1))}),yield ze(t,r,e)}catch(r){yield Ll(r)}}),w0.apply(this,arguments)}function xT(n,e,t){const r=ct(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((l,d)=>{const f=d.view.bu(e);f.snapshot&&i.push(f.snapshot)}),function(l,d){const f=ct(l);f.onlineState=d;let _=!1;f.queries.forEach((w,S)=>{for(const x of S.listeners)x.bu(d)&&(_=!0)}),_&&Hp(f)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function s(n,e,t){return o.apply(this,arguments)}function o(){return o=(0,Ne.Z)(function*(n,e,t){const r=ct(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),l=i&&i.key;if(l){let d=new Or(at.comparator);d=d.insert(l,lr.newNoDocument(l,Nt.min()));const f=Yt().add(l),_=new Zm(Nt.min(),new Map,new qn(Kt),d,f);yield NT(r,_),r.uc=r.uc.remove(l),r.cc.delete(e),Me(r)}else yield cd(r.localStore,e,!1).then(()=>P(r,e,t)).catch(Ll)}),o.apply(this,arguments)}function a(n,e){return u.apply(this,arguments)}function u(){return u=(0,Ne.Z)(function*(n,e){const t=ct(n),r=e.batch.batchId;try{const i=yield sN(t.localStore,e);N(t,r,null),I(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield ze(t,i)}catch(i){yield Ll(i)}}),u.apply(this,arguments)}function h(n,e,t){return p.apply(this,arguments)}function p(){return p=(0,Ne.Z)(function*(n,e,t){const r=ct(n);try{const i=yield function(l,d){const f=ct(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return f.mutationQueue.lookupMutationBatch(_,d).next(S=>(Ht(null!==S),w=S.keys(),f.mutationQueue.removeMutationBatch(_,S))).next(()=>f.mutationQueue.performConsistencyCheck(_)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(_,w,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w)).next(()=>f.localDocuments.getDocuments(_,w))})}(r.localStore,e);N(r,e,t),I(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield ze(r,i)}catch(i){yield Ll(i)}}),p.apply(this,arguments)}function b(){return b=(0,Ne.Z)(function*(n,e){const t=ct(n);$l(t.remoteStore)||Ke("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const d=ct(l);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>d.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.lc.get(r)||[];i.push(e),t.lc.set(r,i)}catch(r){const i=$p(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),b.apply(this,arguments)}function I(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function N(n,e,t){const r=ct(n);let i=r.hc[r.currentUser.toKey()];if(i){const l=i.get(e);l&&(t?l.reject(t):l.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function P(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||U(n,r)})}function U(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(Hh(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),Me(n))}function Q(n,e,t){for(const r of t)r instanceof ET?(n.ac.addReference(r.key,e),ce(n,r)):r instanceof IT?(Ke("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||U(n,r.key)):bt()}function ce(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(Ke("SyncEngine","New document in limbo: "+t),n.oc.add(r),Me(n))}function Me(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new at(tn.fromString(e)),r=n.fc.next();n.cc.set(r,new ST(t)),n.uc=n.uc.insert(t,r),Pp(n.remoteStore,new Gc(Ms(Qu(t.path)),r,2,xs.at))}}function ze(n,e,t){return it.apply(this,arguments)}function it(){return it=(0,Ne.Z)(function*(n,e,t){const r=ct(n),i=[],l=[],d=[];var f;r.ic.isEmpty()||(r.ic.forEach((f,_)=>{d.push(r._c(_,e,t).then(w=>{if((w||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,w?.fromCache?"not-current":"current"),w){i.push(w);const S=c0.Ci(_.targetId,w);l.push(S)}}))}),yield Promise.all(d),r.sc.Wo(i),yield(f=(0,Ne.Z)(function*(_,w){const S=ct(_);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>_e.forEach(w,j=>_e.forEach(j.Si,q=>S.persistence.referenceDelegate.addReference(x,j.targetId,q)).next(()=>_e.forEach(j.Di,q=>S.persistence.referenceDelegate.removeReference(x,j.targetId,q)))))}catch(x){if(!Vl(x))throw x;Ke("LocalStore","Failed to update sequence numbers: "+x)}for(const x of w){const j=x.targetId;if(!x.fromCache){const q=S.Ui.get(j),ve=q.withLastLimboFreeSnapshotVersion(q.snapshotVersion);S.Ui=S.Ui.insert(j,ve)}}}),function(_,w){return f.apply(this,arguments)})(r.localStore,l))}),it.apply(this,arguments)}function Dt(n,e){return Pt.apply(this,arguments)}function Pt(){return Pt=(0,Ne.Z)(function*(n,e){const t=ct(n);if(!t.currentUser.isEqual(e)){Ke("SyncEngine","User change. New user:",e.toKey());const r=yield cT(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(d=>{d.forEach(f=>{f.reject(new He(De.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ze(t,r.ji)}var i}),Pt.apply(this,arguments)}function Ue(n,e){const t=ct(n),r=t.cc.get(e);if(r&&r.nc)return Yt().add(r.key);{let i=Yt();const l=t.rc.get(e);if(!l)return i;for(const d of l){const f=t.ic.get(d);i=i.unionWith(f.view.ju)}return i}}function Gt(n,e){return Sn.apply(this,arguments)}function Sn(){return Sn=(0,Ne.Z)(function*(n,e){const t=ct(n),r=yield u0(t.localStore,e.query,!0),i=e.view.tc(r);return t.isPrimaryClient&&Q(t,e.targetId,i.Xu),i}),Sn.apply(this,arguments)}function yr(n,e){return Hl.apply(this,arguments)}function Hl(){return Hl=(0,Ne.Z)(function*(n,e){const t=ct(n);return M1(t.localStore,e).then(r=>ze(t,r))}),Hl.apply(this,arguments)}function D0(n,e,t,r){return Gp.apply(this,arguments)}function Gp(){return Gp=(0,Ne.Z)(function*(n,e,t,r){const i=ct(n),l=yield function(d,f){const _=ct(d),w=ct(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",S=>w.Tn(S,f).next(x=>x?_.localDocuments.getDocuments(S,x):_e.resolve(null)))}(i.localStore,e);var f;null!==l?("pending"===t?yield Lp(i.remoteStore):"acknowledged"===t||"rejected"===t?(N(i,e,r||null),I(i,e),f=e,ct(ct(i.localStore).mutationQueue).An(f)):bt(),yield ze(i,l)):Ke("SyncEngine","Cannot apply mutation batch with id: "+e)}),Gp.apply(this,arguments)}function Wp(){return Wp=(0,Ne.Z)(function*(n,e){const t=ct(n);if(RT(t),kT(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield O_(t,r.toArray());t.dc=!0,yield Up(t.remoteStore,!0);for(const l of i)Pp(t.remoteStore,l)}else if(!1===e&&!1!==t.dc){const r=[];let i=Promise.resolve();t.rc.forEach((l,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):i=i.then(()=>(P(t,d),cd(t.localStore,d,!0))),Hh(t.remoteStore,d)}),yield i,yield O_(t,r),function(l){const d=ct(l);d.cc.forEach((f,_)=>{Hh(d.remoteStore,_)}),d.ac.fs(),d.cc=new Map,d.uc=new Or(at.comparator)}(t),t.dc=!1,yield Up(t.remoteStore,!1)}}),Wp.apply(this,arguments)}function O_(n,e,t){return zp.apply(this,arguments)}function zp(){return zp=(0,Ne.Z)(function*(n,e,t){const r=ct(n),i=[],l=[];for(const d of e){let f;const _=r.rc.get(d);if(_&&0!==_.length){f=yield jh(r.localStore,Ms(_[0]));for(const w of _){const S=r.ic.get(w),x=yield Gt(r,S);x.snapshot&&l.push(x.snapshot)}}else{const w=yield Ro(r.localStore,d);f=yield jh(r.localStore,w),yield J1(r,R_(w),d,!1,f.resumeToken)}i.push(f)}return r.sc.Wo(l),i}),zp.apply(this,arguments)}function R_(n){return gD(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function E0(n){const e=ct(n);return ct(ct(e.localStore).persistence).vi()}function I0(n,e,t,r){return MT.apply(this,arguments)}function MT(){return MT=(0,Ne.Z)(function*(n,e,t,r){const i=ct(n);if(i.dc)return void Ke("SyncEngine","Ignoring unexpected query state notification.");const l=i.rc.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const d=yield M1(i.localStore,Ch(l[0])),f=Zm.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,ai.EMPTY_BYTE_STRING);yield ze(i,d,f);break}case"rejected":yield cd(i.localStore,e,!0),P(i,e,r);break;default:bt()}}),MT.apply(this,arguments)}function kR(n,e,t){return OT.apply(this,arguments)}function OT(){return OT=(0,Ne.Z)(function*(n,e,t){const r=RT(n);if(r.dc){for(const i of e){if(r.rc.has(i)){Ke("SyncEngine","Adding an already active target "+i);continue}const l=yield Ro(r.localStore,i),d=yield jh(r.localStore,l);yield J1(r,R_(l),d.targetId,!1,d.resumeToken),Pp(r.remoteStore,d)}for(const i of t)r.rc.has(i)&&(yield cd(r.localStore,i,!1).then(()=>{Hh(r.remoteStore,i),P(r,i)}).catch(Ll))}}),OT.apply(this,arguments)}function RT(n){const e=ct(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=NT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ue.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=s.bind(null,e),e.sc.Wo=DT.bind(null,e.eventManager),e.sc.wc=z1.bind(null,e.eventManager),e}function kT(n){const e=ct(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=a.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=h.bind(null,e),e}class pN{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ne.Z)(function*(){t.It=__(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return S1(this.persistence,new T1,e.initialUser,this.It)}yc(e){return new Np(xp.Bs,this.It)}gc(e){return new h0}terminate(){var e=this;return(0,Ne.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class gN extends pN{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Ne.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield kT(r.Ac.syncEngine),yield Lp(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return S1(this.persistence,new T1,e.initialUser,this.It)}Tc(e,t){return new sT(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new CI(t,this.persistence);return new DI(e.asyncQueue,r)}yc(e){const t=I1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ci.withCacheSize(this.cacheSizeBytes):ci.DEFAULT;return new a0(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Xa(),m_(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new h0}}class FR extends gN{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Ne.Z)(function*(){yield t().call(r,e);const i=r.Ac.syncEngine;r.sharedClientState instanceof d0&&(r.sharedClientState.syncEngine={Fr:D0.bind(null,i),$r:I0.bind(null,i),Br:kR.bind(null,i),vi:E0.bind(null,i),Mr:yr.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var l=(0,Ne.Z)(function*(d){yield function C0(n,e){return Wp.apply(this,arguments)}(r.Ac.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start():d||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(d&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():d||r.indexBackfillerScheduler.stop())});return function(d){return l.apply(this,arguments)}}())})()}gc(e){const t=Xa();if(!d0.C(t))throw new He(De.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=I1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new d0(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class PT{initialize(e,t){var r=this;return(0,Ne.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>xT(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Dt.bind(null,r.syncEngine),yield Up(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new wT}createDatastore(e){const t=__(e.databaseInfo.databaseId),r=new f0(e.databaseInfo);return new F1(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,l=f=>xT(this.syncEngine,f,0),d=g_.C()?new g_:new fT,new L1(t,r,i,l,d);var t,r,i,l,d}createSyncEngine(e,t){return function(r,i,l,d,f,_,w){const S=new dN(r,i,l,d,f,_);return w&&(S.dc=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ne.Z)(function*(t){const r=ct(t);Ke("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield ud(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function FT(n,e,t){if(!t)throw new He(De.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function mN(n,e,t,r){if(!0===e&&!0===r)throw new He(De.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function _N(n){if(!at.isDocumentKey(n))throw new He(De.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function yN(n){if(at.isDocumentKey(n))throw new He(De.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function nC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":bt()}function wn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new He(De.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=nC(n);throw new He(De.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function vN(n,e){if(e<=0)throw new He(De.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const bN=new Map;class wN{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new He(De.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new He(De.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,mN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class T0{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wN({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new He(De.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new He(De.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wN(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Zw;switch(t.type){case"gapi":return new yI(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new He(De.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=bN.get(e);t&&(Ke("ComponentProvider","Removing Datastore"),bN.delete(e),t.terminate())}(this),Promise.resolve()}}function DN(n,e,t,r={}){var i;const l=(n=wn(n,T0))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&zu("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,f;if("string"==typeof r.mockUserToken)d=r.mockUserToken,f=si.MOCK_USER;else{d=(0,xn.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new He(De.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new si(_)}n._authCredentials=new Kw(new qw(d,f))}}class Tr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tr(this.firestore,e,this._key)}}class Rs{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Rs(this.firestore,e,this._query)}}class Jc extends Rs{constructor(e,t,r){super(e,t,Qu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tr(this.firestore,null,new at(e))}withConverter(e){return new Jc(this.firestore,e,this._path)}}function CN(n,e,...t){if(n=(0,xn.m9)(n),FT("collection","path",e),n instanceof T0){const r=tn.fromString(e,...t);return yN(r),new Jc(n,null,r)}{if(!(n instanceof Tr||n instanceof Jc))throw new He(De.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(tn.fromString(e,...t));return yN(r),new Jc(n.firestore,null,r)}}function rC(n,e,...t){if(n=(0,xn.m9)(n),1===arguments.length&&(e=Im.R()),FT("doc","path",e),n instanceof T0){const r=tn.fromString(e,...t);return _N(r),new Tr(n,null,new at(r))}{if(!(n instanceof Tr||n instanceof Jc))throw new He(De.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(tn.fromString(e,...t));return _N(r),new Tr(n.firestore,n instanceof Jc?n.converter:null,new at(r))}}function EN(n,e){return n=(0,xn.m9)(n),e=(0,xn.m9)(e),(n instanceof Tr||n instanceof Jc)&&(e instanceof Tr||e instanceof Jc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function LT(n,e){return n=(0,xn.m9)(n),e=(0,xn.m9)(e),n instanceof Rs&&e instanceof Rs&&n.firestore===e.firestore&&Bc(n._query,e._query)&&n.converter===e.converter}function IN(n,e=10240){let t=0;return{read:()=>(0,Ne.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Ne.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class iC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Wr("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class VR{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new zr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.ku)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,Ne.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,Ne.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,Ne.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),i=Number(r);isNaN(i)&&e.Dc(`length string (${r}) is not valid number`);const l=yield e.Cc(i);return new Z1(JSON.parse(l),t.length+i)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,Ne.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,Ne.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,Ne.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class jR{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ne.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new He(De.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Ne.Z)(function*(l,d){const f=ct(l),_=Jm(f.It)+"/documents",w={documents:d.map(q=>Oh(f.It,q))},S=yield f._o("BatchGetDocuments",_,w,d.length),x=new Map;S.forEach(q=>{const re=function qD(n,e){return"found"in e?function(t,r){Ht(!!r.found);const i=Ya(t,r.found.name),l=Ti(r.found.updateTime),d=new Ii({mapValue:{fields:r.found.fields}});return lr.newFoundDocument(i,l,d)}(n,e):"missing"in e?function(t,r){Ht(!!r.missing),Ht(!!r.readTime);const i=Ya(t,r.missing),l=Ti(r.readTime);return lr.newNoDocument(i,l)}(n,e):bt()}(f.It,q);x.set(re.key.toString(),re)});const j=[];return d.forEach(q=>{const re=x.get(q.toString());Ht(!!re),j.push(re)}),j}),function(l,d){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ah(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ne.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const l=at.fromPath(i);e.mutations.push(new Hm(l,e.precondition(l)))}),yield(r=(0,Ne.Z)(function*(i,l){const d=ct(i),f=Jm(d.It)+"/documents",_={writes:l.map(w=>Rh(d.It,w))};yield d.ao("Commit",f,_)}),function(i,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw bt();t=Nt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new He(De.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Nt.min())?_r.exists(!1):_r.updateTime(t):_r.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Nt.min()))throw new He(De.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return _r.updateTime(t)}return _r.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class $R{constructor(e,t,r,i,l){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=l,this.kc=r.maxAttempts,this.xo=new p0(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,Ne.Z)(function*(){const t=new jR(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(l=>{e.Fc(l)}))}).catch(i=>{e.Fc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!vh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Gm(t)}return!1}}class HR{constructor(e,t,r,i){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=si.UNAUTHENTICATED,this.clientId=Im.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,Ne.Z)(function*(f){Ke("FirestoreClient","Received user=",f.uid),yield l.authCredentialListener(f),l.user=f});return function(f){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(Ke("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,Ne.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new He(De.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ne.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=$p(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function TN(n,e){return VT.apply(this,arguments)}function VT(){return VT=(0,Ne.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ke("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Ne.Z)(function*(l){r.isEqual(l)||(yield cT(e.localStore,l),r=l)});return function(l){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),VT.apply(this,arguments)}function SN(n,e){return BT.apply(this,arguments)}function BT(){return BT=(0,Ne.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield UT(n);Ke("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>H1(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,l)=>H1(e.remoteStore,l)),n.onlineComponents=e}),BT.apply(this,arguments)}function UT(n){return jT.apply(this,arguments)}function jT(){return jT=(0,Ne.Z)(function*(n){return n.offlineComponents||(Ke("FirestoreClient","Using default OfflineComponentProvider"),yield TN(n,new pN)),n.offlineComponents}),jT.apply(this,arguments)}function sC(n){return $T.apply(this,arguments)}function $T(){return $T=(0,Ne.Z)(function*(n){return n.onlineComponents||(Ke("FirestoreClient","Using default OnlineComponentProvider"),yield SN(n,new PT)),n.onlineComponents}),$T.apply(this,arguments)}function AN(n){return UT(n).then(e=>e.persistence)}function oC(n){return UT(n).then(e=>e.localStore)}function HT(n){return sC(n).then(e=>e.remoteStore)}function GT(n){return sC(n).then(e=>e.syncEngine)}function k_(n){return WT.apply(this,arguments)}function WT(){return WT=(0,Ne.Z)(function*(n){const e=yield sC(n),t=e.eventManager;return t.onListen=hN.bind(null,e.syncEngine),t.onUnlisten=AT.bind(null,e.syncEngine),t}),WT.apply(this,arguments)}function xN(n,e,t={}){const r=new zr;return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function(i,l,d,f,_){const w=new iC({next:x=>{l.enqueueAndForget(()=>x_(i,S));const j=x.docs.has(d);!j&&x.fromCache?_.reject(new He(De.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&x.fromCache&&f&&"server"===f.source?_.reject(new He(De.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(x)},error:x=>_.reject(x)}),S=new q1(Qu(d.path),w,{includeMetadataChanges:!0,Nu:!0});return A_(i,S)}(yield k_(n),n.asyncQueue,e,t,r)})),r.promise}function MN(n,e,t={}){const r=new zr;return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function(i,l,d,f,_){const w=new iC({next:x=>{l.enqueueAndForget(()=>x_(i,S)),x.fromCache&&"server"===f.source?_.reject(new He(De.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(x)},error:x=>_.reject(x)}),S=new q1(d,w,{includeMetadataChanges:!0,Nu:!0});return A_(i,S)}(yield k_(n),n.asyncQueue,e,t,r)})),r.promise}class QR{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new p0(this,"async_queue_retry"),this.Wc=()=>{const t=m_();t&&Ke("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=m_();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=m_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new zr;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,Ne.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Vl(t))throw t;Ke("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,Wr("INTERNAL UNHANDLED ERROR: ",function(l){let d=l.message||"";return l.stack&&(d=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),d}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=G1.createAndSchedule(this,e,t,r,l=>this.Yc(l));return this.qc.push(i),i}zc(){this.Kc&&bt()}verifyOperationInProgress(){}Xc(){var e=this;return(0,Ne.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function zT(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class JR{constructor(){this._progressObserver={},this._taskCompletionResolver=new zr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Sr extends T0{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new QR,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||ON(this),this._firestoreClient.terminate()}}function ek(n,e){const t="object"==typeof n?n:(0,Ml.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,Ml._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const l=(0,xn.P0)("firestore");l&&DN(i,...l)}return i}function ui(n){return n._firestoreClient||ON(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function ON(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new sD(n._databaseId,l,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var l,f;n._firestoreClient=new HR(n._authCredentials,n._appCheckCredentials,n._queue,r)}function RN(n,e,t){const r=new zr;return n.asyncQueue.enqueue((0,Ne.Z)(function*(){try{yield TN(n,t),yield SN(n,e),r.resolve()}catch(i){const l=i;if(!("FirebaseError"===(d=l).name?d.code===De.FAILED_PRECONDITION||d.code===De.UNIMPLEMENTED:!(typeof DOMException<"u"&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw l;zu("Error enabling offline persistence. Falling back to persistence disabled: "+l),r.reject(l)}var d})).then(()=>r.promise)}function kN(n){if(n._initialized||n._terminated)throw new He(De.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Xc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xc(ai.fromBase64String(e))}catch(t){throw new He(De.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Xc(ai.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class pd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new He(De.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class qp{constructor(e){this._methodName=e}}class aC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new He(De.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new He(De.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Kt(this._lat,e._lat)||Kt(this._long,e._long)}}const ck=/^__.*__$/;class uk{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new jl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Sh(e,this.data,t,this.fieldTransforms)}}class PN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new jl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function FN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt()}}class lC{constructor(e,t,r,i,l,d){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=i,void 0===l&&this.na(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new lC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return dC(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(FN(this.sa)&&ck.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class dk{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||__(e)}da(e,t,r,i=!1){return new lC({sa:e,methodName:t,fa:r,path:Cr.emptyPath(),oa:!1,la:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Zp(n){const e=n._freezeSettings(),t=__(n._databaseId);return new dk(n._databaseId,!!e.ignoreUndefinedProperties,t)}function cC(n,e,t,r,i,l={}){const d=n.da(l.merge||l.mergeFields?2:0,e,t,i);YT("Data must be an object, but it was:",d,r);const f=BN(r,d);let _,w;if(l.merge)_=new eo(d.fieldMask),w=d.fieldTransforms;else if(l.mergeFields){const S=[];for(const x of l.mergeFields){const j=QT(e,x,t);if(!d.contains(j))throw new He(De.INVALID_ARGUMENT,`Field '${j}' is specified in your field mask but missing from your input data.`);jN(S,j)||S.push(j)}_=new eo(S),w=d.fieldTransforms.filter(x=>_.covers(x.field))}else _=null,w=d.fieldTransforms;return new uk(new Ii(f),_,w)}class S0 extends qp{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof S0}}function LN(n,e,t){return new lC({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class qT extends qp{_toFieldTransform(e){return new mp(e.path,new Ih)}isEqual(e){return e instanceof qT}}class hk extends qp{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=LN(this,e,!0),r=this._a.map(l=>Kp(l,t)),i=new Uc(r);return new mp(e.path,i)}isEqual(e){return this===e}}class fk extends qp{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=LN(this,e,!0),r=this._a.map(l=>Kp(l,t)),i=new jc(r);return new mp(e.path,i)}isEqual(e){return this===e}}class pk extends qp{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new Ju(e.It,CD(e.It,this.wa));return new mp(e.path,t)}isEqual(e){return this===e}}function ZT(n,e,t,r){const i=n.da(1,e,t);YT("Data must be an object, but it was:",i,r);const l=[],d=Ii.empty();Zu(r,(_,w)=>{const S=uC(e,_,t);w=(0,xn.m9)(w);const x=i.ca(S);if(w instanceof S0)l.push(S);else{const j=Kp(w,x);null!=j&&(l.push(S),d.set(S,j))}});const f=new eo(l);return new PN(d,f,i.fieldTransforms)}function KT(n,e,t,r,i,l){const d=n.da(1,e,t),f=[QT(e,r,t)],_=[i];if(l.length%2!=0)throw new He(De.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let j=0;j<l.length;j+=2)f.push(QT(e,l[j])),_.push(l[j+1]);const w=[],S=Ii.empty();for(let j=f.length-1;j>=0;--j)if(!jN(w,f[j])){const q=f[j];let re=_[j];re=(0,xn.m9)(re);const ve=d.ca(q);if(re instanceof S0)w.push(q);else{const Ee=Kp(re,ve);null!=Ee&&(w.push(q),S.set(q,Ee))}}const x=new eo(w);return new PN(S,x,d.fieldTransforms)}function VN(n,e,t,r=!1){return Kp(t,n.da(r?4:3,e))}function Kp(n,e){if(UN(n=(0,xn.m9)(n)))return YT("Unsupported field value:",e,n),BN(n,e);if(n instanceof qp)return function(t,r){if(!FN(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let l=0;for(const d of t){let f=Kp(d,r.aa(l));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),l++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,xn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return CD(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=fr.fromDate(t);return{timestampValue:_p(r.It,i)}}if(t instanceof fr){const i=new fr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:_p(r.It,i)}}if(t instanceof aC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Xc)return{bytesValue:HD(r.It,t._byteString)};if(t instanceof Tr){const i=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(i))throw r.ha(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Qm(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${nC(t)}`)}(n,e)}function BN(n,e){const t={};return rD(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zu(n,(r,i)=>{const l=Kp(i,e.ra(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function UN(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof fr||n instanceof aC||n instanceof Xc||n instanceof Tr||n instanceof qp)}function YT(n,e,t){if(!UN(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=nC(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function QT(n,e,t){if((e=(0,xn.m9)(e))instanceof pd)return e._internalPath;if("string"==typeof e)return uC(n,e);throw dC("Field path arguments must be of type string or ",n,!1,void 0,t)}const gk=new RegExp("[~\\*/\\[\\]]");function uC(n,e,t){if(e.search(gk)>=0)throw dC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new pd(...e.split("."))._internalPath}catch{throw dC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function dC(n,e,t,r,i){const l=r&&!r.isEmpty(),d=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(l||d)&&(_+=" (found",l&&(_+=` in field ${r}`),d&&(_+=` in document ${i}`),_+=")"),new He(De.INVALID_ARGUMENT,f+n+_)}function jN(n,e){return n.some(t=>t.isEqual(e))}class A0{constructor(e,t,r,i,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Tr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new mk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(hC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class mk extends A0{data(){return super.data()}}function hC(n,e){return"string"==typeof e?uC(n,e):e instanceof pd?e._internalPath:e._delegate._internalPath}function $N(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new He(De.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class N0{}function qh(n,...e){for(const t of e)n=t._apply(n);return n}class _k extends N0{constructor(e,t,r){super(),this.ma=e,this.ga=t,this.ya=r,this.type="where"}_apply(e){const t=Zp(e.firestore),r=function(i,l,d,f,_,w,S){let x;if(_.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new He(De.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){ZN(S,w);const q=[];for(const re of S)q.push(qN(f,i,re));x={arrayValue:{values:q}}}else x=qN(f,i,S)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||ZN(S,w),x=VN(d,"where",S,"in"===w||"not-in"===w);const j=Oi.create(_,w,x);return function(q,re){if(re.dt()){const Ee=_D(q);if(null!==Ee&&!Ee.isEqual(re.field))throw new He(De.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ee.toString()}' and '${re.field.toString()}'`);const nt=Lv(q);null!==nt&&KN(0,re.field,nt)}const ve=function(Ee,nt){for(const st of Ee.filters)if(nt.indexOf(st.op)>=0)return st.op;return null}(q,function(Ee){switch(Ee){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(re.op));if(null!==ve)throw new He(De.INVALID_ARGUMENT,ve===re.op?`Invalid query. You cannot use more than one '${re.op.toString()}' filter.`:`Invalid query. You cannot use '${re.op.toString()}' filters with '${ve.toString()}' filters.`)}(i,j),j}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new Rs(e.firestore,e.converter,function(i,l){const d=i.filters.concat([l]);return new Za(i.path,i.collectionGroup,i.explicitOrderBy.slice(),d,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class vk extends N0{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(r,i,l){if(null!==r.startAt)throw new He(De.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new He(De.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new Dh(i,l);return function(f,_){if(null===Lv(f)){const w=_D(f);null!==w&&KN(0,w,_.field)}}(r,d),d}(e._query,this.ma,this.pa);return new Rs(e.firestore,e.converter,function(r,i){const l=r.explicitOrderBy.concat([i]);return new Za(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class HN extends N0{constructor(e,t,r){super(),this.type=e,this.Ia=t,this.Ta=r}_apply(e){return new Rs(e.firestore,e.converter,pp(e._query,this.Ia,this.Ta))}}class GN extends N0{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=zN(e,this.type,this.Ea,this.Aa);return new Rs(e.firestore,e.converter,(i=t,new Za((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class WN extends N0{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=zN(e,this.type,this.Ea,this.Aa);return new Rs(e.firestore,e.converter,(i=t,new Za((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function zN(n,e,t,r){if(t[0]=(0,xn.m9)(t[0]),t[0]instanceof A0)return function(i,l,d,f,_){if(!f)throw new He(De.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const w=[];for(const S of fp(i))if(S.field.isKeyField())w.push(Fc(l,f.key));else{const x=f.data.field(S.field);if(Am(x))throw new He(De.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const j=S.field.canonicalString();throw new He(De.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${j}' (used as the orderBy) does not exist.`)}w.push(x)}return new Vc(w,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Zp(n.firestore);return function(l,d,f,_,w,S){const x=l.explicitOrderBy;if(w.length>x.length)throw new He(De.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const j=[];for(let q=0;q<w.length;q++){const re=w[q];if(x[q].field.isKeyField()){if("string"!=typeof re)throw new He(De.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof re}`);if(!yD(l)&&-1!==re.indexOf("/"))throw new He(De.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${re}' contains a slash.`);const ve=l.path.child(tn.fromString(re));if(!at.isDocumentKey(ve))throw new He(De.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${ve}' is not because it contains an odd number of segments.`);const Ee=new at(ve);j.push(Fc(d,Ee))}else{const ve=VN(f,_,re);j.push(ve)}}return new Vc(j,S)}(n._query,n.firestore._databaseId,i,e,t,r)}}function qN(n,e,t){if("string"==typeof(t=(0,xn.m9)(t))){if(""===t)throw new He(De.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yD(e)&&-1!==t.indexOf("/"))throw new He(De.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(tn.fromString(t));if(!at.isDocumentKey(r))throw new He(De.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Fc(n,new at(r))}if(t instanceof Tr)return Fc(n,t._key);throw new He(De.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nC(t)}.`)}function ZN(n,e){if(!Array.isArray(n)||0===n.length)throw new He(De.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new He(De.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function KN(n,e,t){if(!t.isEqual(e))throw new He(De.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class JT{convertValue(e,t="none"){switch(Ku(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Er(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Pc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw bt()}}convertObject(e,t){const r={};return Zu(e.fields,(i,l)=>{r[i]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new aC(Er(e.latitude),Er(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Mv(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(yh(e));default:return null}}convertTimestamp(e){const t=kc(e);return new fr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=tn.fromString(e);Ht(HI(r));const i=new Bl(r.get(1),r.get(3)),l=new at(r.popFirst(5));return i.isEqual(t)||Wr(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function fC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Sk extends JT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tr(this.firestore,null,t)}}class Yp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gd extends A0{constructor(e,t,r,i,l,d){super(e,t,r,i,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new x0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(hC("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class x0 extends gd{data(e={}){return super.data(e)}}class Zh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Yp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new x0(this._firestore,this._userDataWriter,r.key,r,new Yp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new He(De.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new x0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Yp(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>i||3!==d.type).map(d=>{const f=new x0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Yp(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,w=-1;return 0!==d.type&&(_=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),1!==d.type&&(l=l.add(d.doc),w=l.indexOf(d.doc.key)),{type:Ak(d.type),doc:f,oldIndex:_,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Ak(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt()}}function YN(n,e){return n instanceof gd&&e instanceof gd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Zh&&e instanceof Zh&&n._firestore===e._firestore&&LT(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Kh extends JT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tr(this.firestore,null,t)}}function QN(n,e,t){n=wn(n,Tr);const r=wn(n.firestore,Sr),i=fC(n.converter,e,t);return P_(r,[cC(Zp(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,_r.none())])}function JN(n,e,t,...r){n=wn(n,Tr);const i=wn(n.firestore,Sr),l=Zp(i);let d;return d="string"==typeof(e=(0,xn.m9)(e))||e instanceof pd?KT(l,"updateDoc",n._key,e,t,r):ZT(l,"updateDoc",n._key,e),P_(i,[d.toMutation(n._key,_r.exists(!0))])}function XN(n,...e){var t,r,i;n=(0,xn.m9)(n);let l={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||zT(e[d])||(l=e[d],d++);const f={includeMetadataChanges:l.includeMetadataChanges};if(zT(e[d])){const x=e[d];e[d]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[d+1]=null===(r=x.error)||void 0===r?void 0:r.bind(x),e[d+2]=null===(i=x.complete)||void 0===i?void 0:i.bind(x)}let _,w,S;if(n instanceof Tr)w=wn(n.firestore,Sr),S=Qu(n._key.path),_={next:x=>{e[d]&&e[d](XT(w,n,x))},error:e[d+1],complete:e[d+2]};else{const x=wn(n,Rs);w=wn(x.firestore,Sr),S=x._query;const j=new Kh(w);_={next:q=>{e[d]&&e[d](new Zh(w,j,x,q))},error:e[d+1],complete:e[d+2]},$N(n._query)}return function(x,j,q,re){const ve=new iC(re),Ee=new q1(j,ve,q);return x.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return A_(yield k_(x),Ee)})),()=>{ve.bc(),x.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return x_(yield k_(x),Ee)}))}}(ui(w),S,f,_)}function P_(n,e){return function(t,r){const i=new zr;return t.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function fN(n,e,t){return tC.apply(this,arguments)}(yield GT(t),r,i)})),i.promise}(ui(n),e)}function XT(n,e,t){const r=t.docs.get(e._key),i=new Kh(n);return new gd(n,i,e._key,r,new Yp(t.hasPendingWrites,t.fromCache),e.converter)}const Vk={maxAttempts:5};class ex{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Zp(e)}set(e,t,r){this._verifyNotCommitted();const i=Yh(e,this._firestore),l=fC(i.converter,t,r),d=cC(this._dataReader,"WriteBatch.set",i._key,l,null!==i.converter,r);return this._mutations.push(d.toMutation(i._key,_r.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const l=Yh(e,this._firestore);let d;return d="string"==typeof(t=(0,xn.m9)(t))||t instanceof pd?KT(this._dataReader,"WriteBatch.update",l._key,t,r,i):ZT(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(d.toMutation(l._key,_r.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Yh(e,this._firestore);return this._mutations=this._mutations.concat(new Ah(t._key,_r.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new He(De.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Yh(n,e){if((n=(0,xn.m9)(n)).firestore!==e)throw new He(De.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Bk extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Zp(e)}get(e){const t=Yh(e,this._firestore),r=new Sk(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return bt();const l=i[0];if(l.isFoundDocument())return new A0(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new A0(this._firestore,r,t._key,null,t.converter);throw bt()})}set(e,t,r){const i=Yh(e,this._firestore),l=fC(i.converter,t,r),d=cC(this._dataReader,"Transaction.set",i._key,l,null!==i.converter,r);return this._transaction.set(i._key,d),this}update(e,t,r,...i){const l=Yh(e,this._firestore);let d;return d="string"==typeof(t=(0,xn.m9)(t))||t instanceof pd?KT(this._dataReader,"Transaction.update",l._key,t,r,i):ZT(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,d),this}delete(e){const t=Yh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Yh(e,this._firestore),r=new Kh(this._firestore);return super.get(e).then(i=>new gd(this._firestore,r,t._key,i._document,new Yp(!1,!1),t.converter))}}function eS(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new He("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function nx(){if(typeof Uint8Array>"u")throw new He("unimplemented","Uint8Arrays are not available in this environment.")}function rx(){if(!function EI(){return typeof atob<"u"}())throw new He("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Wu=Ml.SDK_VERSION,(0,Ml._registerComponent)(new Vy.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const l=t.getProvider("app").getImmediate(),d=new Sr(new fh(t.getProvider("auth-internal")),new vI(t.getProvider("app-check-internal")),function(f,_){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new He(De.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bl(f.options.projectId,_)}(l,r),l);return i=Object.assign({useFetchStreams:e},i),d._setSettings(i),d},"PUBLIC").setMultipleInstances(!0)),(0,Ml.registerVersion)(Dv,"3.7.2",n),(0,Ml.registerVersion)(Dv,"3.7.2","esm2017")}();class M0{constructor(e){this._delegate=e}static fromBase64String(e){return rx(),new M0(Xc.fromBase64String(e))}static fromUint8Array(e){return nx(),new M0(Xc.fromUint8Array(e))}toBase64(){return rx(),this._delegate.toBase64()}toUint8Array(){return nx(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function tS(n){return function Zk(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class Kk{enableIndexedDbPersistence(e,t){return function tk(n,e){kN(n=wn(n,Sr));const t=ui(n),r=n._freezeSettings(),i=new PT;return RN(t,i,new gN(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function nk(n){kN(n=wn(n,Sr));const e=ui(n),t=n._freezeSettings(),r=new PT;return RN(e,r,new FR(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function rk(n){if(n._initialized&&!n._terminated)throw new He(De.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new zr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ne.Z)(function*(){try{yield(t=(0,Ne.Z)(function*(r){if(!Oo.C())return Promise.resolve();const i=r+"main";yield Oo.delete(i)}),function(r){return t.apply(this,arguments)})(I1(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class ix{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Bl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&zu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){DN(this._delegate,e,t,r)}enableNetwork(){return function sk(n){return function GR(n){return n.asyncQueue.enqueue((0,Ne.Z)(function*(){const e=yield AN(n),t=yield HT(n);return e.setNetworkEnabled(!0),function(r){const i=ct(r);return i._u.delete(0),v_(i)}(t)}))}(ui(n=wn(n,Sr)))}(this._delegate)}disableNetwork(){return function ok(n){return function WR(n){return n.asyncQueue.enqueue((0,Ne.Z)(function*(){const e=yield AN(n),t=yield HT(n);return e.setNetworkEnabled(!1),(r=(0,Ne.Z)(function*(i){const l=ct(i);l._u.add(0),yield ud(l),l.gu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(ui(n=wn(n,Sr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,mN("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function ik(n){return function(e){const t=new zr;return e.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function y(n,e){return b.apply(this,arguments)}(yield GT(e),t)})),t.promise}(ui(n=wn(n,Sr)))}(this._delegate)}onSnapshotsInSync(e){return function Lk(n,e){return function ZR(n,e){const t=new iC(e);return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return r=yield k_(n),i=t,ct(r).Ru.add(i),void i.next();var r,i})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return r=yield k_(n),i=t,void ct(r).Ru.delete(i);var r,i}))}}(ui(n=wn(n,Sr)),zT(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new He("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new F_(this,CN(this._delegate,e))}catch(t){throw to(t,"collection()","Firestore.collection()")}}doc(e){try{return new el(this,rC(this._delegate,e))}catch(t){throw to(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new no(this,function LR(n,e){if(n=wn(n,T0),FT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new He(De.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Rs(n,null,(t=e,new Za(tn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw to(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Uk(n,e,t){n=wn(n,Sr);const r=Object.assign(Object.assign({},Vk),t);return function(i){if(i.maxAttempts<1)throw new He(De.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,l,d){const f=new zr;return i.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){const _=yield function NN(n){return sC(n).then(e=>e.datastore)}(i);new $R(i.asyncQueue,_,d,l,f).run()})),f.promise}(ui(n),i=>e(new Bk(n,i)),r)}(this._delegate,t=>e(new sx(this,t)))}batch(){return ui(this._delegate),new ox(new ex(this._delegate,e=>P_(this._delegate,e)))}loadBundle(e){return function ak(n,e){const t=ui(n=wn(n,Sr)),r=new JR;return function KR(n,e,t,r){const i=function(l,d){let f;return f="string"==typeof l?(new TextEncoder).encode(l):l,_=function(_,w){if(_ instanceof Uint8Array)return IN(_,w);if(_ instanceof ArrayBuffer)return IN(new Uint8Array(_),w);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new VR(_,d);var _}(t,__(e));n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){!function PR(n,e,t){const r=ct(n);var i;(i=(0,Ne.Z)(function*(l,d,f){try{const _=yield d.getMetadata();if(yield function(j,q){const re=ct(j),ve=Ti(q.createTime);return re.persistence.runTransaction("hasNewerBundle","readonly",Ee=>re.Ns.getBundleMetadata(Ee,q.id)).then(Ee=>!!Ee&&Ee.createTime.compareTo(ve)>=0)}(l.localStore,_))return yield d.close(),f._completeWith({taskState:"Success",documentsLoaded:(j=_).totalDocuments,bytesLoaded:j.totalBytes,totalDocuments:j.totalDocuments,totalBytes:j.totalBytes}),Promise.resolve(new Set);f._updateProgress(K1(_));const w=new CT(_,l.localStore,d.It);let S=yield d.mc();for(;S;){const j=yield w.Fu(S);j&&f._updateProgress(j),S=yield d.mc()}const x=yield w.complete();return yield ze(l,x.Lu,void 0),yield function(j,q){const re=ct(j);return re.persistence.runTransaction("Save bundle","readwrite",ve=>re.Ns.saveBundleMetadata(ve,q))}(l.localStore,_),f._completeWith(x.progress),Promise.resolve(x.Bu)}catch(_){return zu("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var j}),function(l,d,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield GT(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function lk(n,e){return function YR(n,e){return n.asyncQueue.enqueue((0,Ne.Z)(function*(){return function(t,r){const i=ct(t);return i.persistence.runTransaction("Get named query","readonly",l=>i.Ns.getNamedQuery(l,r))}(yield oC(n),e)}))}(ui(n=wn(n,Sr)),e).then(t=>t?new Rs(n,null,t.query):null)}(this._delegate,e).then(t=>t?new no(this,t):null)}}class pC extends JT{constructor(e){super(),this.firestore=e}convertBytes(e){return new M0(new Xc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return el.forKey(t,this.firestore,null)}}class sx{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new pC(e)}get(e){const t=Jp(e);return this._delegate.get(t).then(r=>new O0(this._firestore,new gd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Jp(e);return r?(eS("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=Jp(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=Jp(e);return this._delegate.delete(t),this}}class ox{constructor(e){this._delegate=e}set(e,t,r){const i=Jp(e);return r?(eS("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=Jp(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=Jp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Qp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new x0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new R0(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Qp.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let l=i.get(t);return l||(l=new Qp(e,new pC(e),t),i.set(t,l)),l}}Qp.INSTANCES=new WeakMap;class el{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new pC(e)}static forPath(e,t,r){if(e.length%2!=0)throw new He("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new el(t,new Tr(t._delegate,r,new at(e)))}static forKey(e,t,r){return new el(t,new Tr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new F_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new F_(this.firestore,CN(this._delegate,e))}catch(t){throw to(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,xn.m9)(e))instanceof Tr&&EN(this._delegate,e)}set(e,t){t=eS("DocumentReference.set",t);try{return t?QN(this._delegate,e,t):QN(this._delegate,e)}catch(r){throw to(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?JN(this._delegate,e):JN(this._delegate,e,t,...r)}catch(i){throw to(i,"updateDoc()","DocumentReference.update()")}}delete(){return function Pk(n){return P_(wn(n.firestore,Sr),[new Ah(n._key,_r.none())])}(this._delegate)}onSnapshot(...e){const t=ax(e),r=lx(e,i=>new O0(this.firestore,new gd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return XN(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function xk(n){n=wn(n,Tr);const e=wn(n.firestore,Sr),t=ui(e),r=new Kh(e);return function zR(n,e){const t=new zr;return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return(r=(0,Ne.Z)(function*(i,l,d){try{const f=yield function(_,w){const S=ct(_);return S.persistence.runTransaction("read document","readonly",x=>S.localDocuments.getDocument(x,w))}(i,l);f.isFoundDocument()?d.resolve(f):f.isNoDocument()?d.resolve(null):d.reject(new He(De.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=$p(f,`Failed to get document '${l} from cache`);d.reject(_)}}),function(i,l,d){return r.apply(this,arguments)})(yield oC(n),e,t);var r})),t.promise}(t,n._key).then(i=>new gd(e,r,n._key,i,new Yp(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function Mk(n){n=wn(n,Tr);const e=wn(n.firestore,Sr);return xN(ui(e),n._key,{source:"server"}).then(t=>XT(e,n,t))}(this._delegate):function Nk(n){n=wn(n,Tr);const e=wn(n.firestore,Sr);return xN(ui(e),n._key).then(t=>XT(e,n,t))}(this._delegate),t.then(r=>new O0(this.firestore,new gd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new el(this.firestore,this._delegate.withConverter(e?Qp.getInstance(this.firestore,e):null))}}function to(n,e,t){return n.message=n.message.replace(e,t),n}function ax(n){for(const e of n)if("object"==typeof e&&!tS(e))return e;return{}}function lx(n,e){var t,r;let i;return i=tS(n[0])?n[0]:tS(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{i.next&&i.next(e(l))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class O0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new el(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return YN(this._delegate,e._delegate)}}class R0 extends O0{data(e){const t=this._delegate.data(e);return function oi(n,e){n||bt()}(void 0!==t),t}}class no{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new pC(e)}where(e,t,r){try{return new no(this.firestore,qh(this._delegate,function yk(n,e,t){const r=e,i=hC("where",n);return new _k(i,r,t)}(e,t,r)))}catch(i){throw to(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new no(this.firestore,qh(this._delegate,function bk(n,e="asc"){const t=e,r=hC("orderBy",n);return new vk(r,t)}(e,t)))}catch(r){throw to(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new no(this.firestore,qh(this._delegate,function wk(n){return vN("limit",n),new HN("limit",n,"F")}(e)))}catch(t){throw to(t,"limit()","Query.limit()")}}limitToLast(e){try{return new no(this.firestore,qh(this._delegate,function Dk(n){return vN("limitToLast",n),new HN("limitToLast",n,"L")}(e)))}catch(t){throw to(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new no(this.firestore,qh(this._delegate,function Ck(...n){return new GN("startAt",n,!0)}(...e)))}catch(t){throw to(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new no(this.firestore,qh(this._delegate,function Ek(...n){return new GN("startAfter",n,!1)}(...e)))}catch(t){throw to(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new no(this.firestore,qh(this._delegate,function Ik(...n){return new WN("endBefore",n,!1)}(...e)))}catch(t){throw to(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new no(this.firestore,qh(this._delegate,function Tk(...n){return new WN("endAt",n,!0)}(...e)))}catch(t){throw to(t,"endAt()","Query.endAt()")}}isEqual(e){return LT(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Rk(n){n=wn(n,Rs);const e=wn(n.firestore,Sr),t=ui(e),r=new Kh(e);return function qR(n,e){const t=new zr;return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return(r=(0,Ne.Z)(function*(i,l,d){try{const f=yield u0(i,l,!0),_=new Y1(l,f.Hi),w=_.Wu(f.documents),S=_.applyChanges(w,!1);d.resolve(S.snapshot)}catch(f){const _=$p(f,`Failed to execute query '${l} against cache`);d.reject(_)}}),function(i,l,d){return r.apply(this,arguments)})(yield oC(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Zh(e,r,n,i))}(this._delegate):"server"===e?.source?function kk(n){n=wn(n,Rs);const e=wn(n.firestore,Sr),t=ui(e),r=new Kh(e);return MN(t,n._query,{source:"server"}).then(i=>new Zh(e,r,n,i))}(this._delegate):function Ok(n){n=wn(n,Rs);const e=wn(n.firestore,Sr),t=ui(e),r=new Kh(e);return $N(n._query),MN(t,n._query).then(i=>new Zh(e,r,n,i))}(this._delegate),t.then(r=>new nS(this.firestore,new Zh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=ax(e),r=lx(e,i=>new nS(this.firestore,new Zh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return XN(this._delegate,t,r)}withConverter(e){return new no(this.firestore,this._delegate.withConverter(e?Qp.getInstance(this.firestore,e):null))}}class Qk{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new R0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class nS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new no(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new R0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Qk(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new R0(this._firestore,r))})}isEqual(e){return YN(this._delegate,e._delegate)}}class F_ extends no{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new el(this.firestore,e):null}doc(e){try{return new el(this.firestore,void 0===e?rC(this._delegate):rC(this._delegate,e))}catch(t){throw to(t,"doc()","CollectionReference.doc()")}}add(e){return function Fk(n,e){const t=wn(n.firestore,Sr),r=rC(n),i=fC(n.converter,e);return P_(t,[cC(Zp(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,_r.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new el(this.firestore,t))}isEqual(e){return EN(this._delegate,e._delegate)}withConverter(e){return new F_(this.firestore,this._delegate.withConverter(e?Qp.getInstance(this.firestore,e):null))}}function Jp(n){return wn(n,Tr)}class rS{constructor(...e){this._delegate=new pd(...e)}static documentId(){return new rS(Cr.keyField().canonicalString())}isEqual(e){return(e=(0,xn.m9)(e))instanceof pd&&this._delegate._internalPath.isEqual(e._internalPath)}}class Xp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function $k(){return new qT("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Xp(e)}static delete(){const e=function jk(){return new S0("deleteField")}();return e._methodName="FieldValue.delete",new Xp(e)}static arrayUnion(...e){const t=function Hk(...n){return new hk("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Xp(t)}static arrayRemove(...e){const t=function Gk(...n){return new fk("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Xp(t)}static increment(e){const t=function Wk(n){return new pk("increment",n)}(e);return t._methodName="FieldValue.increment",new Xp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Jk={Firestore:ix,GeoPoint:aC,Timestamp:fr,Blob:M0,Transaction:sx,WriteBatch:ox,DocumentReference:el,DocumentSnapshot:O0,Query:no,QueryDocumentSnapshot:R0,QuerySnapshot:nS,CollectionReference:F_,FieldPath:rS,FieldValue:Xp,setLogLevel:function Yk(n){!function zw(n){Fl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function eP(n){(function Xk(n,e){n.INTERNAL.registerComponent(new Vy.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},Jk)))})(n,(e,t)=>new ix(e,t,new Kk)),n.registerVersion("@firebase/firestore-compat","0.2.2")}(Ly.Z);var tP=B(6451),gC=B(5363),nP=B(6063);class rP extends Jn.x{constructor(e=1/0,t=1/0,r=nP.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:l,_windowTime:d}=this;t||(r.push(e),!i&&r.push(l.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,l=i.slice();for(let d=0;d<l.length&&!e.closed;d+=r?1:2)e.next(l[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,l=(i?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!i){const d=t.now();let f=0;for(let _=1;_<r.length&&r[_]<=d;_+=2)f=_;f&&r.splice(0,f+1)}}}var iP=B(3099);function cx(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,iP.B)({connector:()=>new rP(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function ux(n,e){return(0,ti.m)(e)?dr(()=>n,e):dr(()=>n)}var iS=B(9468),Qh=B(5867);class L_{constructor(e){return e}}class sS{constructor(){return(0,Qh.C6)()}}const oS=new c.OlP("angularfire2._apps"),oP={provide:L_,useFactory:function sP(n){return n&&1===n.length?n[0]:new L_((0,Qh.Mq)())},deps:[[new c.FiY,oS]]},aP={provide:sS,deps:[[new c.FiY,oS]]};function lP(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new L_(r)}}let cP=(()=>{class n{constructor(t){(0,Qh.KN)("angularfire",Rn.q4.full,"core"),(0,Qh.KN)("angularfire",Rn.q4.full,"app"),(0,Qh.KN)("angular",c.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.Lbi))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[oP,aP]}),n})();function uP(n,...e){return{ngModule:cP,providers:[{provide:oS,useFactory:lP(n),multi:!0,deps:[c.R0b,c.zs3,Rn.HU,...e]}]}}const dP=(0,Rn.u3)(Qh.ZF,!0),dx=new Map,hP={activated:!1,tokenObservers:[]},fP={initialized:!1,enabled:!1};function Ji(n){return dx.get(n)||hP}function tl(n,e){dx.set(n,e)}function mC(){return fP}class yP{constructor(e,t,r,i,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=i,i>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ne.Z)(function*(){t.stop();try{t.pending=new xn.BH,yield function vP(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new xn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ro=new xn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function fx(n){if(!Ji(n).activated)throw ro.create("use-before-activation",{appName:n.name})}function cS(n,e){return uS.apply(this,arguments)}function uS(){return uS=(0,Ne.Z)(function*({url:n,body:e},t){var r,i;const l={"Content-Type":"application/json"},d=t.getImmediate({optional:!0});if(d){const q=yield d.getHeartbeatsHeader();q&&(l["X-Firebase-Client"]=q)}const f={method:"POST",body:JSON.stringify(e),headers:l};let _,w;try{_=yield fetch(n,f)}catch(q){throw ro.create("fetch-network-error",{originalErrorMessage:null===(r=q)||void 0===r?void 0:r.message})}if(200!==_.status)throw ro.create("fetch-status-error",{httpStatus:_.status});try{w=yield _.json()}catch(q){throw ro.create("fetch-parse-error",{originalErrorMessage:null===(i=q)||void 0===i?void 0:i.message})}const S=w.ttl.match(/^([\d.]+)(s)$/);if(!S||!S[2]||isNaN(Number(S[1])))throw ro.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${w.ttl}`});const x=1e3*Number(S[1]),j=Date.now();return{token:w.token,expireTimeMillis:j+x,issuedAtTimeMillis:j}}),uS.apply(this,arguments)}function CP(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const k0="firebase-app-check-store";let vC=null;function gx(){return vC||(vC=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var l;e(ro.create("storage-open",{originalErrorMessage:null===(l=i.target.error)||void 0===l?void 0:l.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(k0,{keyPath:"compositeKey"})}}catch(r){e(ro.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),vC)}function dS(){return dS=(0,Ne.Z)(function*(n,e){const r=(yield gx()).transaction(k0,"readwrite"),l=r.objectStore(k0).put({compositeKey:n,value:e});return new Promise((d,f)=>{l.onsuccess=_=>{d()},r.onerror=_=>{var w;f(ro.create("storage-set",{originalErrorMessage:null===(w=_.target.error)||void 0===w?void 0:w.message}))}})}),dS.apply(this,arguments)}const P0=new xu.Yd("@firebase/app-check");function pS(n,e){return(0,xn.hl)()?function SP(n,e){return function mx(n,e){return dS.apply(this,arguments)}(function yx(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{P0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function vx(){return mC().enabled}function bx(){return mS.apply(this,arguments)}function mS(){return mS=(0,Ne.Z)(function*(){const n=mC();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),mS.apply(this,arguments)}const RP={error:"UNKNOWN_ERROR"};function kP(n){return xn.US.encodeString(JSON.stringify(n),!1)}function bC(n){return _S.apply(this,arguments)}function _S(){return _S=(0,Ne.Z)(function*(n,e=!1){const t=n.app;fx(t);const r=Ji(t);let l,i=r.token;if(i&&!V_(i)&&(tl(t,Object.assign(Object.assign({},r),{token:void 0})),i=void 0),!i){const _=yield r.cachedTokenPromise;_&&(V_(_)?i=_:yield pS(t,void 0))}if(!e&&i&&V_(i))return{token:i.token};let f,d=!1;if(vx()){r.exchangeTokenPromise||(r.exchangeTokenPromise=cS(CP(t,yield bx()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),d=!0);const _=yield r.exchangeTokenPromise;return yield pS(t,_),tl(t,Object.assign(Object.assign({},r),{token:_})),{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),d=!0),i=yield r.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?P0.warn(_.message):P0.error(_),l=_}return i?l?f=V_(i)?{token:i.token,internalError:l}:Cx(l):(f={token:i.token},tl(t,Object.assign(Object.assign({},r),{token:i})),yield pS(t,i)):f=Cx(l),d&&Dx(t,f),f}),_S.apply(this,arguments)}function vS(n,e){const t=Ji(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),tl(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function wx(n){const{app:e}=n,t=Ji(e);let r=t.tokenRefresher;r||(r=function PP(n){const{app:e}=n;return new yP((0,Ne.Z)(function*(){let r;if(r=Ji(e).token?yield bC(n,!0):yield bC(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Ji(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),tl(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Dx(n,e){const t=Ji(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function V_(n){return n.expireTimeMillis-Date.now()>0}function Cx(n){return{token:kP(RP),error:n}}class FP{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ji(this.app);for(const t of e)vS(this.app,t.next);return Promise.resolve()}}const Mx="app-check-internal";!function YP(){(0,Ml._registerComponent)(new Vy.wA("app-check",n=>function LP(n,e){return new FP(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Mx).initialize()})),(0,Ml._registerComponent)(new Vy.wA(Mx,n=>function VP(n){return{getToken:e=>bC(n,e),addTokenListener:e=>function yS(n,e,t,r){const{app:i}=n,l=Ji(i),d={next:t,error:r,type:e};if(tl(i,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,d]})),l.token&&V_(l.token)){const f=l.token;Promise.resolve().then(()=>{t({token:f.token}),wx(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>wx(n))}(n,"INTERNAL",e),removeTokenListener:e=>vS(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ml.registerVersion)("@firebase/app-check","0.5.16")}();class F0{constructor(){return(0,Rn.vb)("app-check")}}typeof window<"u"&&window;var tF=B(127);const Rx=new c.OlP("angularfire2.auth.use-emulator"),kx=new c.OlP("angularfire2.auth.settings"),Px=new c.OlP("angularfire2.auth.tenant-id"),Fx=new c.OlP("angularfire2.auth.langugage-code"),Lx=new c.OlP("angularfire2.auth.use-device-language"),Vx=new c.OlP("angularfire.auth.persistence"),Bx=(n,e,t,r,i,l,d,f)=>(0,Ni.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,l&&_.useDeviceLanguage(),d)for(const[w,S]of Object.entries(d))_.settings[w]=S;return f&&_.setPersistence(f),_},[t,r,i,l,d,f]);let ES=(()=>{class n{constructor(t,r,i,l,d,f,_,w,S,x,j,q){const re=new Jn.x,ve=yt(void 0).pipe((0,gC.Q)(d.outsideAngular),dr(()=>l.runOutsideAngular(()=>Promise.resolve().then(B.bind(B,5881)))),(0,mt.U)(()=>(0,Ni.on)(t,l,r)),(0,mt.U)(Ee=>Bx(Ee,l,f,w,S,x,_,j)),cx({bufferSize:1,refCount:!1}));if(mo(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=yt(null);else{ve.pipe(ee()).subscribe();const nt=ve.pipe(dr(ut=>ut.getRedirectResult().then(ot=>ot,()=>null)),Rn.iC,cx({bufferSize:1,refCount:!1})),st=ve.pipe(dr(ut=>new ur.y(ot=>({unsubscribe:l.runOutsideAngular(()=>ut.onAuthStateChanged(gt=>ot.next(gt),gt=>ot.error(gt),()=>ot.complete()))})))),_t=ve.pipe(dr(ut=>new ur.y(ot=>({unsubscribe:l.runOutsideAngular(()=>ut.onIdTokenChanged(gt=>ot.next(gt),gt=>ot.error(gt),()=>ot.complete()))}))));this.authState=nt.pipe(ux(st),(0,iS.R)(d.outsideAngular),(0,gC.Q)(d.insideAngular)),this.user=nt.pipe(ux(_t),(0,iS.R)(d.outsideAngular),(0,gC.Q)(d.insideAngular)),this.idToken=this.user.pipe(dr(ut=>ut?(0,Tn.D)(ut.getIdToken()):yt(null))),this.idTokenResult=this.user.pipe(dr(ut=>ut?(0,Tn.D)(ut.getIdTokenResult()):yt(null))),this.credential=(0,tP.T)(nt,re,this.authState.pipe(wr(ut=>!ut))).pipe((0,mt.U)(ut=>ut?.user?ut:null),(0,iS.R)(d.outsideAngular),(0,gC.Q)(d.insideAngular))}return(0,Ni.pX)(this,ve,l,{spy:{apply:(Ee,nt,st)=>{(Ee.startsWith("signIn")||Ee.startsWith("createUser"))&&st.then(_t=>re.next(_t))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ni.Dh),c.LFG(Ni.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Rn.HU),c.LFG(Rx,8),c.LFG(kx,8),c.LFG(Px,8),c.LFG(Fx,8),c.LFG(Lx,8),c.LFG(Vx,8),c.LFG(F0,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function Ux(n,e){return function rF(n,e=Fy.z){return new ur.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function IS(n,e){return Ux(n,e).pipe((0,mt.U)(t=>({payload:t,type:"query"})))}function DC(n,e){return IS(n,e).pipe(Ts(void 0),sw(),(0,mt.U)(([t,r])=>{const i=r.payload.docChanges(),l=i.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,f)=>{const _=i.find(S=>S.doc.ref.isEqual(d.ref)),w=t?.payload.docs.find(S=>S.ref.isEqual(d.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(d.metadata)||!_&&w&&JSON.stringify(w.metadata)===JSON.stringify(d.metadata)||l.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:d}})}),l}))}function jx(n,e,t){return DC(n,t).pipe(jt((r,i)=>function sF(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function oF(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return TS(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return TS(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return TS(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(l=>l.payload),e),[]),function Vf(n,e=Co.y){return n=n??ow,(0,Fn.e)((t,r)=>{let i,l=!0;t.subscribe((0,zn.x)(r,d=>{const f=e(d);(l||!n(i,f))&&(l=!1,i=f,r.next(d))}))})}(),(0,mt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function TS(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function $x(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class Hx{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=DC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,mt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Ts(void 0),sw(),wr(([r,i])=>i.length>0||!r),(0,mt.U)(([r,i])=>i),Rn.iC)}auditTrail(e){return this.stateChanges(e).pipe(jt((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=$x(e);return jx(this.query,t,this.afs.schedulers.outsideAngular).pipe(Rn.iC)}valueChanges(e={}){return IS(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Rn.iC)}get(e){return(0,Tn.D)(this.query.get(e)).pipe(Rn.iC)}add(e){return this.ref.add(e)}doc(e){return new Gx(this.ref.doc(e),this.afs)}}class Gx{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:l}=qx(r,t);return new Hx(i,l,this.afs)}snapshotChanges(){return function iF(n,e){return Ux(n,e).pipe(Ts(void 0),sw(),(0,mt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Rn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,mt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Tn.D)(this.ref.get(e)).pipe(Rn.iC)}}class aF{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?DC(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),wr(t=>t.length>0),Rn.iC):DC(this.query,this.afs.schedulers.outsideAngular).pipe(Rn.iC)}auditTrail(e){return this.stateChanges(e).pipe(jt((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=$x(e);return jx(this.query,t,this.afs.schedulers.outsideAngular).pipe(Rn.iC)}valueChanges(e={}){return IS(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Rn.iC)}get(e){return(0,Tn.D)(this.query.get(e)).pipe(Rn.iC)}}const Wx=new c.OlP("angularfire2.enableFirestorePersistence"),zx=new c.OlP("angularfire2.firestore.persistenceSettings"),lF=new c.OlP("angularfire2.firestore.settings"),cF=new c.OlP("angularfire2.firestore.use-emulator");function qx(n,e=(t=>t)){return{query:e(n),ref:n}}let CC=(()=>{class n{constructor(t,r,i,l,d,f,_,w,S,x,j,q,re,ve,Ee,nt,st){this.schedulers=_;const _t=(0,Ni.on)(t,f,r),ut=S;x&&Bx(_t,f,j,re,ve,Ee,q,nt),[this.firestore,this.persistenceEnabled$]=(0,Ni.cc)(`${_t.name}.firestore`,"AngularFirestore",_t.name,()=>{const ot=f.runOutsideAngular(()=>_t.firestore());if(l&&ot.settings(l),ut&&ot.useEmulator(...ut),i&&!mo(d)){const gt=()=>{try{return(0,Tn.D)(ot.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(nn){return typeof console<"u"&&console.warn(nn),yt(!1)}};return[ot,f.runOutsideAngular(gt)]}return[ot,yt(!1)]},[l,ut,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:d}=qx(i,r),f=this.schedulers.ngZone.run(()=>l);return new Hx(f,d,this)}collectionGroup(t,r){const i=r||(d=>d),l=this.firestore.collectionGroup(t);return new aF(i(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new Gx(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ni.Dh),c.LFG(Ni.xv,8),c.LFG(Wx,8),c.LFG(lF,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Rn.HU),c.LFG(zx,8),c.LFG(cF,8),c.LFG(ES,8),c.LFG(Rx,8),c.LFG(kx,8),c.LFG(Px,8),c.LFG(Fx,8),c.LFG(Lx,8),c.LFG(Vx,8),c.LFG(F0,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),uF=(()=>{class n{constructor(){tF.Z.registerVersion("angularfire",Rn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:Wx,useValue:!0},{provide:zx,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[CC]}),n})(),dF=(()=>{class n{constructor(t){this.afs=t,this.unsubscribe=null,this.contactCollection="contacts",this.contacts=[],this.contactSubject=new pn(this.contacts),this.subscribeToContactsCollection()}createContact(t){return this.afs.doc(this.contactCollection+"/"+t.id).set(t.toFirebase())}subscribeToContactsCollection(t=1){null===this.unsubscribe&&(this.unsubscribe=this.afs.collection(this.contactCollection).ref.where("status","==",t).onSnapshot(r=>{this.contacts=[],r.forEach(i=>{this.contacts.push(Kg.fromFirebaseToClass(i.data()))}),this.contactSubject.next(this.contacts)},r=>console.error(r)))}removeContactById(t){return this.afs.doc(this.contactCollection+"/"+t).set({status:0},{merge:!0})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(CC))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zx=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),eg=(()=>{class n extends Zx{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const eu=new c.OlP("NgValueAccessor"),pF={provide:eu,useExisting:(0,c.Gpc)(()=>L0),multi:!0},mF=new c.OlP("CompositionEventMode");let L0=(()=>{class n extends Zx{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function gF(){const n=L()?L().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(mF,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[c._Bn([pF]),c.qOj]}),n})();const ks=new c.OlP("NgValidators"),Xh=new c.OlP("NgAsyncValidators");function iM(n){if(!n)return EC;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(function Jh(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function EC(n){return null}function sM(n){return null!=n}function oM(n){return(0,c.QGY)(n)?(0,Tn.D)(n):n}function aM(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function lM(n,e){return e.map(t=>t(n))}function cM(n){return n.map(e=>function vF(n){return!n.validate}(e)?e:t=>e.validate(t))}function SS(n){return null!=n?function uM(n){if(!n)return null;const e=n.filter(sM);return 0==e.length?null:function(t){return aM(lM(t,e))}}(cM(n)):null}function AS(n){return null!=n?function dM(n){if(!n)return null;const e=n.filter(sM);return 0==e.length?null:function(t){return function hF(...n){const e=(0,as.jO)(n),{args:t,keys:r}=Do(n),i=new ur.y(l=>{const{length:d}=t;if(!d)return void l.complete();const f=new Array(d);let _=d,w=d;for(let S=0;S<d;S++){let x=!1;(0,Ai.Xf)(t[S]).subscribe((0,zn.x)(l,j=>{x||(x=!0,w--),f[S]=j},()=>_--,void 0,()=>{(!_||!x)&&(w||l.next(r?Il(r,f):f),l.complete())}))}});return e?i.pipe(El(e)):i}(lM(t,e).map(oM)).pipe((0,mt.U)(aM))}}(cM(n)):null}function hM(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function NS(n){return n?Array.isArray(n)?n:[n]:[]}function IC(n,e){return Array.isArray(n)?n.includes(e):n===e}function gM(n,e){const t=NS(e);return NS(n).forEach(i=>{IC(t,i)||t.push(i)}),t}function mM(n,e){return NS(e).filter(t=>!IC(n,t))}class _M{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=SS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=AS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class io extends _M{get formDirective(){return null}get path(){return null}}class ef extends _M{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class yM{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let xS=(()=>{class n extends yM{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ef,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[c.qOj]}),n})(),B_=(()=>{class n extends yM{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(io,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[c.qOj]}),n})();const V0="VALID",SC="INVALID",U_="PENDING",B0="DISABLED";function kS(n){return(AC(n)?n.validators:n)||null}function bM(n){return Array.isArray(n)?SS(n):n||null}function PS(n,e){return(AC(e)?e.asyncValidators:n)||null}function wM(n){return Array.isArray(n)?AS(n):n||null}function AC(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class EM{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=bM(this._rawValidators),this._composedAsyncValidatorFn=wM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===V0}get invalid(){return this.status===SC}get pending(){return this.status==U_}get disabled(){return this.status===B0}get enabled(){return this.status!==B0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=bM(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=wM(e)}addValidators(e){this.setValidators(gM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(gM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(mM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(mM(e,this._rawAsyncValidators))}hasValidator(e){return IC(this._rawValidators,e)}hasAsyncValidator(e){return IC(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=U_,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=B0,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=V0,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===V0||this.status===U_)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?B0:V0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=U_,this._hasOwnPendingAsyncValidator=!0;const t=oM(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?B0:this.errors?SC:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(U_)?U_:this._anyControlsHaveStatus(SC)?SC:V0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){AC(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class FS extends EM{constructor(e,t,r){super(kS(t),PS(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function CM(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new c.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function DM(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new c.vHH(1e3,"");if(!r[t])throw new c.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,l)=>{r=t(r,i,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function U0(n,e){LS(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function AF(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&IM(n,e)})}(n,e),function xF(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function NF(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&IM(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function SF(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function MC(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function LS(n,e){const t=function fM(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(hM(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function pM(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(hM(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();MC(e._rawValidators,i),MC(e._rawAsyncValidators,i)}function IM(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const PF={provide:io,useExisting:(0,c.Gpc)(()=>tf)},j0=(()=>Promise.resolve())();let tf=(()=>{class n extends io{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new FS({},SS(t),AS(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){j0.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),U0(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){j0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){j0.then(()=>{const r=this._findContainer(t.path),i=new FS({});(function TM(n,e){LS(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){j0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){j0.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function AM(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ks,10),c.Y36(Xh,10))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([PF]),c.qOj]}),n})();function NM(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function xM(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const MM=class extends EM{constructor(e=null,t,r){super(kS(t),PS(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),AC(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=xM(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){NM(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){NM(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){xM(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},VF={provide:ef,useExisting:(0,c.Gpc)(()=>RC)},kM=(()=>Promise.resolve())();let RC=(()=>{class n extends ef{constructor(t,r,i,l,d){super(),this._changeDetectorRef=d,this.control=new MM,this._registered=!1,this.update=new c.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function BS(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(l=>{l.constructor===L0?t=l:function RF(n){return Object.getPrototypeOf(n.constructor)===eg}(l)?r=l:i=l}),i||r||t||null}(0,l)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function VS(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){U0(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){kM.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,c.D6c)(r);kM.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function NC(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(io,9),c.Y36(ks,10),c.Y36(Xh,10),c.Y36(eu,10),c.Y36(c.sBO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([VF]),c.qOj,c.TTD]}),n})(),j_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),FM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),tg=(()=>{class n{constructor(){this._validator=EC}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):EC,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();const l2={provide:ks,useExisting:(0,c.Gpc)(()=>zS),multi:!0};let zS=(()=>{class n extends tg{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=t=>t,this.createValidator=t=>iM(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&c.uIk("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},features:[c._Bn([l2]),c.qOj]}),n})(),c2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[FM]}),n})(),XM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[c2]}),n})(),eO=(()=>{class n{transform(t){var r=new Date(t),l=r.getFullYear(),d=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][r.getMonth()];return`${r.getDate()}/${d}/${l}`}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=c.Yjl({name:"timeStampToDate",type:n,pure:!0}),n})();function d2(n,e){if(1&n&&(c.TgZ(0,"ul")(1,"li"),c._uU(2),c.qZA()()),2&n){const t=e.$implicit;c.xp6(2),c.Oqu(t)}}function h2(n,e){if(1&n&&(c.TgZ(0,"tr")(1,"td",10),c._uU(2),c.qZA(),c.TgZ(3,"td",11),c._uU(4),c.qZA(),c.TgZ(5,"td",11),c._uU(6),c.qZA(),c.TgZ(7,"td",11),c._uU(8),c.ALo(9,"timeStampToDate"),c.qZA(),c.TgZ(10,"td",11),c.YNc(11,d2,3,1,"ul",9),c.qZA()()),2&n){const t=e.$implicit,r=e.index;c.xp6(2),c.Oqu(r+1),c.xp6(2),c.Oqu(t.name),c.xp6(2),c.Oqu(t.email),c.xp6(2),c.Oqu(c.lcZ(9,5,t.birthday)),c.xp6(3),c.Q6J("ngForOf",t.phones)}}let f2=(()=>{class n{constructor(t,r){this.contactService=t,this.router=r,this.contacts=[],this.contactsToShow=[]}ngOnInit(){this.subscribe=this.contactService.contactSubject.subscribe(t=>{this.contacts=t,this.search("")})}search(t){t=t.toLowerCase(),this.contactsToShow=this.contacts.filter(r=>r.name.toLowerCase().includes(t)||r.email.toLowerCase().includes(t)||r.phones.filter(i=>i.includes(t)).includes(t))}error(t){Mo().fire({position:"top-end",icon:"error",title:t,showConfirmButton:!1,timer:5e3})}ngOnDestroy(){this.subscribe&&this.subscribe.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(dF),c.Y36(Dr))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-contacts"]],decls:24,vars:1,consts:[[1,"d-none","d-sm-inline-block","form-inline","mr-auto","ml-md-3","my-2","my-md-0","mw-100","navbar-search","w-100"],[1,"input-group"],["type","text","placeholder","Search for...","aria-label","Search","aria-describedby","basic-addon2",1,"form-control","bg-light","border-0","small",3,"input"],["searchValue",""],[1,"input-group-append"],["type","button",1,"btn","btn-primary"],[1,"fas","fa-search","fa-sm"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[1,"align-middle","fw-bold"],[1,"align-middle"]],template:function(t,r){if(1&t){const i=c.EpF();c.TgZ(0,"h2"),c._uU(1,"Contacts"),c.qZA(),c.TgZ(2,"form",0)(3,"div",1)(4,"input",2,3),c.NdJ("input",function(){c.CHM(i);const d=c.MAs(5);return c.KtG(r.search(d.value))}),c.qZA(),c.TgZ(6,"div",4)(7,"button",5),c._UZ(8,"i",6),c.qZA()()()(),c.TgZ(9,"table",7)(10,"thead")(11,"tr")(12,"th",8),c._uU(13,"#"),c.qZA(),c.TgZ(14,"th",8),c._uU(15,"Name"),c.qZA(),c.TgZ(16,"th",8),c._uU(17,"Email"),c.qZA(),c.TgZ(18,"th",8),c._uU(19,"Birthday"),c.qZA(),c.TgZ(20,"th",8),c._uU(21,"Phones"),c.qZA()()(),c.TgZ(22,"tbody"),c.YNc(23,h2,12,7,"tr",9),c.qZA()()}2&t&&(c.xp6(23),c.Q6J("ngForOf",r.contactsToShow))},dependencies:[Fr,j_,B_,tf,eO]}),n})();class $0{constructor(e=(new Date).getTime(),t="",r="",i="",l="",d="",f="",_=(new Date).getTime(),w=1){this.id=e,this.firstName=t,this.lastName=r,this.email=i,this.phoneNumber=l,this.address=d,this.notes=f,this.createdDate=_,this.status=w}toFirebase(){return{id:this.id,firstName:this.firstName,lastName:this.lastName,email:this.email,phoneNumber:this.phoneNumber,address:this.address,notes:this.notes,createdDate:this.createdDate,status:this.status}}toHtml(){return`\n            <div class="text-left fw-bold">FirstName: ${this.firstName}</div>\n            <div class="text-left fw-bold">LastName: ${this.lastName}</div>\n            <div class="text-left fw-bold">Email: ${this.email}</div>\n            <div class="text-left fw-bold">PhoneNumber: ${this.phoneNumber}</div>\n        `}static fromFirebaseToClass(e){return new $0(e.id,e.firstName||"",e.lastName||"",e.email||"",e.phoneNumber||"",e.address||"",e.notes||"",e.createdDate||"",e.status||0)}}let tO=(()=>{class n{constructor(t){this.afs=t,this.unsubscribe=null,this.customerCollection="customers",this.customers=[],this.customerSubject=new pn(this.customers),this.subscribeToCustomersCollection()}createCustomer(t){return this.afs.doc(this.customerCollection+"/"+t.id).set(t.toFirebase())}subscribeToCustomersCollection(t=1){null===this.unsubscribe&&(this.unsubscribe=this.afs.collection(this.customerCollection).ref.where("status","==",t).onSnapshot(r=>{this.customers=[],r.forEach(i=>{this.customers.push($0.fromFirebaseToClass(i.data()))}),this.customerSubject.next(this.customers)},r=>console.error(r)))}removeCustomerById(t){return this.afs.doc(this.customerCollection+"/"+t).set({status:0},{merge:!0})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(CC))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function p2(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"tr")(1,"td",10),c._uU(2),c.qZA(),c.TgZ(3,"td",11),c._uU(4),c.qZA(),c.TgZ(5,"td",11),c._uU(6),c.qZA(),c.TgZ(7,"td",11),c._uU(8),c.qZA(),c.TgZ(9,"td",11),c._uU(10),c.qZA(),c.TgZ(11,"td",11),c._uU(12),c.qZA(),c.TgZ(13,"td",11),c._uU(14),c.ALo(15,"timeStampToDate"),c.qZA(),c.TgZ(16,"td",11)(17,"div",4)(18,"span",12),c.NdJ("click",function(){const l=c.CHM(t).$implicit,d=c.oxw();return c.KtG(d.remove(l))}),c._UZ(19,"i",13),c.qZA(),c.TgZ(20,"span",14),c.NdJ("click",function(){const l=c.CHM(t).$implicit,d=c.oxw();return c.KtG(d.goCustomer(l.id))}),c._UZ(21,"i",15),c.qZA(),c.TgZ(22,"span",14),c.NdJ("click",function(){const l=c.CHM(t).$implicit,d=c.oxw();return c.KtG(d.viewCustomer(l.id))}),c._UZ(23,"i",16),c.qZA()()()()}if(2&n){const t=e.$implicit,r=e.index;c.xp6(2),c.Oqu(r+1),c.xp6(2),c.Oqu(t.firstName),c.xp6(2),c.Oqu(t.lastName),c.xp6(2),c.Oqu(t.email),c.xp6(2),c.Oqu(t.phoneNumber),c.xp6(2),c.Oqu(t.address),c.xp6(2),c.Oqu(c.lcZ(15,7,t.createdDate))}}let g2=(()=>{class n{constructor(t,r){this.customerService=t,this.router=r,this.customers=[],this.customersToShow=[]}ngOnInit(){this.subscribe=this.customerService.customerSubject.subscribe(t=>{this.customers=t,this.search("")})}search(t){t=t.toLowerCase(),this.customersToShow=this.customers.filter(r=>r.firstName.toLowerCase().includes(t)||r.lastName.toLowerCase().includes(t)||r.address.toLowerCase().includes(t)||r.email.toLowerCase().includes(t)||r.phoneNumber.toLowerCase().includes(t))}remove(t){Mo().fire({title:"Do you want to remove ?",showCancelButton:!0,confirmButtonText:"OK"}).then(r=>{r.isConfirmed&&(Mo().showLoading(Mo().getConfirmButton()),this.customerService.removeCustomerById(t.id).then(()=>{Mo().hideLoading(),Mo().fire({title:"Customer successfully removed",timer:1500})}).catch(i=>{Mo().hideLoading(),this.error(i.message)}))})}error(t){Mo().fire({position:"top-end",icon:"error",title:t,showConfirmButton:!1,timer:5e3})}goCustomer(t){this.router.navigate(["dashboard/edit"],{queryParams:{uid:t}})}viewCustomer(t){var r=this.customers.find(i=>i.id==t);!r||Mo().fire({position:"center",title:r.firstName,html:r.toHtml(),showConfirmButton:!1})}ngOnDestroy(){this.subscribe&&this.subscribe.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(tO),c.Y36(Dr))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-customers"]],decls:29,vars:1,consts:[[1,"d-none","d-sm-inline-block","form-inline","mr-auto","ml-md-3","my-2","my-md-0","mw-100","navbar-search","w-100"],[1,"input-group"],["type","text","placeholder","Search for...","aria-label","Search","aria-describedby","basic-addon2",1,"form-control","bg-light","border-0","small",3,"input"],["searchValue",""],[1,"input-group-append"],["type","button",1,"btn","btn-primary"],[1,"fas","fa-search","fa-sm"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[1,"align-middle","fw-bold"],[1,"align-middle"],[1,"input-group-text","pointer","mr-2",3,"click"],[1,"bi","bi-trash"],[1,"input-group-text","mr-2","pointer",3,"click"],[1,"bi","bi-pencil-square"],[1,"bi","bi-info-circle"]],template:function(t,r){if(1&t){const i=c.EpF();c.TgZ(0,"h2"),c._uU(1,"Customers"),c.qZA(),c.TgZ(2,"form",0)(3,"div",1)(4,"input",2,3),c.NdJ("input",function(){c.CHM(i);const d=c.MAs(5);return c.KtG(r.search(d.value))}),c.qZA(),c.TgZ(6,"div",4)(7,"button",5),c._UZ(8,"i",6),c.qZA()()()(),c.TgZ(9,"table",7)(10,"thead")(11,"tr")(12,"th",8),c._uU(13,"#"),c.qZA(),c.TgZ(14,"th",8),c._uU(15,"First"),c.qZA(),c.TgZ(16,"th",8),c._uU(17,"Last"),c.qZA(),c.TgZ(18,"th",8),c._uU(19,"Email"),c.qZA(),c.TgZ(20,"th",8),c._uU(21,"Phone Number"),c.qZA(),c.TgZ(22,"th",8),c._uU(23,"Address"),c.qZA(),c.TgZ(24,"th",8),c._uU(25,"Created Date"),c.qZA(),c._UZ(26,"th",8),c.qZA()(),c.TgZ(27,"tbody"),c.YNc(28,p2,24,9,"tr",9),c.qZA()()}2&t&&(c.xp6(28),c.Q6J("ngForOf",r.customersToShow))},dependencies:[Fr,j_,B_,tf,eO]}),n})(),m2=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-accordion-sidebar"]],decls:27,vars:0,consts:[["id","accordionSidebar",1,"navbar-nav","bg-gradient-primary","sidebar","sidebar-dark","accordion"],["routerLink","/dashboard",1,"sidebar-brand","d-flex","align-items-center","justify-content-center"],[1,"sidebar-brand-icon","rotate-n-15"],[1,"fas","fa-fw","fa-user"],[1,"sidebar-brand-text","mx-3"],[1,"sidebar-divider","my-0"],[1,"sidebar-heading"],[1,"nav-item","active"],["routerLink","/dashboard",1,"nav-link"],[1,"fas","fa-fw","fa-tachometer-alt"],["routerLink","/dashboard/contacts",1,"nav-link"],[1,"bi","bi-envelope"],["routerLink","/dashboard/edit",1,"nav-link"],[1,"fas","fa-fw","fa-user-plus"],[1,"sidebar-divider"],[1,"text-center","d-none","d-md-inline"],["routerLink","..","id","sidebarToggle",1,"rounded-circle","border-0"]],template:function(t,r){1&t&&(c.TgZ(0,"ul",0)(1,"a",1)(2,"div",2),c._UZ(3,"i",3),c.qZA(),c.TgZ(4,"div",4),c._uU(5,"CRM"),c.qZA()(),c._UZ(6,"hr",5),c.TgZ(7,"div",6),c._uU(8,"Side bar"),c.qZA(),c.TgZ(9,"li",7)(10,"a",8),c._UZ(11,"i",9),c.TgZ(12,"span"),c._uU(13,"Dashboard"),c.qZA()()(),c.TgZ(14,"li",7)(15,"a",10),c._UZ(16,"i",11),c.TgZ(17,"span"),c._uU(18,"Contacts"),c.qZA()()(),c.TgZ(19,"li",7)(20,"a",12),c._UZ(21,"i",13),c.TgZ(22,"span"),c._uU(23,"Create customer"),c.qZA()()(),c._UZ(24,"hr",14),c.TgZ(25,"div",15),c._UZ(26,"button",16),c.qZA()())},dependencies:[Wd,Pf]}),n})(),qS=(()=>{class n{constructor(t,r){this.route=t,this.auth=r,this._isLoggedIn=null}isLoggedIn(){return new Promise((t,r)=>{null!==this._isLoggedIn?t(this._isLoggedIn):this.auth.onAuthStateChanged(i=>{this.userStateChanged(i),t(!!i)})})}userStateChanged(t){t?this._isLoggedIn=!0:(this._isLoggedIn=!1,this.route.navigate(["/login"]))}login(t,r){return this.auth.signInWithEmailAndPassword(t,r).then(i=>{this.user=i,this.route.navigate(["/dashboard"]),this._isLoggedIn=!0})}logout(){this.auth.signOut()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Dr),c.LFG(ES))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var _2=B(1144);const y2=["addListener","removeListener"],v2=["addEventListener","removeEventListener"],b2=["on","off"];function so(n,e,t,r){if((0,ti.m)(t)&&(r=t,t=void 0),r)return so(n,e,t).pipe(El(r));const[i,l]=function C2(n){return(0,ti.m)(n.addEventListener)&&(0,ti.m)(n.removeEventListener)}(n)?v2.map(d=>f=>n[d](e,f,t)):function w2(n){return(0,ti.m)(n.addListener)&&(0,ti.m)(n.removeListener)}(n)?y2.map(nO(n,e)):function D2(n){return(0,ti.m)(n.on)&&(0,ti.m)(n.off)}(n)?b2.map(nO(n,e)):[];if(!i&&(0,_2.z)(n))return(0,T.z)(d=>so(d,e,t))((0,Ai.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new ur.y(d=>{const f=(..._)=>d.next(1<_.length?_:_[0]);return i(f),()=>l(f)})}function nO(n,e){return t=>r=>n[t](e,r)}var E2=B(3532);function ZS(n=0,e,t=Fy.P){let r=-1;return null!=e&&((0,E2.K)(e)?t=e:r=e),new ur.y(i=>{let l=function I2(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;l<0&&(l=0);let d=0;return t.schedule(function(){i.closed||(i.next(d++),0<=r?this.schedule(void 0,r):i.complete())},l)})}const{isArray:T2}=Array;function rO(n){return 1===n.length&&T2(n[0])?n[0]:n}function iO(...n){return 1===(n=rO(n)).length?(0,Ai.Xf)(n[0]):new ur.y(function S2(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push((0,Ai.Xf)(n[r]).subscribe((0,zn.x)(e,i=>{if(t){for(let l=0;l<t.length;l++)l!==r&&t[l].unsubscribe();t=null}e.next(i)})))}}(n))}var kC=B(5032);function PC(...n){const e=(0,as.jO)(n),t=rO(n);return t.length?new ur.y(r=>{let i=t.map(()=>[]),l=t.map(()=>!1);r.add(()=>{i=l=null});for(let d=0;!r.closed&&d<t.length;d++)(0,Ai.Xf)(t[d]).subscribe((0,zn.x)(r,f=>{if(i[d].push(f),i.every(_=>_.length)){const _=i.map(w=>w.shift());r.next(e?e(..._):_),i.some((w,S)=>!w.length&&l[S])&&r.complete()}},()=>{l[d]=!0,!i[d].length&&r.complete()}));return()=>{i=l=null}}):Vr.E}function ki(n){return(0,Fn.e)((e,t)=>{(0,Ai.Xf)(n).subscribe((0,zn.x)(t,()=>t.complete(),kC.Z)),!t.closed&&e.subscribe(t)})}function KS(...n){const e=(0,as.jO)(n);return(0,Fn.e)((t,r)=>{const i=n.length,l=new Array(i);let d=n.map(()=>!1),f=!1;for(let _=0;_<i;_++)(0,Ai.Xf)(n[_]).subscribe((0,zn.x)(r,w=>{l[_]=w,!f&&!d[_]&&(d[_]=!0,(f=d.every(Co.y))&&(d=null))},kC.Z));t.subscribe((0,zn.x)(r,_=>{if(f){const w=[_,...l];r.next(e?e(...w):w)}}))})}function oO(n,e){return e?t=>Eo(e.pipe(cn(1),function N2(){return(0,Fn.e)((n,e)=>{n.subscribe((0,zn.x)(e,kC.Z))})}()),t.pipe(oO(n))):(0,T.z)((t,r)=>n(t,r).pipe(cn(1),Hr(t)))}new ur.y(kC.Z);var O2={left:"right",right:"left",bottom:"top",top:"bottom"};function FC(n){return n.replace(/left|right|bottom|top/g,function(e){return O2[e]})}function tu(n){return n.split("-")[0]}var R2={start:"end",end:"start"};function aO(n){return n.replace(/start|end/g,function(e){return R2[e]})}var ca="top",Gl="bottom",Wl="right",ua="left",YS="auto",H0=[ca,Gl,Wl,ua],$_="start",G0="end",lO="viewport",W0="popper",cO=H0.reduce(function(n,e){return n.concat([e+"-"+$_,e+"-"+G0])},[]),uO=[].concat(H0,[YS]).reduce(function(n,e){return n.concat([e,e+"-"+$_,e+"-"+G0])},[]),W2=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function nl(n){if(null==n)return window;if("[object Window]"!==n.toString()){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function ng(n){return n instanceof nl(n).Element||n instanceof Element}function rl(n){return n instanceof nl(n).HTMLElement||n instanceof HTMLElement}function QS(n){return!(typeof ShadowRoot>"u")&&(n instanceof nl(n).ShadowRoot||n instanceof ShadowRoot)}function nf(n){return((ng(n)?n.ownerDocument:n.document)||window.document).documentElement}var rg=Math.max,LC=Math.min,H_=Math.round;function JS(){var n=navigator.userAgentData;return null!=n&&n.brands?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function dO(){return!/^((?!chrome|android).)*safari/i.test(JS())}function G_(n,e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var r=n.getBoundingClientRect(),i=1,l=1;e&&rl(n)&&(i=n.offsetWidth>0&&H_(r.width)/n.offsetWidth||1,l=n.offsetHeight>0&&H_(r.height)/n.offsetHeight||1);var f=(ng(n)?nl(n):window).visualViewport,_=!dO()&&t,w=(r.left+(_&&f?f.offsetLeft:0))/i,S=(r.top+(_&&f?f.offsetTop:0))/l,x=r.width/i,j=r.height/l;return{width:x,height:j,top:S,right:w+x,bottom:S+j,left:w,x:w,y:S}}function XS(n){var e=nl(n);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function eA(n){return G_(nf(n)).left+XS(n).scrollLeft}function md(n){return nl(n).getComputedStyle(n)}function nu(n){return n?(n.nodeName||"").toLowerCase():null}function VC(n){return"html"===nu(n)?n:n.assignedSlot||n.parentNode||(QS(n)?n.host:null)||nf(n)}function tA(n){var e=md(n);return/auto|scroll|overlay|hidden/.test(e.overflow+e.overflowY+e.overflowX)}function hO(n){return["html","body","#document"].indexOf(nu(n))>=0?n.ownerDocument.body:rl(n)&&tA(n)?n:hO(VC(n))}function z0(n,e){var t;void 0===e&&(e=[]);var r=hO(n),i=r===(null==(t=n.ownerDocument)?void 0:t.body),l=nl(r),d=i?[l].concat(l.visualViewport||[],tA(r)?r:[]):r,f=e.concat(d);return i?f:f.concat(z0(VC(d)))}function Z2(n){return["table","td","th"].indexOf(nu(n))>=0}function fO(n){return rl(n)&&"fixed"!==md(n).position?n.offsetParent:null}function q0(n){for(var e=nl(n),t=fO(n);t&&Z2(t)&&"static"===md(t).position;)t=fO(t);return t&&("html"===nu(t)||"body"===nu(t)&&"static"===md(t).position)?e:t||function K2(n){var e=/firefox/i.test(JS());if(/Trident/i.test(JS())&&rl(n)&&"fixed"===md(n).position)return null;var i=VC(n);for(QS(i)&&(i=i.host);rl(i)&&["html","body"].indexOf(nu(i))<0;){var l=md(i);if("none"!==l.transform||"none"!==l.perspective||"paint"===l.contain||-1!==["transform","perspective"].indexOf(l.willChange)||e&&"filter"===l.willChange||e&&l.filter&&"none"!==l.filter)return i;i=i.parentNode}return null}(n)||e}function pO(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&QS(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function nA(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function gO(n,e,t){return e===lO?nA(function z2(n,e){var t=nl(n),r=nf(n),i=t.visualViewport,l=r.clientWidth,d=r.clientHeight,f=0,_=0;if(i){l=i.width,d=i.height;var w=dO();(w||!w&&"fixed"===e)&&(f=i.offsetLeft,_=i.offsetTop)}return{width:l,height:d,x:f+eA(n),y:_}}(n,t)):ng(e)?function Y2(n,e){var t=G_(n,!1,"fixed"===e);return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}(e,t):nA(function q2(n){var e,t=nf(n),r=XS(n),i=null==(e=n.ownerDocument)?void 0:e.body,l=rg(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),d=rg(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),f=-r.scrollLeft+eA(n),_=-r.scrollTop;return"rtl"===md(i||t).direction&&(f+=rg(t.clientWidth,i?i.clientWidth:0)-l),{width:l,height:d,x:f,y:_}}(nf(n)))}function W_(n){return n.split("-")[1]}function rA(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function mO(n){var _,e=n.reference,t=n.element,r=n.placement,i=r?tu(r):null,l=r?W_(r):null,d=e.x+e.width/2-t.width/2,f=e.y+e.height/2-t.height/2;switch(i){case ca:_={x:d,y:e.y-t.height};break;case Gl:_={x:d,y:e.y+e.height};break;case Wl:_={x:e.x+e.width,y:f};break;case ua:_={x:e.x-t.width,y:f};break;default:_={x:e.x,y:e.y}}var w=i?rA(i):null;if(null!=w){var S="y"===w?"height":"width";switch(l){case $_:_[w]=_[w]-(e[S]/2-t[S]/2);break;case G0:_[w]=_[w]+(e[S]/2-t[S]/2)}}return _}function yO(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function vO(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}function iA(n,e){void 0===e&&(e={});var r=e.placement,i=void 0===r?n.placement:r,l=e.strategy,d=void 0===l?n.strategy:l,f=e.boundary,_=void 0===f?"clippingParents":f,w=e.rootBoundary,S=void 0===w?lO:w,x=e.elementContext,j=void 0===x?W0:x,q=e.altBoundary,re=void 0!==q&&q,ve=e.padding,Ee=void 0===ve?0:ve,nt=yO("number"!=typeof Ee?Ee:vO(Ee,H0)),_t=n.rects.popper,ut=n.elements[re?j===W0?"reference":W0:j],ot=function J2(n,e,t,r){var i="clippingParents"===e?function Q2(n){var e=z0(VC(n)),r=["absolute","fixed"].indexOf(md(n).position)>=0&&rl(n)?q0(n):n;return ng(r)?e.filter(function(i){return ng(i)&&pO(i,r)&&"body"!==nu(i)}):[]}(n):[].concat(e),l=[].concat(i,[t]),f=l.reduce(function(_,w){var S=gO(n,w,r);return _.top=rg(S.top,_.top),_.right=LC(S.right,_.right),_.bottom=LC(S.bottom,_.bottom),_.left=rg(S.left,_.left),_},gO(n,l[0],r));return f.width=f.right-f.left,f.height=f.bottom-f.top,f.x=f.left,f.y=f.top,f}(ng(ut)?ut:ut.contextElement||nf(n.elements.popper),_,S,d),gt=G_(n.elements.reference),nn=mO({reference:gt,element:_t,strategy:"absolute",placement:i}),Mn=nA(Object.assign({},_t,nn)),Fi=j===W0?Mn:gt,Li={top:ot.top-Fi.top+nt.top,bottom:Fi.bottom-ot.bottom+nt.bottom,left:ot.left-Fi.left+nt.left,right:Fi.right-ot.right+nt.right},di=n.modifiersData.offset;if(j===W0&&di){var ql=di[i];Object.keys(Li).forEach(function(ao){var cg=[Wl,Gl].indexOf(ao)>=0?1:-1,ug=[ca,Gl].indexOf(ao)>=0?"y":"x";Li[ao]+=ql[ug]*cg})}return Li}const nL={name:"flip",enabled:!0,phase:"main",fn:function tL(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,l=void 0===i||i,d=t.altAxis,f=void 0===d||d,_=t.fallbackPlacements,w=t.padding,S=t.boundary,x=t.rootBoundary,j=t.altBoundary,q=t.flipVariations,re=void 0===q||q,ve=t.allowedAutoPlacements,Ee=e.options.placement,nt=tu(Ee),_t=_||(nt!==Ee&&re?function eL(n){if(tu(n)===YS)return[];var e=FC(n);return[aO(n),e,aO(e)]}(Ee):[FC(Ee)]),ut=[Ee].concat(_t).reduce(function(Z_,sf){return Z_.concat(tu(sf)===YS?function X2(n,e){void 0===e&&(e={});var i=e.boundary,l=e.rootBoundary,d=e.padding,f=e.flipVariations,_=e.allowedAutoPlacements,w=void 0===_?uO:_,S=W_(e.placement),x=S?f?cO:cO.filter(function(re){return W_(re)===S}):H0,j=x.filter(function(re){return w.indexOf(re)>=0});0===j.length&&(j=x);var q=j.reduce(function(re,ve){return re[ve]=iA(n,{placement:ve,boundary:i,rootBoundary:l,padding:d})[tu(ve)],re},{});return Object.keys(q).sort(function(re,ve){return q[re]-q[ve]})}(e,{placement:sf,boundary:S,rootBoundary:x,padding:w,flipVariations:re,allowedAutoPlacements:ve}):sf)},[]),ot=e.rects.reference,gt=e.rects.popper,nn=new Map,Mn=!0,Fi=ut[0],Li=0;Li<ut.length;Li++){var di=ut[Li],ql=tu(di),ao=W_(di)===$_,cg=[ca,Gl].indexOf(ql)>=0,ug=cg?"width":"height",da=iA(e,{placement:di,boundary:S,rootBoundary:x,altBoundary:j,padding:w}),Zl=cg?ao?Wl:ua:ao?Gl:ca;ot[ug]>gt[ug]&&(Zl=FC(Zl));var ZC=FC(Zl),dg=[];if(l&&dg.push(da[ql]<=0),f&&dg.push(da[Zl]<=0,da[ZC]<=0),dg.every(function(Z_){return Z_})){Fi=di,Mn=!1;break}nn.set(di,dg)}if(Mn)for(var EA=function(sf){var nb=ut.find(function(QC){var hg=nn.get(QC);if(hg)return hg.slice(0,sf).every(function(IA){return IA})});if(nb)return Fi=nb,"break"},tb=re?3:1;tb>0&&"break"!==EA(tb);tb--);e.placement!==Fi&&(e.modifiersData[r]._skip=!0,e.placement=Fi,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Z0(n,e,t){return rg(n,LC(e,t))}function sA(n){var e=G_(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}const oL={name:"preventOverflow",enabled:!0,phase:"main",fn:function sL(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,l=void 0===i||i,d=t.altAxis,f=void 0!==d&&d,j=t.tether,q=void 0===j||j,re=t.tetherOffset,ve=void 0===re?0:re,Ee=iA(e,{boundary:t.boundary,rootBoundary:t.rootBoundary,padding:t.padding,altBoundary:t.altBoundary}),nt=tu(e.placement),st=W_(e.placement),_t=!st,ut=rA(nt),ot=function rL(n){return"x"===n?"y":"x"}(ut),gt=e.modifiersData.popperOffsets,nn=e.rects.reference,Mn=e.rects.popper,Fi="function"==typeof ve?ve(Object.assign({},e.rects,{placement:e.placement})):ve,Li="number"==typeof Fi?{mainAxis:Fi,altAxis:Fi}:Object.assign({mainAxis:0,altAxis:0},Fi),di=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ql={x:0,y:0};if(gt){if(l){var ao,cg="y"===ut?ca:ua,ug="y"===ut?Gl:Wl,da="y"===ut?"height":"width",Zl=gt[ut],ZC=Zl+Ee[cg],dg=Zl-Ee[ug],KC=q?-Mn[da]/2:0,EA=st===$_?nn[da]:Mn[da],tb=st===$_?-Mn[da]:-nn[da],YC=e.elements.arrow,Z_=q&&YC?sA(YC):{width:0,height:0},sf=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},nb=sf[cg],QC=sf[ug],hg=Z0(0,nn[da],Z_[da]),IA=_t?nn[da]/2-KC-hg-nb-Li.mainAxis:EA-hg-nb-Li.mainAxis,LU=_t?-nn[da]/2+KC+hg+QC+Li.mainAxis:tb+hg+QC+Li.mainAxis,TA=e.elements.arrow&&q0(e.elements.arrow),ER=null!=(ao=di?.[ut])?ao:0,UU=Zl+LU-ER,IR=Z0(q?LC(ZC,Zl+IA-ER-(TA?"y"===ut?TA.clientTop||0:TA.clientLeft||0:0)):ZC,Zl,q?rg(dg,UU):dg);gt[ut]=IR,ql[ut]=IR-Zl}if(f){var TR,fg=gt[ot],JC="y"===ot?"height":"width",SR=fg+Ee["x"===ut?ca:ua],AR=fg-Ee["x"===ut?Gl:Wl],SA=-1!==[ca,ua].indexOf(nt),NR=null!=(TR=di?.[ot])?TR:0,xR=SA?SR:fg-nn[JC]-Mn[JC]-NR+Li.altAxis,MR=SA?fg+nn[JC]+Mn[JC]-NR-Li.altAxis:AR,OR=q&&SA?function iL(n,e,t){var r=Z0(n,e,t);return r>t?t:r}(xR,fg,MR):Z0(q?xR:SR,fg,q?MR:AR);gt[ot]=OR,ql[ot]=OR-fg}e.modifiersData[r]=ql}},requiresIfExists:["offset"]},uL={name:"arrow",enabled:!0,phase:"main",fn:function lL(n){var e,t=n.state,r=n.name,i=n.options,l=t.elements.arrow,d=t.modifiersData.popperOffsets,f=tu(t.placement),_=rA(f),S=[ua,Wl].indexOf(f)>=0?"height":"width";if(l&&d){var x=function(e,t){return yO("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:vO(e,H0))}(i.padding,t),j=sA(l),q="y"===_?ca:ua,re="y"===_?Gl:Wl,ve=t.rects.reference[S]+t.rects.reference[_]-d[_]-t.rects.popper[S],Ee=d[_]-t.rects.reference[_],nt=q0(l),st=nt?"y"===_?nt.clientHeight||0:nt.clientWidth||0:0,gt=st/2-j[S]/2+(ve/2-Ee/2),nn=Z0(x[q],gt,st-j[S]-x[re]);t.modifiersData[r]=((e={})[_]=nn,e.centerOffset=nn-gt,e)}},effect:function cL(n){var e=n.state,r=n.options.element,i=void 0===r?"[data-popper-arrow]":r;null!=i&&("string"==typeof i&&!(i=e.elements.popper.querySelector(i))||!pO(e.elements.popper,i)||(e.elements.arrow=i))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function pL(n,e,t){void 0===t&&(t=!1);var r=rl(e),i=rl(e)&&function fL(n){var e=n.getBoundingClientRect(),t=H_(e.width)/n.offsetWidth||1,r=H_(e.height)/n.offsetHeight||1;return 1!==t||1!==r}(e),l=nf(e),d=G_(n,i,t),f={scrollLeft:0,scrollTop:0},_={x:0,y:0};return(r||!r&&!t)&&(("body"!==nu(e)||tA(l))&&(f=function hL(n){return n!==nl(n)&&rl(n)?function dL(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):XS(n)}(e)),rl(e)?((_=G_(e,!0)).x+=e.clientLeft,_.y+=e.clientTop):l&&(_.x=eA(l))),{x:d.left+f.scrollLeft-_.x,y:d.top+f.scrollTop-_.y,width:d.width,height:d.height}}function gL(n){var e=new Map,t=new Set,r=[];function i(l){t.add(l.name),[].concat(l.requires||[],l.requiresIfExists||[]).forEach(function(f){if(!t.has(f)){var _=e.get(f);_&&i(_)}}),r.push(l)}return n.forEach(function(l){e.set(l.name,l)}),n.forEach(function(l){t.has(l.name)||i(l)}),r}function _L(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}var bO={placement:"bottom",modifiers:[],strategy:"absolute"};function wO(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&"function"==typeof r.getBoundingClientRect)})}function vL(n){void 0===n&&(n={});var t=n.defaultModifiers,r=void 0===t?[]:t,i=n.defaultOptions,l=void 0===i?bO:i;return function(f,_,w){void 0===w&&(w=l);var S={placement:"bottom",orderedModifiers:[],options:Object.assign({},bO,l),modifiersData:{},elements:{reference:f,popper:_},attributes:{},styles:{}},x=[],j=!1,q={state:S,setOptions:function(nt){var st="function"==typeof nt?nt(S.options):nt;ve(),S.options=Object.assign({},l,S.options,st),S.scrollParents={reference:ng(f)?z0(f):f.contextElement?z0(f.contextElement):[],popper:z0(_)};var _t=function mL(n){var e=gL(n);return W2.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}(function yL(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}([].concat(r,S.options.modifiers)));return S.orderedModifiers=_t.filter(function(di){return di.enabled}),function re(){S.orderedModifiers.forEach(function(Ee){var st=Ee.options,ut=Ee.effect;if("function"==typeof ut){var ot=ut({state:S,name:Ee.name,instance:q,options:void 0===st?{}:st});x.push(ot||function(){})}})}(),q.update()},forceUpdate:function(){if(!j){var nt=S.elements,st=nt.reference,_t=nt.popper;if(wO(st,_t)){S.rects={reference:pL(st,q0(_t),"fixed"===S.options.strategy),popper:sA(_t)},S.reset=!1,S.placement=S.options.placement,S.orderedModifiers.forEach(function(di){return S.modifiersData[di.name]=Object.assign({},di.data)});for(var ot=0;ot<S.orderedModifiers.length;ot++)if(!0!==S.reset){var gt=S.orderedModifiers[ot],nn=gt.fn,Mn=gt.options;"function"==typeof nn&&(S=nn({state:S,options:void 0===Mn?{}:Mn,name:gt.name,instance:q})||S)}else S.reset=!1,ot=-1}}},update:_L(function(){return new Promise(function(Ee){q.forceUpdate(),Ee(S)})}),destroy:function(){ve(),j=!0}};if(!wO(f,_))return q;function ve(){x.forEach(function(Ee){return Ee()}),x=[]}return q.setOptions(w).then(function(Ee){!j&&w.onFirstUpdate&&w.onFirstUpdate(Ee)}),q}}var BC={passive:!0};const wL={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function bL(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,l=void 0===i||i,d=r.resize,f=void 0===d||d,_=nl(e.elements.popper),w=[].concat(e.scrollParents.reference,e.scrollParents.popper);return l&&w.forEach(function(S){S.addEventListener("scroll",t.update,BC)}),f&&_.addEventListener("resize",t.update,BC),function(){l&&w.forEach(function(S){S.removeEventListener("scroll",t.update,BC)}),f&&_.removeEventListener("resize",t.update,BC)}},data:{}},CL={name:"popperOffsets",enabled:!0,phase:"read",fn:function DL(n){var e=n.state;e.modifiersData[n.name]=mO({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}};var EL={top:"auto",right:"auto",bottom:"auto",left:"auto"};function DO(n){var e,t=n.popper,r=n.popperRect,i=n.placement,l=n.variation,d=n.offsets,f=n.position,_=n.gpuAcceleration,w=n.adaptive,S=n.roundOffsets,x=n.isFixed,j=d.x,q=void 0===j?0:j,re=d.y,ve=void 0===re?0:re,Ee="function"==typeof S?S({x:q,y:ve}):{x:q,y:ve};q=Ee.x,ve=Ee.y;var nt=d.hasOwnProperty("x"),st=d.hasOwnProperty("y"),_t=ua,ut=ca,ot=window;if(w){var gt=q0(t),nn="clientHeight",Mn="clientWidth";gt===nl(t)&&"static"!==md(gt=nf(t)).position&&"absolute"===f&&(nn="scrollHeight",Mn="scrollWidth"),(i===ca||(i===ua||i===Wl)&&l===G0)&&(ut=Gl,ve-=(x&&gt===ot&&ot.visualViewport?ot.visualViewport.height:gt[nn])-r.height,ve*=_?1:-1),i!==ua&&(i!==ca&&i!==Gl||l!==G0)||(_t=Wl,q-=(x&&gt===ot&&ot.visualViewport?ot.visualViewport.width:gt[Mn])-r.width,q*=_?1:-1)}var ao,di=Object.assign({position:f},w&&EL),ql=!0===S?function IL(n){var t=n.y,i=window.devicePixelRatio||1;return{x:H_(n.x*i)/i||0,y:H_(t*i)/i||0}}({x:q,y:ve}):{x:q,y:ve};return q=ql.x,ve=ql.y,Object.assign({},di,_?((ao={})[ut]=st?"0":"",ao[_t]=nt?"0":"",ao.transform=(ot.devicePixelRatio||1)<=1?"translate("+q+"px, "+ve+"px)":"translate3d("+q+"px, "+ve+"px, 0)",ao):((e={})[ut]=st?ve+"px":"",e[_t]=nt?q+"px":"",e.transform="",e))}const SL={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function TL(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=void 0===r||r,l=t.adaptive,d=void 0===l||l,f=t.roundOffsets,_=void 0===f||f,S={placement:tu(e.placement),variation:W_(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,DO(Object.assign({},S,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:d,roundOffsets:_})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,DO(Object.assign({},S,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:_})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}};var xL=[wL,CL,SL,{name:"applyStyles",enabled:!0,phase:"write",fn:function AL(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},l=e.elements[t];!rl(l)||!nu(l)||(Object.assign(l.style,r),Object.keys(i).forEach(function(d){var f=i[d];!1===f?l.removeAttribute(d):l.setAttribute(d,!0===f?"":f)}))})},effect:function NL(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],l=e.attributes[r]||{},f=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]).reduce(function(_,w){return _[w]="",_},{});!rl(i)||!nu(i)||(Object.assign(i.style,f),Object.keys(l).forEach(function(_){i.removeAttribute(_)}))})}},requires:["computeStyles"]}],ML=vL({defaultModifiers:xL});const kL={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function RL(n){var e=n.state,r=n.name,i=n.options.offset,l=void 0===i?[0,0]:i,d=uO.reduce(function(S,x){return S[x]=function OL(n,e,t){var r=tu(n),i=[ua,ca].indexOf(r)>=0?-1:1,l="function"==typeof t?t(Object.assign({},e,{placement:n})):t,d=l[0],f=l[1];return d=d||0,f=(f||0)*i,[ua,Wl].indexOf(r)>=0?{x:f,y:d}:{x:d,y:f}}(x,e.rects,l),S},{}),f=d[e.placement],w=f.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=f.x,e.modifiersData.popperOffsets.y+=w),e.modifiersData[r]=d}},$L=["*"],oV=["dialog"];function aA(n){return"string"==typeof n}function ig(n){return null!=n}function z_(n){return(n||document.body).getBoundingClientRect()}const EO={animation:!0,transitionTimerDelayMs:5},eB=()=>{},{transitionTimerDelayMs:tB}=EO,K0=new Map,oo=(n,e,t,r)=>{let i=r.context||{};const l=K0.get(e);if(l)switch(r.runningTransition){case"continue":return Vr.E;case"stop":n.run(()=>l.transition$.complete()),i=Object.assign(l.context,i),K0.delete(e)}const d=t(e,r.animation,i)||eB;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>d()),yt(void 0).pipe(function JV(n){return e=>new ur.y(t=>e.subscribe({next:d=>n.run(()=>t.next(d)),error:d=>n.run(()=>t.error(d)),complete:()=>n.run(()=>t.complete())}))}(n));const f=new Jn.x,_=new Jn.x,w=f.pipe(function A2(...n){return e=>Eo(e,yt(...n))}(!0));K0.set(e,{transition$:f,complete:()=>{_.next(),_.complete()},context:i});const S=function XV(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const x=so(e,"transitionend").pipe(ki(w),wr(({target:q})=>q===e));iO(ZS(S+tB).pipe(ki(w)),x,_).pipe(ki(w)).subscribe(()=>{K0.delete(e),n.run(()=>{d(),f.next(),f.complete()})})}),f.asObservable()};let jC=(()=>{class n{constructor(){this.animation=EO.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Qr]}),n})(),MO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Qr]}),n})(),kO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Qr]}),n})(),PO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();var Pi=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(Pi||(Pi={})),Pi))();const HC=(n,e)=>!!e&&e.some(t=>t.contains(n)),FO=(n,e)=>!e||null!=function QV(n,e){return!e||typeof n.closest>"u"?null:n.closest(e)}(n,e),yB=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function bB(n,e,t,r,i,l,d,f){t&&n.runOutsideAngular((n=>yB?()=>setTimeout(()=>n(),100):n)(()=>{const w=so(e,"keydown").pipe(ki(i),wr(j=>j.which===Pi.Escape),(0,Se.b)(j=>j.preventDefault())),S=so(e,"mousedown").pipe((0,mt.U)(j=>{const q=j.target;return 2!==j.button&&!HC(q,d)&&("inside"===t?HC(q,l)&&FO(q,f):"outside"===t?!HC(q,l):FO(q,f)||!HC(q,l))}),ki(i)),x=so(e,"mouseup").pipe(KS(S),wr(([j,q])=>q),function x2(n,e=Fy.z){const t=ZS(n,e);return oO(()=>t)}(0),ki(i));iO([w.pipe((0,mt.U)(j=>0)),x.pipe((0,mt.U)(j=>1))]).subscribe(j=>n.run(()=>r(j)))}))}const LO=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function VO(n){const e=Array.from(n.querySelectorAll(LO)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}const DB=/\s+/,CB=/  +/gi,EB={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]},TB=/^left/,SB=/^right/,AB=/^start/,NB=/^end/;function BO({placement:n,baseClass:e},t){let r=Array.isArray(n)?n:n.split(DB),l=r.findIndex(w=>"auto"===w);l>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(w){null==r.find(S=>-1!==S.search("^"+w))&&r.splice(l++,1,w)});const d=r.map(w=>function IB(n,e){const[t,r]=EB[n];return e&&r||t}(w,t.isRTL()));return{placement:d.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!e,phase:"write",fn({state:w}){const S=new RegExp(e+"(-[a-z]+)*","gi"),x=w.elements.popper,j=w.placement;let q=x.className;q=q.replace(S,""),q+=` ${function xB(n,e){let[t,r]=e.split("-");const i=t.replace(TB,"start").replace(SB,"end");let l=[i];if(r){let d=r;("left"===t||"right"===t)&&(d=d.replace(AB,"top").replace(NB,"bottom")),l.push(`${i}-${d}`)}return n&&(l=l.map(d=>`${n}-${d}`)),l.join(" ")}(e,j)}`,q=q.trim().replace(CB," "),x.className=q}},nL,oL,uL,{enabled:!0,name:"flip",options:{fallbackPlacements:d}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function UO(n){return n}let kB=(()=>{class n{constructor(t){this._element=t.documentElement}isRTL(){return"rtl"===(this._element.getAttribute("dir")||"").toLowerCase()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(he))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();new Date(1882,10,12),new Date(2174,10,25);let zO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Qr,XM]}),n})(),$B=(()=>{class n{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=t=>t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["",8,"navbar"]]}),n})(),qO=(()=>{class n{constructor(t,r){this.elementRef=t,this._renderer=r,this._disabled=!1}set disabled(t){this._disabled=""===t||!0===t,this._renderer.setProperty(this.elementRef.nativeElement,"disabled",this._disabled)}get disabled(){return this._disabled}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(t,r){2&t&&(c.Ikx("tabIndex",r.disabled?-1:0),c.ekj("disabled",r.disabled))},inputs:{disabled:"disabled"}}),n})(),gA=(()=>{class n{constructor(t,r){this.dropdown=t,this.placement="bottom",this.isOpen=!1,this.nativeElement=r.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(c.Y36((0,c.Gpc)(()=>X0)),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(t,r,i){if(1&t&&c.Suo(i,qO,4),2&t){let l;c.iGM(l=c.CRH())&&(r.menuItems=l)}},hostVars:4,hostBindings:function(t,r){1&t&&c.NdJ("keydown.ArrowUp",function(l){return r.dropdown.onKeyDown(l)})("keydown.ArrowDown",function(l){return r.dropdown.onKeyDown(l)})("keydown.Home",function(l){return r.dropdown.onKeyDown(l)})("keydown.End",function(l){return r.dropdown.onKeyDown(l)})("keydown.Enter",function(l){return r.dropdown.onKeyDown(l)})("keydown.Space",function(l){return r.dropdown.onKeyDown(l)})("keydown.Tab",function(l){return r.dropdown.onKeyDown(l)})("keydown.Shift.Tab",function(l){return r.dropdown.onKeyDown(l)}),2&t&&c.ekj("dropdown-menu",!0)("show",r.dropdown.isOpen())}}),n})(),qC=(()=>{class n{constructor(t,r){this.dropdown=t,this.nativeElement=r.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(c.Y36((0,c.Gpc)(()=>X0)),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(t,r){2&t&&c.uIk("aria-expanded",r.dropdown.isOpen())}}),n})(),ZO=(()=>{class n extends qC{constructor(t,r){super(t,r)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36((0,c.Gpc)(()=>X0)),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(t,r){1&t&&c.NdJ("click",function(){return r.dropdown.toggle()})("keydown.ArrowUp",function(l){return r.dropdown.onKeyDown(l)})("keydown.ArrowDown",function(l){return r.dropdown.onKeyDown(l)})("keydown.Home",function(l){return r.dropdown.onKeyDown(l)})("keydown.End",function(l){return r.dropdown.onKeyDown(l)})("keydown.Tab",function(l){return r.dropdown.onKeyDown(l)})("keydown.Shift.Tab",function(l){return r.dropdown.onKeyDown(l)}),2&t&&c.uIk("aria-expanded",r.dropdown.isOpen())},features:[c._Bn([{provide:qC,useExisting:(0,c.Gpc)(()=>n)}]),c.qOj]}),n})(),X0=(()=>{class n{constructor(t,r,i,l,d,f,_,w){this._changeDetector=t,this._document=l,this._ngZone=d,this._elementRef=f,this._renderer=_,this._destroyCloseHandlers$=new Jn.x,this._bodyContainer=null,this._open=!1,this.openChange=new c.vpe,this.placement=i.placement,this.popperOptions=i.popperOptions,this.container=i.container,this.autoClose=i.autoClose,this._positioning=function MB(n){let e=null;return{createPopper(t){if(!e){let i=(t.updatePopperOptions||UO)(BO(t,n));e=ML(t.hostElement,t.targetElement,i)}},update(){e&&e.update()},setOptions(t){if(e){let i=(t.updatePopperOptions||UO)(BO(t,n));e.setOptions(i)}},destroy(){e&&(e.destroy(),e=null)}}}(r),this.display=w?"static":"dynamic"}ngAfterContentInit(){this._ngZone.onStable.pipe(cn(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(t){if(t.container&&this._open&&this._applyContainer(this.container),t.placement&&!t.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container}),this._applyPlacementClasses()),t.dropdownClass){const{currentValue:r,previousValue:i}=t.dropdownClass;this._applyCustomDropdownClass(r,i)}t.autoClose&&this._open&&(this.autoClose=t.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),"dynamic"===this.display&&this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:t=>this.popperOptions(function OB(n){return e=>(e.modifiers.push(kL,{name:"offset",options:{offset:()=>n}}),e)}([0,2])(t))}),this._applyPlacementClasses(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positionMenu())})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),bB(this._ngZone,this._document,this.autoClose,t=>{this.close(),0===t&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this.close()}onKeyDown(t){const r=t.which,i=this._getMenuElements();let l=-1,d=null;const f=this._isEventFromToggle(t);if(!f&&i.length&&i.forEach((_,w)=>{_.contains(t.target)&&(d=_),_===this._document.activeElement&&(l=w)}),r!==Pi.Space&&r!==Pi.Enter){if(r!==Pi.Tab){if(f||d){if(this.open(),i.length){switch(r){case Pi.ArrowDown:l=Math.min(l+1,i.length-1);break;case Pi.ArrowUp:if(this._isDropup()&&-1===l){l=i.length-1;break}l=Math.max(l-1,0);break;case Pi.Home:l=0;break;case Pi.End:l=i.length-1}i[l].focus()}t.preventDefault()}}else if(t.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===t.target)return void("body"!==this.container||t.shiftKey?t.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const _=this._menu.nativeElement.querySelectorAll(LO);t.shiftKey&&t.target===_[0]?(this._anchor.nativeElement.focus(),t.preventDefault()):!t.shiftKey&&t.target===_[_.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else so(t.target,"focusout").pipe(cn(1)).subscribe(({relatedTarget:_})=>{this._elementRef.nativeElement.contains(_)||this.close()})}}else d&&(!0===this.autoClose||"inside"===this.autoClose)&&so(d,"click").pipe(cn(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(t){return this._anchor.nativeElement.contains(t.target)}_getMenuElements(){const t=this._menu;return null==t?[]:t.menuItems.filter(r=>!r.disabled).map(r=>r.elementRef.nativeElement)}_positionMenu(){const t=this._menu;this.isOpen()&&t&&("dynamic"===this.display?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(t){return Array.isArray(t)?t[0]:t.split(" ")[0]}_resetContainer(){const t=this._renderer;this._menu&&t.appendChild(this._elementRef.nativeElement,this._menu.nativeElement),this._bodyContainer&&(t.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(t=null){if(this._resetContainer(),"body"===t){const r=this._renderer,i=this._menu.nativeElement,l=this._bodyContainer=this._bodyContainer||r.createElement("div");r.setStyle(l,"position","absolute"),r.setStyle(i,"position","static"),r.setStyle(l,"z-index","1055"),r.appendChild(l,i),r.appendChild(this._document.body,l)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(t,r){const i="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;i&&(r&&this._renderer.removeClass(i,r),t&&this._renderer.addClass(i,t))}_applyPlacementClasses(t){const r=this._menu;if(r){t||(t=this._getFirstPlacement(this.placement));const i=this._renderer,l=this._elementRef.nativeElement;i.removeClass(l,"dropup"),i.removeClass(l,"dropdown");const{nativeElement:d}=r;"static"===this.display?(r.placement=null,i.setAttribute(d,"data-bs-popper","static")):(r.placement=t,i.removeAttribute(d,"data-bs-popper"));const f=-1!==t.search("^top")?"dropup":"dropdown";i.addClass(l,f);const _=this._bodyContainer;_&&(i.removeClass(_,"dropup"),i.removeClass(_,"dropdown"),i.addClass(_,f))}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO),c.Y36(kB),c.Y36($B),c.Y36(he),c.Y36(c.R0b),c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(pA,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngbDropdown",""]],contentQueries:function(t,r,i){if(1&t&&(c.Suo(i,gA,5),c.Suo(i,qC,5)),2&t){let l;c.iGM(l=c.CRH())&&(r._menu=l.first),c.iGM(l=c.CRH())&&(r._anchor=l.first)}},hostVars:2,hostBindings:function(t,r){2&t&&c.ekj("show",r.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:["open","_open"],placement:"placement",popperOptions:"popperOptions",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[c.TTD]}),n})(),KO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();class lg{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let HB=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(cn(1)).subscribe(()=>{oo(this._zone,this._el.nativeElement,(t,r)=>{r&&z_(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return oo(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,r){2&t&&(c.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),c.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class YO{close(e){}dismiss(e){}}class GB{constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new Jn.x,this._dismissed=new Jn.x,this._hidden=new Jn.x,e.instance.dismissEvent.subscribe(l=>{this.dismiss(l)}),this.result=new Promise((l,d)=>{this._resolve=l,this._reject=d}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(ki(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(ki(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function CO(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():yt(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),PC(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var eb=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(eb||(eb={})),eb))();let WB=(()=>{class n{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new Jn.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new c.vpe,this.shown=new Jn.x,this.hidden=new Jn.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":aA(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(cn(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},d=PC(oo(this._zone,t,()=>t.classList.remove("show"),r),oo(this._zone,this._dialogEl.nativeElement,()=>{},r));return d.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),d}_show(){const t={animation:this.animation,runningTransition:"continue"};PC(oo(this._zone,this._elRef.nativeElement,(l,d)=>{d&&z_(l),l.classList.add("show")},t),oo(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{so(t,"keydown").pipe(ki(this._closed$),wr(i=>i.which===Pi.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(eb.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;so(this._dialogEl.nativeElement,"mousedown").pipe(ki(this._closed$),(0,Se.b)(()=>r=!1),dr(()=>so(t,"mouseup").pipe(ki(this._closed$),cn(1))),wr(({target:i})=>t===i)).subscribe(()=>{r=!0}),so(t,"click").pipe(ki(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(eb.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=VO(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&oo(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(he),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&c.Gf(oV,7),2&t){let i;c.iGM(i=c.CRH())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(c.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),c.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),c.ekj("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:$L,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(c.F$t(),c.TgZ(0,"div",0,1)(2,"div",2),c.Hsn(3),c.qZA()()),2&t&&c.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),zB=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:l,paddingRight:d}=i;if(t>0){const f=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${f+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=d),i.overflow=l}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(he))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qB=(()=>{class n{constructor(t,r,i,l,d,f){this._applicationRef=t,this._injector=r,this._document=i,this._scrollBar=l,this._rendererFactory=d,this._ngZone=f,this._activeWindowCmptHasChanged=new Jn.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new c.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const _=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const i=so(e,"focusin").pipe(ki(t),(0,mt.U)(l=>l.target));so(e,"keydown").pipe(ki(t),wr(l=>l.which===Pi.Tab),KS(i)).subscribe(([l,d])=>{const[f,_]=VO(e);(d===f||d===e)&&l.shiftKey&&(_.focus(),l.preventDefault()),d===_&&!l.shiftKey&&(f.focus(),l.preventDefault())}),r&&so(e,"click").pipe(ki(t),KS(i),(0,mt.U)(l=>l[1])).subscribe(l=>l.focus())})})(0,_.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(_.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i){const l=i.container instanceof HTMLElement?i.container:ig(i.container)?this._document.querySelector(i.container):this._document.body,d=this._rendererFactory.createRenderer(null,null);if(!l)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const f=new YO,_=this._getContentRef(i.injector||t,r,f,i);let w=!1!==i.backdrop?this._attachBackdrop(l):void 0,S=this._attachWindowComponent(l,_.nodes),x=new GB(S,_,w,i.beforeDismiss);return this._registerModalRef(x),this._registerWindowCmpt(S),x.hidden.pipe(cn(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(d.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),f.close=j=>{x.close(j)},f.dismiss=j=>{x.dismiss(j)},this._applyWindowOptions(S.instance,i),1===this._modalRefs.length&&d.addClass(this._document.body,"modal-open"),w&&w.instance&&(this._applyBackdropOptions(w.instance,i),w.changeDetectorRef.detectChanges()),S.changeDetectorRef.detectChanges(),x}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let r=(0,c.LMc)(HB,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_attachWindowComponent(t,r){let i=(0,c.LMc)(WB,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_applyWindowOptions(t,r){this._windowAttributes.forEach(i=>{ig(r[i])&&(t[i]=r[i])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(i=>{ig(r[i])&&(t[i]=r[i])})}_getContentRef(t,r,i,l){return r?r instanceof c.Rgc?this._createFromTemplateRef(r,i):aA(r)?this._createFromString(r):this._createFromComponent(t,r,i,l):new lg([])}_createFromTemplateRef(t,r){const l=t.createEmbeddedView({$implicit:r,close(d){r.close(d)},dismiss(d){r.dismiss(d)}});return this._applicationRef.attachView(l),new lg([l.rootNodes],l)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new lg([[r]])}_createFromComponent(t,r,i,l){const d=c.zs3.create({providers:[{provide:YO,useValue:i}],parent:t}),f=(0,c.LMc)(r,{environmentInjector:this._applicationRef.injector,elementInjector:d}),_=f.location.nativeElement;return l.scrollable&&_.classList.add("component-host-scrollable"),this._applicationRef.attachView(f.hostView),new lg([[_]],f.hostView,f)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.z2F),c.LFG(c.zs3),c.LFG(he),c.LFG(zB),c.LFG(c.FYo),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ZB=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(jC))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KB=(()=>{class n{constructor(t,r,i){this._injector=t,this._modalStack=r,this._config=i}open(t,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3),c.LFG(qB),c.LFG(ZB))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[KB]}),n})(),tR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Qr]}),n})(),cR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Qr]}),n})(),dR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Qr]}),n})(),hR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Qr]}),n})(),fR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Qr]}),n})(),pR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Qr]}),n})(),gR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Qr]}),n})(),mR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();new c.OlP("live announcer delay",{providedIn:"root",factory:function lU(){return 100}});let _R=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Qr]}),n})(),yR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const cU=[xO,MO,kO,PO,zO,KO,QO,tR,yR,cR,dR,hR,fR,pR,gR,mR,_R];let uU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[cU,xO,MO,kO,PO,zO,KO,QO,tR,yR,cR,dR,hR,fR,pR,gR,mR,_R]}),n})(),dU=(()=>{class n{constructor(t){this.userServ=t}ngOnInit(){}logout(){this.userServ.logout()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(qS))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-navbar"]],decls:53,vars:0,consts:[[1,"navbar","navbar-expand","navbar-light","bg-white","topbar","mb-4","static-top","shadow"],["id","sidebarToggleTop",1,"btn","btn-link","d-md-none","rounded-circle","mr-3"],[1,"fa","fa-bars"],[1,"navbar-nav","ml-auto"],[1,"nav-item","dropdown","no-arrow","d-sm-none"],["href","#","id","searchDropdown","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link","dropdown-toggle"],[1,"fas","fa-search","fa-fw"],["aria-labelledby","searchDropdown",1,"dropdown-menu","dropdown-menu-right","p-2","shadow","animated--grow-in"],[1,"form-inline","mr-auto","w-100","navbar-search"],[1,"input-group"],["type","text","placeholder","Search for...","aria-label","Search","aria-describedby","basic-addon2",1,"form-control","bg-light","border-0","small"],[1,"input-group-append"],["type","button",1,"btn","btn-primary"],[1,"fas","fa-search","fa-sm"],[1,"nav-item","dropdown","no-arrow","mx-1"],["id","alertsDropdown","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link","dropdown-toggle"],[1,"fas","fa-bell","fa-fw"],["aria-labelledby","alertsDropdown",1,"dropdown-list","dropdown-menu","dropdown-menu-right","shadow","animated--grow-in"],[1,"dropdown-header"],["href","#",1,"dropdown-item","d-flex","align-items-center"],[1,"mr-3"],[1,"icon-circle","bg-primary"],[1,"fas","fa-file-alt","text-white"],["href","#",1,"dropdown-item","text-center","small","text-gray-500"],["ngbDropdown","",1,"nav-item","dropdown","no-arrow","mx-1"],["id","messagesDropdown","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false","ngbDropdownToggle","",1,"nav-link","dropdown-toggle"],[1,"fas","fa-envelope","fa-fw"],[1,"badge","badge-danger","badge-counter"],["ngbDropdownMenu","","aria-labelledby","messagesDropdown",1,"dropdown-list","dropdown-menu","dropdown-menu-right","shadow","animated--grow-in"],[1,"dropdown-list-image","mr-3"],[1,"bi","bi-envelope-dash"],[1,"status-indicator","bg-success"],[1,"font-weight-bold"],[1,"text-truncate"],[1,"small","text-gray-500"],[1,"topbar-divider","d-none","d-sm-block"],["ngbDropdown","",1,"nav-item","dropdown","no-arrow"],["id","userDropdown","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false","ngbDropdownToggle","",1,"nav-link","dropdown-toggle"],[1,"mr-2","d-none","d-lg-inline","text-gray-600","small"],[1,"bi","bi-person-square"],["ngbDropdownMenu","","aria-labelledby","userDropdown",1,"dropdown-menu","dropdown-menu-right","shadow","animated--grow-in"],[1,"dropdown-divider"],["data-toggle","modal","data-target","#logoutModal",1,"dropdown-item",3,"click"],[1,"fas","fa-sign-out-alt","fa-sm","fa-fw","mr-2","text-gray-400"]],template:function(t,r){1&t&&(c.TgZ(0,"nav",0)(1,"button",1),c._UZ(2,"i",2),c.qZA(),c.TgZ(3,"ul",3)(4,"li",4)(5,"a",5),c._UZ(6,"i",6),c.qZA(),c.TgZ(7,"div",7)(8,"form",8)(9,"div",9),c._UZ(10,"input",10),c.TgZ(11,"div",11)(12,"button",12),c._UZ(13,"i",13),c.qZA()()()()()(),c.TgZ(14,"li",14)(15,"a",15),c._UZ(16,"i",16),c.qZA(),c.TgZ(17,"div",17)(18,"h6",18),c._uU(19,"Alerts Center"),c.qZA(),c.TgZ(20,"a",19)(21,"div",20)(22,"div",21),c._UZ(23,"i",22),c.qZA()()(),c.TgZ(24,"a",23),c._uU(25,"Show All Alerts"),c.qZA()()(),c.TgZ(26,"li",24)(27,"a",25),c._UZ(28,"i",26)(29,"span",27),c.qZA(),c.TgZ(30,"div",28)(31,"h6",18),c._uU(32,"Message Center"),c.qZA(),c.TgZ(33,"a",19)(34,"div",29),c._UZ(35,"i",30)(36,"div",31),c.qZA(),c.TgZ(37,"div",32)(38,"div",33),c._uU(39,"No new messages"),c.qZA(),c.TgZ(40,"div",34),c._uU(41,"CRM System"),c.qZA()()()()(),c._UZ(42,"div",35),c.TgZ(43,"li",36)(44,"a",37)(45,"span",38),c._uU(46,"Evgeny Kroitoru"),c.qZA(),c._UZ(47,"i",39),c.qZA(),c.TgZ(48,"div",40),c._UZ(49,"div",41),c.TgZ(50,"a",42),c.NdJ("click",function(){return r.logout()}),c._UZ(51,"i",43),c._uU(52," Logout "),c.qZA()()()()())},dependencies:[j_,B_,tf,X0,ZO,gA,pA]}),n})(),hU=(()=>{class n{constructor(){this.year=(new Date).getFullYear()}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-dashboard"]],decls:31,vars:1,consts:[["id","page-top"],["id","wrapper"],["id","content-wrapper",1,"d-flex","flex-column"],["id","content"],[1,"container-fluid"],[1,"sticky-footer","bg-white"],[1,"container","my-auto"],[1,"copyright","text-center","my-auto"],["href","#page-top",1,"scroll-to-top","rounded"],[1,"fas","fa-angle-up"],["id","logoutModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["href","login.html",1,"btn","btn-primary"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1),c._UZ(2,"app-accordion-sidebar"),c.TgZ(3,"div",2)(4,"div",3),c._UZ(5,"app-navbar"),c.TgZ(6,"div",4),c._UZ(7,"router-outlet"),c.qZA()(),c.TgZ(8,"footer",5)(9,"div",6)(10,"div",7)(11,"span"),c._uU(12),c.qZA()()()()()(),c.TgZ(13,"a",8),c._UZ(14,"i",9),c.qZA(),c.TgZ(15,"div",10)(16,"div",11)(17,"div",12)(18,"div",13)(19,"h5",14),c._uU(20,"Ready to Leave?"),c.qZA(),c.TgZ(21,"button",15)(22,"span",16),c._uU(23,"\xd7"),c.qZA()()(),c.TgZ(24,"div",17),c._uU(25,' Select "Logout" below if you are ready to end your current session. '),c.qZA(),c.TgZ(26,"div",18)(27,"button",19),c._uU(28," Cancel "),c.qZA(),c.TgZ(29,"a",20),c._uU(30,"Logout"),c.qZA()()()()()()),2&t&&(c.xp6(12),c.hij("Evgeny Kroitoru CRM system project ",r.year,""))},dependencies:[wc,m2,dU]}),n})(),vR=(()=>{class n{constructor(t,r,i){this.cs=t,this.route=r,this.router=i,this.customer=new $0,this.uid=-1}ngOnInit(){this.route.queryParams.subscribe(t=>{t&&t.uid&&(this.uid=Number(t.uid),"number"==typeof this.uid&&this.getUserFromDBById(this.uid))})}getUserFromDBById(t){this.subscribe=this.cs.customerSubject.subscribe(r=>{const i=r.find(l=>l.id===t);i&&(this.customer=i)})}save(){this.customer.firstName.length<3?this.error("First name must be at least 3 characters long"):this.customer.lastName.length<3?this.error("Last name must be at least 3 characters long"):this.customer.email.length<3?this.error("Email must be at least 3 characters long"):this.cs.createCustomer(this.customer).then(()=>{this.customer=new $0,Mo().fire({title:"Customer created successfully",timer:1500}),this.router.navigate([],{queryParams:{uid:null},queryParamsHandling:"merge"})}).catch(t=>{this.error(t.message)})}error(t){Mo().fire({position:"top-end",icon:"error",title:t,showConfirmButton:!1,timer:5e3})}ngOnDestroy(){this.subscribe&&this.subscribe.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(tO),c.Y36(bc),c.Y36(Dr))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-edit-user"]],decls:30,vars:6,consts:[[1,"form-row"],[1,"form-group","col-md-6"],["for","firstName"],["type","string","id","firstName","placeholder","Enter first name","name","firstName",1,"form-control",3,"ngModel","ngModelChange"],["for","lastName"],["type","string","id","lastName","placeholder","Enter last name","name","lastName",1,"form-control",3,"ngModel","ngModelChange"],["for","email"],["type","email","id","email","placeholder","Enter Email","name","email",1,"form-control",3,"ngModel","ngModelChange"],["for","phone"],["type","string","id","phone","placeholder","Enter phone number","name","phoneNumber",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group"],["for","inputAddress"],["type","text","id","inputAddress","placeholder","Enter your address","name","address",1,"form-control",3,"ngModel","ngModelChange"],["for","notes"],["type","text","id","notes","placeholder","Enter your notes","name","notes","rows","5",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-success",3,"click"]],template:function(t,r){1&t&&(c.TgZ(0,"form")(1,"div",0)(2,"div",1)(3,"label",2),c._uU(4,"First name"),c.qZA(),c.TgZ(5,"input",3),c.NdJ("ngModelChange",function(l){return r.customer.firstName=l}),c.qZA()(),c.TgZ(6,"div",1)(7,"label",4),c._uU(8,"Last name"),c.qZA(),c.TgZ(9,"input",5),c.NdJ("ngModelChange",function(l){return r.customer.lastName=l}),c.qZA()()(),c.TgZ(10,"div",0)(11,"div",1)(12,"label",6),c._uU(13,"Email"),c.qZA(),c.TgZ(14,"input",7),c.NdJ("ngModelChange",function(l){return r.customer.email=l}),c.qZA()(),c.TgZ(15,"div",1)(16,"label",8),c._uU(17,"Phone"),c.qZA(),c.TgZ(18,"input",9),c.NdJ("ngModelChange",function(l){return r.customer.phoneNumber=l}),c.qZA()()(),c.TgZ(19,"div",10)(20,"label",11),c._uU(21,"Address"),c.qZA(),c.TgZ(22,"input",12),c.NdJ("ngModelChange",function(l){return r.customer.address=l}),c.qZA()(),c.TgZ(23,"div",10)(24,"label",13),c._uU(25,"Notes"),c.qZA(),c.TgZ(26,"textarea",14),c.NdJ("ngModelChange",function(l){return r.customer.notes=l}),c._uU(27,"            "),c.qZA()(),c.TgZ(28,"button",15),c.NdJ("click",function(){return r.save()}),c._uU(29,"Save"),c.qZA()()),2&t&&(c.xp6(5),c.Q6J("ngModel",r.customer.firstName),c.xp6(4),c.Q6J("ngModel",r.customer.lastName),c.xp6(5),c.Q6J("ngModel",r.customer.email),c.xp6(4),c.Q6J("ngModel",r.customer.phoneNumber),c.xp6(4),c.Q6J("ngModel",r.customer.address),c.xp6(4),c.Q6J("ngModel",r.customer.notes))},dependencies:[j_,L0,xS,B_,RC,tf]}),n})();function fU(n,e){1&n&&(c.TgZ(0,"div",20)(1,"span",21),c._uU(2,"Loading..."),c.qZA()())}let pU=(()=>{class n{constructor(t,r){this.userService=t,this.route=r,this.password="",this.email="",this.tryToLogin=!1}ngOnInit(){this.userService.isLoggedIn().then(t=>{!0===t&&this.route.navigate(["/dashboard"])})}login(){this.tryToLogin=!0,this.userService.login(this.email,this.password).catch(t=>{this.tryToLogin=!1,Mo().fire({position:"top-end",icon:"error",title:t.message,showConfirmButton:!1,timer:5e3})})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(qS),c.Y36(Dr))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login"]],decls:26,vars:3,consts:[[1,"bg-gradient-primary","h-100"],[1,"container"],[1,"row","justify-content-center"],[1,"col-xl-10","col-lg-12","col-md-9"],[1,"card","o-hidden","border-0","shadow-lg","my-5"],[1,"card-body","p-0"],[1,"row"],[1,"col-lg-6","d-none","d-lg-block","bg-login-image"],[1,"col-lg-6"],[1,"p-5"],[1,"text-center"],[1,"h4","text-gray-900","mb-4"],[1,"user"],[1,"form-group"],["type","email","id","exampleInputEmail","aria-describedby","emailHelp","placeholder","Enter Email Address...","pattern","[A-Za-z.-+]+@[A-Za-z]+.[a-z]+","name","email",1,"form-control","form-control-user",3,"ngModel","ngModelChange"],["type","password","name","password","id","exampleInputPassword","placeholder","Password",1,"form-control","form-control-user",3,"ngModel","ngModelChange"],[1,"btn","btn-primary","btn-user","btn-block",3,"click"],["class","spinner-border text-light","role","status",4,"ngIf"],["href","index.html",1,"btn","btn-google","btn-user","btn-block"],[1,"fab","fa-google","fa-fw"],["role","status",1,"spinner-border","text-light"],[1,"sr-only"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),c._UZ(7,"div",7),c.TgZ(8,"div",8)(9,"div",9)(10,"div",10)(11,"h1",11),c._uU(12,"Welcome Back!"),c.qZA()(),c.TgZ(13,"form",12)(14,"div",13)(15,"input",14),c.NdJ("ngModelChange",function(l){return r.email=l}),c.qZA()(),c.TgZ(16,"div",13)(17,"input",15),c.NdJ("ngModelChange",function(l){return r.password=l}),c.qZA()(),c.TgZ(18,"a",16),c.NdJ("click",function(){return r.login()}),c._uU(19," Login "),c.YNc(20,fU,3,0,"div",17),c.qZA(),c._UZ(21,"hr"),c.TgZ(22,"a",18),c._UZ(23,"i",19),c._uU(24," Login with Google "),c.qZA()(),c._UZ(25,"hr"),c.qZA()()()()()()()()()),2&t&&(c.xp6(15),c.Q6J("ngModel",r.email),c.xp6(2),c.Q6J("ngModel",r.password),c.xp6(3),c.Q6J("ngIf",r.tryToLogin))},dependencies:[Un,j_,L0,xS,B_,zS,RC,tf]}),n})();function gU(n,e){if(1&n&&(c.TgZ(0,"p"),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.xp6(1),c.Oqu(t.firstName)}}let mU=(()=>{class n{constructor(t){this.afs=t,this.users=[]}ngOnDestroy(){this.unsubscribeToCollection()}ngOnInit(){var t=this;return(0,Ne.Z)(function*(){t.getCollectionInRealTime("test")})()}createDocumentByCollectionAndDocumentName(){this.afs.collection("test").doc("testDocument2").set({firstName:"John",lastName:"Doe",age:30}).then(t=>console.log(t)).catch(t=>console.error(t))}createDocumentByFullPath(t,r,i=!0){this.afs.doc(t).set(r,{merge:i}).then(l=>console.log(l)).catch(l=>console.error(l))}readDocument(t){var r=this;return(0,Ne.Z)(function*(){try{const i=yield r.afs.doc(t).ref.get();return i.exists?i.data():null}catch(i){console.error(i)}})()}getAllDocumentsFromCollection(t){this.afs.collection(t).ref.where("age","==",30).where("firstName","==","John2").get().then(r=>{r.forEach(i=>{console.log(i.data())})}).catch(r=>console.error(r))}getCollectionInRealTime(t){this.unsubscribeToCollection=this.afs.collection(t).ref.where("age","==",30).onSnapshot(r=>{this.users=[],r.forEach(i=>{this.users.push(i.data()),console.log(i.data())})},r=>console.error(r))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(CC))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-test-firebase"]],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"]],template:function(t,r){1&t&&c.YNc(0,gU,2,1,"p",0),2&t&&c.Q6J("ngForOf",r.users)},dependencies:[Fr]}),n})(),bR=(()=>{class n{constructor(t){this.userService=t}canActivate(){return this.userService.isLoggedIn()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(qS))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const _U=[{path:"",redirectTo:"/dashboard",pathMatch:"full"},{path:"dashboard",component:hU,canActivate:[bR],children:[{path:"",component:g2},{path:"edit",component:vR},{path:"contacts",component:f2}]},{path:"login",component:pU},{path:"edit",component:vR},{path:"testdb",component:mU}];let yU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[tw.forRoot(_U),tw]}),n})(),vU=(()=>{class n{constructor(){this.title="crm"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},dependencies:[wc]}),n})();const vA_firebase={projectId:"crm2022-b8f10",appId:"1:192882613615:web:17c19a20eb9a51871edc9a",storageBucket:"crm2022-b8f10.appspot.com",locationId:"europe-west",apiKey:"AIzaSyCvZ2s9hArZ0dx7-ULU8VGPQdcDc8l7WkY",authDomain:"crm2022-b8f10.firebaseapp.com",messagingSenderId:"192882613615"};var bU=B(8247);class bA{constructor(e){return e}}class DR{constructor(){return(0,Rn.vb)("auth")}}const wA=new c.OlP("angularfire2.auth-instances");function DU(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new bA(r)}}const CU={provide:DR,deps:[[new c.FiY,wA]]},EU={provide:bA,useFactory:function wU(n,e){const t=(0,Rn.JM)("auth",n,e);return t&&new bA(t)},deps:[[new c.FiY,wA],L_]};let IU=(()=>{class n{constructor(){(0,Qh.KN)("angularfire",Rn.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[EU,CU]}),n})();function TU(n,...e){return{ngModule:IU,providers:[{provide:wA,useFactory:DU(n),multi:!0,deps:[c.R0b,c.zs3,Rn.HU,sS,[new c.FiY,F0],...e]}]}}const SU=(0,Rn.u3)(bU.n,!0);class DA{constructor(e){return e}}const CR="firestore",CA=new c.OlP("angularfire2.firestore-instances");function xU(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new DA(r)}}const MU={provide:class AU{constructor(){return(0,Rn.vb)(CR)}},deps:[[new c.FiY,CA]]},OU={provide:DA,useFactory:function NU(n,e){const t=(0,Rn.JM)(CR,n,e);return t&&new DA(t)},deps:[[new c.FiY,CA],L_]};let RU=(()=>{class n{constructor(){(0,Qh.KN)("angularfire",Rn.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[OU,MU]}),n})();function kU(n,...e){return{ngModule:RU,providers:[{provide:CA,useFactory:xU(n),multi:!0,deps:[c.R0b,c.zs3,Rn.HU,sS,[new c.FiY,DR],[new c.FiY,F0],...e]}]}}const PU=(0,Rn.u3)(ek,!0);let FU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[vU]}),n.\u0275inj=c.cJS({providers:[bR],imports:[Ca,Ni.hO.initializeApp(vA_firebase),uF,XM,yU,uU,uP(()=>dP(vA_firebase)),TU(()=>SU()),kU(()=>PU())]}),n})();(0,c.G48)(),wl().bootstrapModule(FU).catch(n=>console.error(n))},5867:(wt,ue,B)=>{"use strict";B.d(ue,{C6:()=>c.getApps,KN:()=>c.registerVersion,Mq:()=>c.getApp,ZF:()=>c.initializeApp});var c=B(9681);(0,c.registerVersion)("firebase","9.13.0","app")},127:(wt,ue,B)=>{"use strict";B.d(ue,{Z:()=>c.Z});var c=B(3942);c.Z.registerVersion("firebase","9.13.0","app-compat")},5881:(wt,ue,B)=>{"use strict";B.r(ue);var c=B(5861),R=B(3942),L=B(8247),le=B(2090),he=(B(9681),B(1877),B(4859));function pe(){return window}function Z(){return(Z=(0,c.Z)(function*(H,F,$){var se;const{BuildInfo:Ve}=pe();(0,L.ap)(F.sessionId,"AuthEvent did not contain a session ID");const ht=yield me(F.sessionId),ft={};return(0,L.aq)()?ft.ibi=Ve.packageName:(0,L.ar)()?ft.apn=Ve.packageName:(0,L.as)(H,"operation-not-supported-in-this-environment"),Ve.displayName&&(ft.appDisplayName=Ve.displayName),ft.sessionId=ht,(0,L.at)(H,$,F.type,void 0,null!==(se=F.eventId)&&void 0!==se?se:void 0,ft)})).apply(this,arguments)}function qe(){return(qe=(0,c.Z)(function*(H){const{BuildInfo:F}=pe(),$={};(0,L.aq)()?$.iosBundleId=F.packageName:(0,L.ar)()?$.androidPackageName=F.packageName:(0,L.as)(H,"operation-not-supported-in-this-environment"),yield(0,L.au)(H,$)})).apply(this,arguments)}function Xe(){return(Xe=(0,c.Z)(function*(H,F,$){const{cordova:se}=pe();let Ve=()=>{};try{yield new Promise((ht,ft)=>{let Re=null;function Ge(){var Bt;ht();const hn=null===(Bt=se.plugins.browsertab)||void 0===Bt?void 0:Bt.close;"function"==typeof hn&&hn(),"function"==typeof $?.close&&$.close()}function Vt(){Re||(Re=window.setTimeout(()=>{ft((0,L.aw)(H,"redirect-cancelled-by-user"))},2e3))}function _n(){"visible"===document?.visibilityState&&Vt()}F.addPassiveListener(Ge),document.addEventListener("resume",Vt,!1),(0,L.ar)()&&document.addEventListener("visibilitychange",_n,!1),Ve=()=>{F.removePassiveListener(Ge),document.removeEventListener("resume",Vt,!1),document.removeEventListener("visibilitychange",_n,!1),Re&&window.clearTimeout(Re)}})}finally{Ve()}})).apply(this,arguments)}function me(H){return $e.apply(this,arguments)}function $e(){return($e=(0,c.Z)(function*(H){const F=rt(H),$=yield crypto.subtle.digest("SHA-256",F);return Array.from(new Uint8Array($)).map(Ve=>Ve.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function rt(H){if((0,L.ap)(/[0-9a-zA-Z]+/.test(H),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(H);const F=new ArrayBuffer(H.length),$=new Uint8Array(F);for(let se=0;se<H.length;se++)$[se]=H.charCodeAt(se);return $}class Fe extends L.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(F=>{this.resolveInialized=F})}addPassiveListener(F){this.passiveListeners.add(F)}removePassiveListener(F){this.passiveListeners.delete(F)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(F){return this.resolveInialized(),this.passiveListeners.forEach($=>$(F)),super.onEvent(F)}initialized(){var F=this;return(0,c.Z)(function*(){yield F.initPromise})()}}function oe(H){return ge.apply(this,arguments)}function ge(){return(ge=(0,c.Z)(function*(H){const F=yield ne()._get(ye(H));return F&&(yield ne()._remove(ye(H))),F})).apply(this,arguments)}function X(){const H=[],F="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let $=0;$<20;$++){const se=Math.floor(Math.random()*F.length);H.push(F.charAt(se))}return H.join("")}function ne(){return(0,L.az)(L.b)}function ye(H){return(0,L.aA)("authEvent",H.config.apiKey,H.name)}function We(H){if(!H?.includes("?"))return{};const[F,...$]=H.split("?");return(0,le.zd)($.join("?"))}function tt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,L.aw)("no-auth-event")}}function Ot(){var H;return(null===(H=self?.location)||void 0===H?void 0:H.protocol)||null}function kr(H=(0,le.z$)()){return!("file:"!==Ot()&&"ionic:"!==Ot()&&"capacitor:"!==Ot()||!H.toLowerCase().match(/iphone|ipad|ipod|android/))}function zt(){try{const H=self.localStorage,F=L.aI();if(H)return H.setItem(F,"1"),H.removeItem(F),!function Vi(H=(0,le.z$)()){return function Ar(){return(0,le.w1)()&&11===document?.documentMode}()||function Ln(H=(0,le.z$)()){return/Edge\/\d+/.test(H)}(H)}()||(0,le.hl)()}catch{return Vn()&&(0,le.hl)()}return!1}function Vn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Dn(){return(function Rt(){return"http:"===Ot()||"https:"===Ot()}()||(0,le.ru)()||kr())&&!function Zn(){return(0,le.b$)()||(0,le.UG)()}()&&zt()&&!Vn()}function Nr(){return kr()&&typeof document<"u"}function Ye(){return(Ye=(0,c.Z)(function*(){return!!Nr()&&new Promise(H=>{const F=setTimeout(()=>{H(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(F),H(!0)})})})).apply(this,arguments)}const Bn={LOCAL:"local",NONE:"none",SESSION:"session"},Xt=L.ax,vr="persistence";function An(H){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,c.Z)(function*(H){yield H._initializationPromise;const F=Ct(),$=L.aA(vr,H.config.apiKey,H.name);F&&F.setItem($,H._getPersistence())})).apply(this,arguments)}function Ct(){var H;try{return(null===(H=function er(){return typeof window<"u"?window:null}())||void 0===H?void 0:H.sessionStorage)||null}catch{return null}}const Ze=L.ax;class Lt{constructor(){this.browserResolver=L.az(L.k),this.cordovaResolver=L.az(class ln{constructor(){this._redirectPersistence=L.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=L.aB,this._overrideRedirectResult=L.aC}_initialize(F){var $=this;return(0,c.Z)(function*(){const se=F._key();let Ve=$.eventManagers.get(se);return Ve||(Ve=new Fe(F),$.eventManagers.set(se,Ve),$.attachCallbackListeners(F,Ve)),Ve})()}_openPopup(F){(0,L.as)(F,"operation-not-supported-in-this-environment")}_openRedirect(F,$,se,Ve){var ht=this;return(0,c.Z)(function*(){!function Ie(H){var F,$,se,Ve,ht,ft,Re,Ge,Vt,_n;const Bt=pe();(0,L.ax)("function"==typeof(null===(F=Bt?.universalLinks)||void 0===F?void 0:F.subscribe),H,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,L.ax)(typeof(null===($=Bt?.BuildInfo)||void 0===$?void 0:$.packageName)<"u",H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,L.ax)("function"==typeof(null===(ht=null===(Ve=null===(se=Bt?.cordova)||void 0===se?void 0:se.plugins)||void 0===Ve?void 0:Ve.browsertab)||void 0===ht?void 0:ht.openUrl),H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,L.ax)("function"==typeof(null===(Ge=null===(Re=null===(ft=Bt?.cordova)||void 0===ft?void 0:ft.plugins)||void 0===Re?void 0:Re.browsertab)||void 0===Ge?void 0:Ge.isAvailable),H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,L.ax)("function"==typeof(null===(_n=null===(Vt=Bt?.cordova)||void 0===Vt?void 0:Vt.InAppBrowser)||void 0===_n?void 0:_n.open),H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(F);const ft=yield ht._initialize(F);yield ft.initialized(),ft.resetRedirect(),(0,L.aD)(),yield ht._originValidation(F);const Re=function Ae(H,F,$=null){return{type:F,eventId:$,urlResponse:null,sessionId:X(),postBody:null,tenantId:H.tenantId,error:(0,L.aw)(H,"no-auth-event")}}(F,se,Ve);yield function et(H,F){return ne()._set(ye(H),F)}(F,Re);const Ge=yield function Y(H,F,$){return Z.apply(this,arguments)}(F,Re,$),Vt=yield function Pe(H){const{cordova:F}=pe();return new Promise($=>{F.plugins.browsertab.isAvailable(se=>{let Ve=null;se?F.plugins.browsertab.openUrl(H):Ve=F.InAppBrowser.open(H,(0,L.av)()?"_blank":"_system","location=yes"),$(Ve)})})}(Ge);return function xe(H,F,$){return Xe.apply(this,arguments)}(F,ft,Vt)})()}_isIframeWebStorageSupported(F,$){throw new Error("Method not implemented.")}_originValidation(F){const $=F._key();return this.originValidationPromises[$]||(this.originValidationPromises[$]=function te(H){return qe.apply(this,arguments)}(F)),this.originValidationPromises[$]}attachCallbackListeners(F,$){const{universalLinks:se,handleOpenURL:Ve,BuildInfo:ht}=pe(),ft=setTimeout((0,c.Z)(function*(){yield oe(F),$.onEvent(tt())}),500),Re=function(){var _n=(0,c.Z)(function*(Bt){clearTimeout(ft);const hn=yield oe(F);let Bi=null;hn&&Bt?.url&&(Bi=function be(H,F){var $,se;const Ve=function je(H){const F=We(H),$=F.link?decodeURIComponent(F.link):void 0,se=We($).link,Ve=F.deep_link_id?decodeURIComponent(F.deep_link_id):void 0;return We(Ve).link||Ve||se||$||H}(F);if(Ve.includes("/__/auth/callback")){const ht=We(Ve),ft=ht.firebaseError?function ae(H){try{return JSON.parse(H)}catch{return null}}(decodeURIComponent(ht.firebaseError)):null,Re=null===(se=null===($=ft?.code)||void 0===$?void 0:$.split("auth/"))||void 0===se?void 0:se[1],Ge=Re?(0,L.aw)(Re):null;return Ge?{type:H.type,eventId:H.eventId,tenantId:H.tenantId,error:Ge,urlResponse:null,sessionId:null,postBody:null}:{type:H.type,eventId:H.eventId,tenantId:H.tenantId,sessionId:H.sessionId,urlResponse:Ve,postBody:null}}return null}(hn,Bt.url)),$.onEvent(Bi||tt())});return function(hn){return _n.apply(this,arguments)}}();typeof se<"u"&&"function"==typeof se.subscribe&&se.subscribe(null,Re);const Ge=Ve,Vt=`${ht.packageName.toLowerCase()}://`;pe().handleOpenURL=function(){var _n=(0,c.Z)(function*(Bt){if(Bt.toLowerCase().startsWith(Vt)&&Re({url:Bt}),"function"==typeof Ge)try{Ge(Bt)}catch(hn){console.error(hn)}});return function(Bt){return _n.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=L.a,this._completeRedirectFn=L.aB,this._overrideRedirectResult=L.aC}_initialize(F){var $=this;return(0,c.Z)(function*(){return yield $.selectUnderlyingResolver(),$.assertedUnderlyingResolver._initialize(F)})()}_openPopup(F,$,se,Ve){var ht=this;return(0,c.Z)(function*(){return yield ht.selectUnderlyingResolver(),ht.assertedUnderlyingResolver._openPopup(F,$,se,Ve)})()}_openRedirect(F,$,se,Ve){var ht=this;return(0,c.Z)(function*(){return yield ht.selectUnderlyingResolver(),ht.assertedUnderlyingResolver._openRedirect(F,$,se,Ve)})()}_isIframeWebStorageSupported(F,$){this.assertedUnderlyingResolver._isIframeWebStorageSupported(F,$)}_originValidation(F){return this.assertedUnderlyingResolver._originValidation(F)}get _shouldInitProactively(){return Nr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ze(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var F=this;return(0,c.Z)(function*(){if(F.underlyingResolver)return;const $=yield function On(){return Ye.apply(this,arguments)}();F.underlyingResolver=$?F.cordovaResolver:F.browserResolver})()}}function qr(H){return H.unwrap()}function Pr(H){return nr(H)}function nr(H){const{_tokenResponse:F}=H instanceof le.ZR?H.customData:H;if(!F)return null;if(!(H instanceof le.ZR)&&"temporaryProof"in F&&"phoneNumber"in F)return L.P.credentialFromResult(H);const $=F.providerId;if(!$||$===L.o.PASSWORD)return null;let se;switch($){case L.o.GOOGLE:se=L.Q;break;case L.o.FACEBOOK:se=L.N;break;case L.o.GITHUB:se=L.T;break;case L.o.TWITTER:se=L.W;break;default:const{oauthIdToken:Ve,oauthAccessToken:ht,oauthTokenSecret:ft,pendingToken:Re,nonce:Ge}=F;return ht||ft||Ve||Re?Re?$.startsWith("saml.")?L.aL._create($,Re):L.J._fromParams({providerId:$,signInMethod:$,pendingToken:Re,idToken:Ve,accessToken:ht}):new L.U($).credential({idToken:Ve,accessToken:ht,rawNonce:Ge}):null}return H instanceof le.ZR?se.credentialFromError(H):se.credentialFromResult(H)}function Wt(H,F){return F.catch($=>{throw $ instanceof le.ZR&&function Ft(H,F){var $,se;const Ve=null===($=F.customData)||void 0===$?void 0:$._tokenResponse;if("auth/multi-factor-auth-required"===(null===(se=F)||void 0===se?void 0:se.code))F.resolver=new pr(H,L.an(H,F));else if(Ve){const ht=nr(F),ft=F;ht&&(ft.credential=ht,ft.tenantId=Ve.tenantId||void 0,ft.email=Ve.email||void 0,ft.phoneNumber=Ve.phoneNumber||void 0)}}(H,$),$}).then($=>{const Ve=$.user;return{operationType:$.operationType,credential:Pr($),additionalUserInfo:L.al($),user:kn.getOrCreate(Ve)}})}function hi(H,F){return sn.apply(this,arguments)}function sn(){return(sn=(0,c.Z)(function*(H,F){const $=yield F;return{verificationId:$.verificationId,confirm:se=>Wt(H,$.confirm(se))}})).apply(this,arguments)}class pr{constructor(F,$){this.resolver=$,this.auth=function tr(H){return H.wrapped()}(F)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(F){return Wt(qr(this.auth),this.resolver.resolveSignIn(F))}}class kn{constructor(F){this._delegate=F,this.multiFactor=L.ao(F)}static getOrCreate(F){return kn.USER_MAP.has(F)||kn.USER_MAP.set(F,new kn(F)),kn.USER_MAP.get(F)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(F){return this._delegate.getIdTokenResult(F)}getIdToken(F){return this._delegate.getIdToken(F)}linkAndRetrieveDataWithCredential(F){return this.linkWithCredential(F)}linkWithCredential(F){var $=this;return(0,c.Z)(function*(){return Wt($.auth,L.Z($._delegate,F))})()}linkWithPhoneNumber(F,$){var se=this;return(0,c.Z)(function*(){return hi(se.auth,L.l(se._delegate,F,$))})()}linkWithPopup(F){var $=this;return(0,c.Z)(function*(){return Wt($.auth,L.d($._delegate,F,Lt))})()}linkWithRedirect(F){var $=this;return(0,c.Z)(function*(){return yield An(L.aE($.auth)),L.g($._delegate,F,Lt)})()}reauthenticateAndRetrieveDataWithCredential(F){return this.reauthenticateWithCredential(F)}reauthenticateWithCredential(F){var $=this;return(0,c.Z)(function*(){return Wt($.auth,L._($._delegate,F))})()}reauthenticateWithPhoneNumber(F,$){return hi(this.auth,L.r(this._delegate,F,$))}reauthenticateWithPopup(F){return Wt(this.auth,L.e(this._delegate,F,Lt))}reauthenticateWithRedirect(F){var $=this;return(0,c.Z)(function*(){return yield An(L.aE($.auth)),L.h($._delegate,F,Lt)})()}sendEmailVerification(F){return L.ab(this._delegate,F)}unlink(F){var $=this;return(0,c.Z)(function*(){return yield L.ak($._delegate,F),$})()}updateEmail(F){return L.ag(this._delegate,F)}updatePassword(F){return L.ah(this._delegate,F)}updatePhoneNumber(F){return L.u(this._delegate,F)}updateProfile(F){return L.af(this._delegate,F)}verifyBeforeUpdateEmail(F,$){return L.ac(this._delegate,F,$)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}kn.USER_MAP=new WeakMap;const lt=L.ax;let Oe=(()=>{class H{constructor($,se){if(this.app=$,se.isInitialized())return this._delegate=se.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ve}=$.options;lt(Ve,"invalid-api-key",{appName:$.name}),lt(Ve,"invalid-api-key",{appName:$.name});const ht=typeof window<"u"?Lt:void 0;this._delegate=se.initialize({options:{persistence:Et(Ve,$.name),popupRedirectResolver:ht}}),this._delegate._updateErrorMap(L.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?kn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode($){this._delegate.languageCode=$}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId($){this._delegate.tenantId=$}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator($,se){L.G(this._delegate,$,se)}applyActionCode($){return L.a2(this._delegate,$)}checkActionCode($){return L.a3(this._delegate,$)}confirmPasswordReset($,se){return L.a1(this._delegate,$,se)}createUserWithEmailAndPassword($,se){var Ve=this;return(0,c.Z)(function*(){return Wt(Ve._delegate,L.a5(Ve._delegate,$,se))})()}fetchProvidersForEmail($){return this.fetchSignInMethodsForEmail($)}fetchSignInMethodsForEmail($){return L.aa(this._delegate,$)}isSignInWithEmailLink($){return L.a8(this._delegate,$)}getRedirectResult(){var $=this;return(0,c.Z)(function*(){lt(Dn(),$._delegate,"operation-not-supported-in-this-environment");const se=yield L.j($._delegate,Lt);return se?Wt($._delegate,Promise.resolve(se)):{credential:null,user:null}})()}addFrameworkForLogging($){!function gn(H,F){(0,L.aE)(H)._logFramework(F)}(this._delegate,$)}onAuthStateChanged($,se,Ve){const{next:ht,error:ft,complete:Re}=dt($,se,Ve);return this._delegate.onAuthStateChanged(ht,ft,Re)}onIdTokenChanged($,se,Ve){const{next:ht,error:ft,complete:Re}=dt($,se,Ve);return this._delegate.onIdTokenChanged(ht,ft,Re)}sendSignInLinkToEmail($,se){return L.a7(this._delegate,$,se)}sendPasswordResetEmail($,se){return L.a0(this._delegate,$,se||void 0)}setPersistence($){var se=this;return(0,c.Z)(function*(){let Ve;switch(function hs(H,F){Xt(Object.values(Bn).includes(F),H,"invalid-persistence-type"),(0,le.b$)()?Xt(F!==Bn.SESSION,H,"unsupported-persistence-type"):(0,le.UG)()?Xt(F===Bn.NONE,H,"unsupported-persistence-type"):Vn()?Xt(F===Bn.NONE||F===Bn.LOCAL&&(0,le.hl)(),H,"unsupported-persistence-type"):Xt(F===Bn.NONE||zt(),H,"unsupported-persistence-type")}(se._delegate,$),$){case Bn.SESSION:Ve=L.a;break;case Bn.LOCAL:Ve=(yield L.az(L.i)._isAvailable())?L.i:L.b;break;case Bn.NONE:Ve=L.L;break;default:return L.as("argument-error",{appName:se._delegate.name})}return se._delegate.setPersistence(Ve)})()}signInAndRetrieveDataWithCredential($){return this.signInWithCredential($)}signInAnonymously(){return Wt(this._delegate,L.X(this._delegate))}signInWithCredential($){return Wt(this._delegate,L.Y(this._delegate,$))}signInWithCustomToken($){return Wt(this._delegate,L.$(this._delegate,$))}signInWithEmailAndPassword($,se){return Wt(this._delegate,L.a6(this._delegate,$,se))}signInWithEmailLink($,se){return Wt(this._delegate,L.a9(this._delegate,$,se))}signInWithPhoneNumber($,se){return hi(this._delegate,L.s(this._delegate,$,se))}signInWithPopup($){var se=this;return(0,c.Z)(function*(){return lt(Dn(),se._delegate,"operation-not-supported-in-this-environment"),Wt(se._delegate,L.c(se._delegate,$,Lt))})()}signInWithRedirect($){var se=this;return(0,c.Z)(function*(){return lt(Dn(),se._delegate,"operation-not-supported-in-this-environment"),yield An(se._delegate),L.f(se._delegate,$,Lt)})()}updateCurrentUser($){return this._delegate.updateCurrentUser($)}verifyPasswordResetCode($){return L.a4(this._delegate,$)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return H.Persistence=Bn,H})();function dt(H,F,$){let se=H;"function"!=typeof H&&({next:se,error:F,complete:$}=H);const Ve=se;return{next:ft=>Ve(ft&&kn.getOrCreate(ft)),error:F,complete:$}}function Et(H,F){const $=function En(H,F){const $=Ct();if(!$)return[];const se=L.aA(vr,H,F);switch($.getItem(se)){case Bn.NONE:return[L.L];case Bn.LOCAL:return[L.i,L.a];case Bn.SESSION:return[L.a];default:return[]}}(H,F);if(typeof self<"u"&&!$.includes(L.i)&&$.push(L.i),typeof window<"u")for(const se of[L.b,L.a])$.includes(se)||$.push(se);return $.includes(L.L)||$.push(L.L),$}class xt{constructor(){this.providerId="phone",this._delegate=new L.P(qr(R.Z.auth()))}static credential(F,$){return L.P.credential(F,$)}verifyPhoneNumber(F,$){return this._delegate.verifyPhoneNumber(F,$)}unwrap(){return this._delegate}}xt.PHONE_SIGN_IN_METHOD=L.P.PHONE_SIGN_IN_METHOD,xt.PROVIDER_ID=L.P.PROVIDER_ID;const on=L.ax;class K{constructor(F,$,se=R.Z.app()){var Ve;on(null===(Ve=se.options)||void 0===Ve?void 0:Ve.apiKey,"invalid-api-key",{appName:se.name}),this._delegate=new L.R(F,$,se.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function J(H){H.INTERNAL.registerComponent(new he.wA("auth-compat",F=>{const $=F.getProvider("app-compat").getImmediate(),se=F.getProvider("auth");return new Oe($,se)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:L.A.EMAIL_SIGNIN,PASSWORD_RESET:L.A.PASSWORD_RESET,RECOVER_EMAIL:L.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:L.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:L.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:L.A.VERIFY_EMAIL}},EmailAuthProvider:L.M,FacebookAuthProvider:L.N,GithubAuthProvider:L.T,GoogleAuthProvider:L.Q,OAuthProvider:L.U,SAMLAuthProvider:L.V,PhoneAuthProvider:xt,PhoneMultiFactorGenerator:L.m,RecaptchaVerifier:K,TwitterAuthProvider:L.W,Auth:Oe,AuthCredential:L.H,Error:le.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),H.registerVersion("@firebase/auth-compat","0.2.24")}(R.Z)},9751:(wt,ue,B)=>{"use strict";B.d(ue,{y:()=>pe});var c=B(930),R=B(727),L=B(8822),le=B(9635),fe=B(2416),we=B(576),he=B(2806);let pe=(()=>{class te{constructor(Pe){Pe&&(this._subscribe=Pe)}lift(Pe){const xe=new te;return xe.source=this,xe.operator=Pe,xe}subscribe(Pe,xe,Xe){const Ie=function Z(te){return te&&te instanceof c.Lv||function Y(te){return te&&(0,we.m)(te.next)&&(0,we.m)(te.error)&&(0,we.m)(te.complete)}(te)&&(0,R.Nn)(te)}(Pe)?Pe:new c.Hp(Pe,xe,Xe);return(0,he.x)(()=>{const{operator:me,source:$e}=this;Ie.add(me?me.call(Ie,$e):$e?this._subscribe(Ie):this._trySubscribe(Ie))}),Ie}_trySubscribe(Pe){try{return this._subscribe(Pe)}catch(xe){Pe.error(xe)}}forEach(Pe,xe){return new(xe=Ce(xe))((Xe,Ie)=>{const me=new c.Hp({next:$e=>{try{Pe($e)}catch(rt){Ie(rt),me.unsubscribe()}},error:Ie,complete:Xe});this.subscribe(me)})}_subscribe(Pe){var xe;return null===(xe=this.source)||void 0===xe?void 0:xe.subscribe(Pe)}[L.L](){return this}pipe(...Pe){return(0,le.U)(Pe)(this)}toPromise(Pe){return new(Pe=Ce(Pe))((xe,Xe)=>{let Ie;this.subscribe(me=>Ie=me,me=>Xe(me),()=>xe(Ie))})}}return te.create=qe=>new te(qe),te})();function Ce(te){var qe;return null!==(qe=te??fe.v.Promise)&&void 0!==qe?qe:Promise}},7579:(wt,ue,B)=>{"use strict";B.d(ue,{x:()=>he});var c=B(9751),R=B(727);const le=(0,B(3888).d)(Ce=>function(){Ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=B(8737),we=B(2806);let he=(()=>{class Ce extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Z){const te=new pe(this,this);return te.operator=Z,te}_throwIfClosed(){if(this.closed)throw new le}next(Z){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const te of this.currentObservers)te.next(Z)}})}error(Z){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Z;const{observers:te}=this;for(;te.length;)te.shift().error(Z)}})}complete(){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Z}=this;for(;Z.length;)Z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Z;return(null===(Z=this.observers)||void 0===Z?void 0:Z.length)>0}_trySubscribe(Z){return this._throwIfClosed(),super._trySubscribe(Z)}_subscribe(Z){return this._throwIfClosed(),this._checkFinalizedStatuses(Z),this._innerSubscribe(Z)}_innerSubscribe(Z){const{hasError:te,isStopped:qe,observers:Pe}=this;return te||qe?R.Lc:(this.currentObservers=null,Pe.push(Z),new R.w0(()=>{this.currentObservers=null,(0,fe.P)(Pe,Z)}))}_checkFinalizedStatuses(Z){const{hasError:te,thrownError:qe,isStopped:Pe}=this;te?Z.error(qe):Pe&&Z.complete()}asObservable(){const Z=new c.y;return Z.source=this,Z}}return Ce.create=(Y,Z)=>new pe(Y,Z),Ce})();class pe extends he{constructor(Y,Z){super(),this.destination=Y,this.source=Z}next(Y){var Z,te;null===(te=null===(Z=this.destination)||void 0===Z?void 0:Z.next)||void 0===te||te.call(Z,Y)}error(Y){var Z,te;null===(te=null===(Z=this.destination)||void 0===Z?void 0:Z.error)||void 0===te||te.call(Z,Y)}complete(){var Y,Z;null===(Z=null===(Y=this.destination)||void 0===Y?void 0:Y.complete)||void 0===Z||Z.call(Y)}_subscribe(Y){var Z,te;return null!==(te=null===(Z=this.source)||void 0===Z?void 0:Z.subscribe(Y))&&void 0!==te?te:R.Lc}}},930:(wt,ue,B)=>{"use strict";B.d(ue,{Hp:()=>Xe,Lv:()=>te});var c=B(576),R=B(727),L=B(2416),le=B(7849),fe=B(5032);const we=Ce("C",void 0,void 0);function Ce(Be,Fe,Ae){return{kind:Be,value:Fe,error:Ae}}var Y=B(3410),Z=B(2806);class te extends R.w0{constructor(Fe){super(),this.isStopped=!1,Fe?(this.destination=Fe,(0,R.Nn)(Fe)&&Fe.add(this)):this.destination=rt}static create(Fe,Ae,et){return new Xe(Fe,Ae,et)}next(Fe){this.isStopped?$e(function pe(Be){return Ce("N",Be,void 0)}(Fe),this):this._next(Fe)}error(Fe){this.isStopped?$e(function he(Be){return Ce("E",void 0,Be)}(Fe),this):(this.isStopped=!0,this._error(Fe))}complete(){this.isStopped?$e(we,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Fe){this.destination.next(Fe)}_error(Fe){try{this.destination.error(Fe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const qe=Function.prototype.bind;function Pe(Be,Fe){return qe.call(Be,Fe)}class xe{constructor(Fe){this.partialObserver=Fe}next(Fe){const{partialObserver:Ae}=this;if(Ae.next)try{Ae.next(Fe)}catch(et){Ie(et)}}error(Fe){const{partialObserver:Ae}=this;if(Ae.error)try{Ae.error(Fe)}catch(et){Ie(et)}else Ie(Fe)}complete(){const{partialObserver:Fe}=this;if(Fe.complete)try{Fe.complete()}catch(Ae){Ie(Ae)}}}class Xe extends te{constructor(Fe,Ae,et){let oe;if(super(),(0,c.m)(Fe)||!Fe)oe={next:Fe??void 0,error:Ae??void 0,complete:et??void 0};else{let ge;this&&L.v.useDeprecatedNextContext?(ge=Object.create(Fe),ge.unsubscribe=()=>this.unsubscribe(),oe={next:Fe.next&&Pe(Fe.next,ge),error:Fe.error&&Pe(Fe.error,ge),complete:Fe.complete&&Pe(Fe.complete,ge)}):oe=Fe}this.destination=new xe(oe)}}function Ie(Be){L.v.useDeprecatedSynchronousErrorHandling?(0,Z.O)(Be):(0,le.h)(Be)}function $e(Be,Fe){const{onStoppedNotification:Ae}=L.v;Ae&&Y.z.setTimeout(()=>Ae(Be,Fe))}const rt={closed:!0,next:fe.Z,error:function me(Be){throw Be},complete:fe.Z}},727:(wt,ue,B)=>{"use strict";B.d(ue,{Lc:()=>we,w0:()=>fe,Nn:()=>he});var c=B(576);const L=(0,B(3888).d)(Ce=>function(Z){Ce(this),this.message=Z?`${Z.length} errors occurred during unsubscription:\n${Z.map((te,qe)=>`${qe+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Z});var le=B(8737);class fe{constructor(Y){this.initialTeardown=Y,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Y;if(!this.closed){this.closed=!0;const{_parentage:Z}=this;if(Z)if(this._parentage=null,Array.isArray(Z))for(const Pe of Z)Pe.remove(this);else Z.remove(this);const{initialTeardown:te}=this;if((0,c.m)(te))try{te()}catch(Pe){Y=Pe instanceof L?Pe.errors:[Pe]}const{_finalizers:qe}=this;if(qe){this._finalizers=null;for(const Pe of qe)try{pe(Pe)}catch(xe){Y=Y??[],xe instanceof L?Y=[...Y,...xe.errors]:Y.push(xe)}}if(Y)throw new L(Y)}}add(Y){var Z;if(Y&&Y!==this)if(this.closed)pe(Y);else{if(Y instanceof fe){if(Y.closed||Y._hasParent(this))return;Y._addParent(this)}(this._finalizers=null!==(Z=this._finalizers)&&void 0!==Z?Z:[]).push(Y)}}_hasParent(Y){const{_parentage:Z}=this;return Z===Y||Array.isArray(Z)&&Z.includes(Y)}_addParent(Y){const{_parentage:Z}=this;this._parentage=Array.isArray(Z)?(Z.push(Y),Z):Z?[Z,Y]:Y}_removeParent(Y){const{_parentage:Z}=this;Z===Y?this._parentage=null:Array.isArray(Z)&&(0,le.P)(Z,Y)}remove(Y){const{_finalizers:Z}=this;Z&&(0,le.P)(Z,Y),Y instanceof fe&&Y._removeParent(this)}}fe.EMPTY=(()=>{const Ce=new fe;return Ce.closed=!0,Ce})();const we=fe.EMPTY;function he(Ce){return Ce instanceof fe||Ce&&"closed"in Ce&&(0,c.m)(Ce.remove)&&(0,c.m)(Ce.add)&&(0,c.m)(Ce.unsubscribe)}function pe(Ce){(0,c.m)(Ce)?Ce():Ce.unsubscribe()}},2416:(wt,ue,B)=>{"use strict";B.d(ue,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(wt,ue,B)=>{"use strict";B.d(ue,{E:()=>R});const R=new(B(9751).y)(fe=>fe.complete())},8996:(wt,ue,B)=>{"use strict";B.d(ue,{D:()=>Fe});var c=B(8421),R=B(5363),L=B(9468),we=B(9751),pe=B(2202),Ce=B(576),Y=B(9672);function te(Ae,et){if(!Ae)throw new Error("Iterable cannot be null");return new we.y(oe=>{(0,Y.f)(oe,et,()=>{const ge=Ae[Symbol.asyncIterator]();(0,Y.f)(oe,et,()=>{ge.next().then(be=>{be.done?oe.complete():oe.next(be.value)})},0,!0)})})}var qe=B(3670),Pe=B(8239),xe=B(1144),Xe=B(6495),Ie=B(2206),me=B(4532),$e=B(3260);function Fe(Ae,et){return et?function Be(Ae,et){if(null!=Ae){if((0,qe.c)(Ae))return function le(Ae,et){return(0,c.Xf)(Ae).pipe((0,L.R)(et),(0,R.Q)(et))}(Ae,et);if((0,xe.z)(Ae))return function he(Ae,et){return new we.y(oe=>{let ge=0;return et.schedule(function(){ge===Ae.length?oe.complete():(oe.next(Ae[ge++]),oe.closed||this.schedule())})})}(Ae,et);if((0,Pe.t)(Ae))return function fe(Ae,et){return(0,c.Xf)(Ae).pipe((0,L.R)(et),(0,R.Q)(et))}(Ae,et);if((0,Ie.D)(Ae))return te(Ae,et);if((0,Xe.T)(Ae))return function Z(Ae,et){return new we.y(oe=>{let ge;return(0,Y.f)(oe,et,()=>{ge=Ae[pe.h](),(0,Y.f)(oe,et,()=>{let be,X;try{({value:be,done:X}=ge.next())}catch(ne){return void oe.error(ne)}X?oe.complete():oe.next(be)},0,!0)}),()=>(0,Ce.m)(ge?.return)&&ge.return()})}(Ae,et);if((0,$e.L)(Ae))return function rt(Ae,et){return te((0,$e.Q)(Ae),et)}(Ae,et)}throw(0,me.z)(Ae)}(Ae,et):(0,c.Xf)(Ae)}},8421:(wt,ue,B)=>{"use strict";B.d(ue,{Xf:()=>qe});var c=B(655),R=B(1144),L=B(8239),le=B(9751),fe=B(3670),we=B(2206),he=B(4532),pe=B(6495),Ce=B(3260),Y=B(576),Z=B(7849),te=B(8822);function qe(Be){if(Be instanceof le.y)return Be;if(null!=Be){if((0,fe.c)(Be))return function Pe(Be){return new le.y(Fe=>{const Ae=Be[te.L]();if((0,Y.m)(Ae.subscribe))return Ae.subscribe(Fe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Be);if((0,R.z)(Be))return function xe(Be){return new le.y(Fe=>{for(let Ae=0;Ae<Be.length&&!Fe.closed;Ae++)Fe.next(Be[Ae]);Fe.complete()})}(Be);if((0,L.t)(Be))return function Xe(Be){return new le.y(Fe=>{Be.then(Ae=>{Fe.closed||(Fe.next(Ae),Fe.complete())},Ae=>Fe.error(Ae)).then(null,Z.h)})}(Be);if((0,we.D)(Be))return me(Be);if((0,pe.T)(Be))return function Ie(Be){return new le.y(Fe=>{for(const Ae of Be)if(Fe.next(Ae),Fe.closed)return;Fe.complete()})}(Be);if((0,Ce.L)(Be))return function $e(Be){return me((0,Ce.Q)(Be))}(Be)}throw(0,he.z)(Be)}function me(Be){return new le.y(Fe=>{(function rt(Be,Fe){var Ae,et,oe,ge;return(0,c.mG)(this,void 0,void 0,function*(){try{for(Ae=(0,c.KL)(Be);!(et=yield Ae.next()).done;)if(Fe.next(et.value),Fe.closed)return}catch(be){oe={error:be}}finally{try{et&&!et.done&&(ge=Ae.return)&&(yield ge.call(Ae))}finally{if(oe)throw oe.error}}Fe.complete()})})(Be,Fe).catch(Ae=>Fe.error(Ae))})}},6451:(wt,ue,B)=>{"use strict";B.d(ue,{T:()=>we});var c=B(8189),R=B(8421),L=B(515),le=B(3269),fe=B(8996);function we(...he){const pe=(0,le.yG)(he),Ce=(0,le._6)(he,1/0),Y=he;return Y.length?1===Y.length?(0,R.Xf)(Y[0]):(0,c.J)(Ce)((0,fe.D)(Y,pe)):L.E}},5403:(wt,ue,B)=>{"use strict";B.d(ue,{x:()=>R});var c=B(930);function R(le,fe,we,he,pe){return new L(le,fe,we,he,pe)}class L extends c.Lv{constructor(fe,we,he,pe,Ce,Y){super(fe),this.onFinalize=Ce,this.shouldUnsubscribe=Y,this._next=we?function(Z){try{we(Z)}catch(te){fe.error(te)}}:super._next,this._error=pe?function(Z){try{pe(Z)}catch(te){fe.error(te)}finally{this.unsubscribe()}}:super._error,this._complete=he?function(){try{he()}catch(Z){fe.error(Z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var fe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:we}=this;super.unsubscribe(),!we&&(null===(fe=this.onFinalize)||void 0===fe||fe.call(this))}}}},4004:(wt,ue,B)=>{"use strict";B.d(ue,{U:()=>L});var c=B(4482),R=B(5403);function L(le,fe){return(0,c.e)((we,he)=>{let pe=0;we.subscribe((0,R.x)(he,Ce=>{he.next(le.call(fe,Ce,pe++))}))})}},8189:(wt,ue,B)=>{"use strict";B.d(ue,{J:()=>L});var c=B(5577),R=B(4671);function L(le=1/0){return(0,c.z)(R.y,le)}},5577:(wt,ue,B)=>{"use strict";B.d(ue,{z:()=>pe});var c=B(4004),R=B(8421),L=B(4482),le=B(9672),fe=B(5403),he=B(576);function pe(Ce,Y,Z=1/0){return(0,he.m)(Y)?pe((te,qe)=>(0,c.U)((Pe,xe)=>Y(te,Pe,qe,xe))((0,R.Xf)(Ce(te,qe))),Z):("number"==typeof Y&&(Z=Y),(0,L.e)((te,qe)=>function we(Ce,Y,Z,te,qe,Pe,xe,Xe){const Ie=[];let me=0,$e=0,rt=!1;const Be=()=>{rt&&!Ie.length&&!me&&Y.complete()},Fe=et=>me<te?Ae(et):Ie.push(et),Ae=et=>{Pe&&Y.next(et),me++;let oe=!1;(0,R.Xf)(Z(et,$e++)).subscribe((0,fe.x)(Y,ge=>{qe?.(ge),Pe?Fe(ge):Y.next(ge)},()=>{oe=!0},void 0,()=>{if(oe)try{for(me--;Ie.length&&me<te;){const ge=Ie.shift();xe?(0,le.f)(Y,xe,()=>Ae(ge)):Ae(ge)}Be()}catch(ge){Y.error(ge)}}))};return Ce.subscribe((0,fe.x)(Y,Fe,()=>{rt=!0,Be()})),()=>{Xe?.()}}(te,qe,Ce,Z)))}},5363:(wt,ue,B)=>{"use strict";B.d(ue,{Q:()=>le});var c=B(9672),R=B(4482),L=B(5403);function le(fe,we=0){return(0,R.e)((he,pe)=>{he.subscribe((0,L.x)(pe,Ce=>(0,c.f)(pe,fe,()=>pe.next(Ce),we),()=>(0,c.f)(pe,fe,()=>pe.complete(),we),Ce=>(0,c.f)(pe,fe,()=>pe.error(Ce),we)))})}},3099:(wt,ue,B)=>{"use strict";B.d(ue,{B:()=>fe});var c=B(8421),R=B(7579),L=B(930),le=B(4482);function fe(he={}){const{connector:pe=(()=>new R.x),resetOnError:Ce=!0,resetOnComplete:Y=!0,resetOnRefCountZero:Z=!0}=he;return te=>{let qe,Pe,xe,Xe=0,Ie=!1,me=!1;const $e=()=>{Pe?.unsubscribe(),Pe=void 0},rt=()=>{$e(),qe=xe=void 0,Ie=me=!1},Be=()=>{const Fe=qe;rt(),Fe?.unsubscribe()};return(0,le.e)((Fe,Ae)=>{Xe++,!me&&!Ie&&$e();const et=xe=xe??pe();Ae.add(()=>{Xe--,0===Xe&&!me&&!Ie&&(Pe=we(Be,Z))}),et.subscribe(Ae),!qe&&Xe>0&&(qe=new L.Hp({next:oe=>et.next(oe),error:oe=>{me=!0,$e(),Pe=we(rt,Ce,oe),et.error(oe)},complete:()=>{Ie=!0,$e(),Pe=we(rt,Y),et.complete()}}),(0,c.Xf)(Fe).subscribe(qe))})(te)}}function we(he,pe,...Ce){if(!0===pe)return void he();if(!1===pe)return;const Y=new L.Hp({next:()=>{Y.unsubscribe(),he()}});return pe(...Ce).subscribe(Y)}},9468:(wt,ue,B)=>{"use strict";B.d(ue,{R:()=>R});var c=B(4482);function R(L,le=0){return(0,c.e)((fe,we)=>{we.add(L.schedule(()=>fe.subscribe(we),le))})}},8505:(wt,ue,B)=>{"use strict";B.d(ue,{b:()=>fe});var c=B(576),R=B(4482),L=B(5403),le=B(4671);function fe(we,he,pe){const Ce=(0,c.m)(we)||he||pe?{next:we,error:he,complete:pe}:we;return Ce?(0,R.e)((Y,Z)=>{var te;null===(te=Ce.subscribe)||void 0===te||te.call(Ce);let qe=!0;Y.subscribe((0,L.x)(Z,Pe=>{var xe;null===(xe=Ce.next)||void 0===xe||xe.call(Ce,Pe),Z.next(Pe)},()=>{var Pe;qe=!1,null===(Pe=Ce.complete)||void 0===Pe||Pe.call(Ce),Z.complete()},Pe=>{var xe;qe=!1,null===(xe=Ce.error)||void 0===xe||xe.call(Ce,Pe),Z.error(Pe)},()=>{var Pe,xe;qe&&(null===(Pe=Ce.unsubscribe)||void 0===Pe||Pe.call(Ce)),null===(xe=Ce.finalize)||void 0===xe||xe.call(Ce)}))}):le.y}},4408:(wt,ue,B)=>{"use strict";B.d(ue,{o:()=>fe});var c=B(727);class R extends c.w0{constructor(he,pe){super()}schedule(he,pe=0){return this}}const L={setInterval(we,he,...pe){const{delegate:Ce}=L;return Ce?.setInterval?Ce.setInterval(we,he,...pe):setInterval(we,he,...pe)},clearInterval(we){const{delegate:he}=L;return(he?.clearInterval||clearInterval)(we)},delegate:void 0};var le=B(8737);class fe extends R{constructor(he,pe){super(he,pe),this.scheduler=he,this.work=pe,this.pending=!1}schedule(he,pe=0){var Ce;if(this.closed)return this;this.state=he;const Y=this.id,Z=this.scheduler;return null!=Y&&(this.id=this.recycleAsyncId(Z,Y,pe)),this.pending=!0,this.delay=pe,this.id=null!==(Ce=this.id)&&void 0!==Ce?Ce:this.requestAsyncId(Z,this.id,pe),this}requestAsyncId(he,pe,Ce=0){return L.setInterval(he.flush.bind(he,this),Ce)}recycleAsyncId(he,pe,Ce=0){if(null!=Ce&&this.delay===Ce&&!1===this.pending)return pe;null!=pe&&L.clearInterval(pe)}execute(he,pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ce=this._execute(he,pe);if(Ce)return Ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(he,pe){let Y,Ce=!1;try{this.work(he)}catch(Z){Ce=!0,Y=Z||new Error("Scheduled action threw falsy error")}if(Ce)return this.unsubscribe(),Y}unsubscribe(){if(!this.closed){const{id:he,scheduler:pe}=this,{actions:Ce}=pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(Ce,this),null!=he&&(this.id=this.recycleAsyncId(pe,he,null)),this.delay=null,super.unsubscribe()}}}},7565:(wt,ue,B)=>{"use strict";B.d(ue,{v:()=>L});var c=B(6063);class R{constructor(fe,we=R.now){this.schedulerActionCtor=fe,this.now=we}schedule(fe,we=0,he){return new this.schedulerActionCtor(this,fe).schedule(he,we)}}R.now=c.l.now;class L extends R{constructor(fe,we=R.now){super(fe,we),this.actions=[],this._active=!1}flush(fe){const{actions:we}=this;if(this._active)return void we.push(fe);let he;this._active=!0;do{if(he=fe.execute(fe.state,fe.delay))break}while(fe=we.shift());if(this._active=!1,he){for(;fe=we.shift();)fe.unsubscribe();throw he}}}},4986:(wt,ue,B)=>{"use strict";B.d(ue,{P:()=>le,z:()=>L});var c=B(4408);const L=new(B(7565).v)(c.o),le=L},6063:(wt,ue,B)=>{"use strict";B.d(ue,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(wt,ue,B)=>{"use strict";B.d(ue,{z:()=>c});const c={setTimeout(R,L,...le){const{delegate:fe}=c;return fe?.setTimeout?fe.setTimeout(R,L,...le):setTimeout(R,L,...le)},clearTimeout(R){const{delegate:L}=c;return(L?.clearTimeout||clearTimeout)(R)},delegate:void 0}},2202:(wt,ue,B)=>{"use strict";B.d(ue,{h:()=>R});const R=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(wt,ue,B)=>{"use strict";B.d(ue,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(wt,ue,B)=>{"use strict";B.d(ue,{_6:()=>we,jO:()=>le,yG:()=>fe});var c=B(576),R=B(3532);function L(he){return he[he.length-1]}function le(he){return(0,c.m)(L(he))?he.pop():void 0}function fe(he){return(0,R.K)(L(he))?he.pop():void 0}function we(he,pe){return"number"==typeof L(he)?he.pop():pe}},8737:(wt,ue,B)=>{"use strict";function c(R,L){if(R){const le=R.indexOf(L);0<=le&&R.splice(le,1)}}B.d(ue,{P:()=>c})},3888:(wt,ue,B)=>{"use strict";function c(R){const le=R(fe=>{Error.call(fe),fe.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}B.d(ue,{d:()=>c})},2806:(wt,ue,B)=>{"use strict";B.d(ue,{O:()=>le,x:()=>L});var c=B(2416);let R=null;function L(fe){if(c.v.useDeprecatedSynchronousErrorHandling){const we=!R;if(we&&(R={errorThrown:!1,error:null}),fe(),we){const{errorThrown:he,error:pe}=R;if(R=null,he)throw pe}}else fe()}function le(fe){c.v.useDeprecatedSynchronousErrorHandling&&R&&(R.errorThrown=!0,R.error=fe)}},9672:(wt,ue,B)=>{"use strict";function c(R,L,le,fe=0,we=!1){const he=L.schedule(function(){le(),we?R.add(this.schedule(null,fe)):this.unsubscribe()},fe);if(R.add(he),!we)return he}B.d(ue,{f:()=>c})},4671:(wt,ue,B)=>{"use strict";function c(R){return R}B.d(ue,{y:()=>c})},1144:(wt,ue,B)=>{"use strict";B.d(ue,{z:()=>c});const c=R=>R&&"number"==typeof R.length&&"function"!=typeof R},2206:(wt,ue,B)=>{"use strict";B.d(ue,{D:()=>R});var c=B(576);function R(L){return Symbol.asyncIterator&&(0,c.m)(L?.[Symbol.asyncIterator])}},576:(wt,ue,B)=>{"use strict";function c(R){return"function"==typeof R}B.d(ue,{m:()=>c})},3670:(wt,ue,B)=>{"use strict";B.d(ue,{c:()=>L});var c=B(8822),R=B(576);function L(le){return(0,R.m)(le[c.L])}},6495:(wt,ue,B)=>{"use strict";B.d(ue,{T:()=>L});var c=B(2202),R=B(576);function L(le){return(0,R.m)(le?.[c.h])}},8239:(wt,ue,B)=>{"use strict";B.d(ue,{t:()=>R});var c=B(576);function R(L){return(0,c.m)(L?.then)}},3260:(wt,ue,B)=>{"use strict";B.d(ue,{L:()=>le,Q:()=>L});var c=B(655),R=B(576);function L(fe){return(0,c.FC)(this,arguments,function*(){const he=fe.getReader();try{for(;;){const{value:pe,done:Ce}=yield(0,c.qq)(he.read());if(Ce)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(pe)}}finally{he.releaseLock()}})}function le(fe){return(0,R.m)(fe?.getReader)}},3532:(wt,ue,B)=>{"use strict";B.d(ue,{K:()=>R});var c=B(576);function R(L){return L&&(0,c.m)(L.schedule)}},4482:(wt,ue,B)=>{"use strict";B.d(ue,{A:()=>R,e:()=>L});var c=B(576);function R(le){return(0,c.m)(le?.lift)}function L(le){return fe=>{if(R(fe))return fe.lift(function(we){try{return le(we,this)}catch(he){this.error(he)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(wt,ue,B)=>{"use strict";function c(){}B.d(ue,{Z:()=>c})},9635:(wt,ue,B)=>{"use strict";B.d(ue,{U:()=>L,z:()=>R});var c=B(4671);function R(...le){return L(le)}function L(le){return 0===le.length?c.y:1===le.length?le[0]:function(we){return le.reduce((he,pe)=>pe(he),we)}}},7849:(wt,ue,B)=>{"use strict";B.d(ue,{h:()=>L});var c=B(2416),R=B(3410);function L(le){R.z.setTimeout(()=>{const{onUnhandledError:fe}=c.v;if(!fe)throw le;fe(le)})}},4532:(wt,ue,B)=>{"use strict";function c(R){return new TypeError(`You provided ${null!==R&&"object"==typeof R?"an invalid object":`'${R}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}B.d(ue,{z:()=>c})},5226:function(wt){wt.exports=function(){"use strict";var ue={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const c=C=>{const E={};for(const M in C)E[C[M]]="swal2-"+C[M];return E},R=c(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),L=c(["success","warning","info","question","error"]),le="SweetAlert2:",we=C=>C.charAt(0).toUpperCase()+C.slice(1),he=C=>{console.warn(`${le} ${"object"==typeof C?C.join(" "):C}`)},pe=C=>{console.error(`${le} ${C}`)},Ce=[],Z=(C,E)=>{(C=>{Ce.includes(C)||(Ce.push(C),he(C))})(`"${C}" is deprecated and will be removed in the next major release. Please use "${E}" instead.`)},te=C=>"function"==typeof C?C():C,qe=C=>C&&"function"==typeof C.toPromise,Pe=C=>qe(C)?C.toPromise():Promise.resolve(C),xe=C=>C&&Promise.resolve(C)===C,Xe=()=>document.body.querySelector(`.${R.container}`),Ie=C=>{const E=Xe();return E?E.querySelector(C):null},me=C=>Ie(`.${C}`),$e=()=>me(R.popup),rt=()=>me(R.icon),Fe=()=>me(R.title),Ae=()=>me(R["html-container"]),et=()=>me(R.image),oe=()=>me(R["progress-steps"]),ge=()=>me(R["validation-message"]),be=()=>Ie(`.${R.actions} .${R.confirm}`),X=()=>Ie(`.${R.actions} .${R.deny}`),ye=()=>Ie(`.${R.loader}`),ae=()=>Ie(`.${R.actions} .${R.cancel}`),je=()=>me(R.actions),We=()=>me(R.footer),vt=()=>me(R["timer-progress-bar"]),ln=()=>me(R.close),tt=()=>{const C=Array.from($e().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((M,W)=>{const Te=parseInt(M.getAttribute("tabindex")),Qe=parseInt(W.getAttribute("tabindex"));return Te>Qe?1:Te<Qe?-1:0}),E=Array.from($e().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(M=>"-1"!==M.getAttribute("tabindex"));return(C=>{const E=[];for(let M=0;M<C.length;M++)-1===E.indexOf(C[M])&&E.push(C[M]);return E})(C.concat(E)).filter(M=>Xt(M))},gn=()=>Rt(document.body,R.shown)&&!Rt(document.body,R["toast-shown"])&&!Rt(document.body,R["no-backdrop"]),mn=()=>$e()&&Rt($e(),R.toast),Jt={previousBodyPadding:null},Ot=(C,E)=>{if(C.textContent="",E){const W=(new DOMParser).parseFromString(E,"text/html");Array.from(W.querySelector("head").childNodes).forEach(Te=>{C.appendChild(Te)}),Array.from(W.querySelector("body").childNodes).forEach(Te=>{Te instanceof HTMLVideoElement||Te instanceof HTMLAudioElement?C.appendChild(Te.cloneNode(!0)):C.appendChild(Te)})}},Rt=(C,E)=>{if(!E)return!1;const M=E.split(/\s+/);for(let W=0;W<M.length;W++)if(!C.classList.contains(M[W]))return!1;return!0},Zn=(C,E,M)=>{if(((C,E)=>{Array.from(C.classList).forEach(M=>{!Object.values(R).includes(M)&&!Object.values(L).includes(M)&&!Object.values(E.showClass).includes(M)&&C.classList.remove(M)})})(C,E),E.customClass&&E.customClass[M]){if("string"!=typeof E.customClass[M]&&!E.customClass[M].forEach)return void he(`Invalid type of customClass.${M}! Expected string or iterable object, got "${typeof E.customClass[M]}"`);zt(C,E.customClass[M])}},Ar=(C,E)=>{if(!E)return null;switch(E){case"select":case"textarea":case"file":return C.querySelector(`.${R.popup} > .${R[E]}`);case"checkbox":return C.querySelector(`.${R.popup} > .${R.checkbox} input`);case"radio":return C.querySelector(`.${R.popup} > .${R.radio} input:checked`)||C.querySelector(`.${R.popup} > .${R.radio} input:first-child`);case"range":return C.querySelector(`.${R.popup} > .${R.range} input`);default:return C.querySelector(`.${R.popup} > .${R.input}`)}},Ln=C=>{if(C.focus(),"file"!==C.type){const E=C.value;C.value="",C.value=E}},Vi=(C,E,M)=>{!C||!E||("string"==typeof E&&(E=E.split(/\s+/).filter(Boolean)),E.forEach(W=>{Array.isArray(C)?C.forEach(Te=>{M?Te.classList.add(W):Te.classList.remove(W)}):M?C.classList.add(W):C.classList.remove(W)}))},zt=(C,E)=>{Vi(C,E,!0)},Vn=(C,E)=>{Vi(C,E,!1)},Dn=(C,E)=>{const M=Array.from(C.children);for(let W=0;W<M.length;W++){const Te=M[W];if(Te instanceof HTMLElement&&Rt(Te,E))return Te}},Nr=(C,E,M)=>{M===`${parseInt(M)}`&&(M=parseInt(M)),M||0===parseInt(M)?C.style[E]="number"==typeof M?`${M}px`:M:C.style.removeProperty(E)},On=function(C){C.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},Ye=C=>{C.style.display="none"},er=(C,E,M,W)=>{const Te=C.querySelector(E);Te&&(Te.style[M]=W)},Bn=function(C,E){E?On(C,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):Ye(C)},Xt=C=>!(!C||!(C.offsetWidth||C.offsetHeight||C.getClientRects().length)),hs=C=>C.scrollHeight>C.clientHeight,An=C=>{const E=window.getComputedStyle(C),M=parseFloat(E.getPropertyValue("animation-duration")||"0"),W=parseFloat(E.getPropertyValue("transition-duration")||"0");return M>0||W>0},Cn=function(C){let E=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const M=vt();Xt(M)&&(E&&(M.style.transition="none",M.style.width="100%"),setTimeout(()=>{M.style.transition=`width ${C/1e3}s linear`,M.style.width="0%"},10))},Ze={},qr=C=>new Promise(E=>{if(!C)return E();const M=window.scrollX,W=window.scrollY;Ze.restoreFocusTimeout=setTimeout(()=>{Ze.previousActiveElement instanceof HTMLElement?(Ze.previousActiveElement.focus(),Ze.previousActiveElement=null):document.body&&document.body.focus(),E()},100),window.scrollTo(M,W)}),tr=()=>typeof window>"u"||typeof document>"u",Pr=`\n <div aria-labelledby="${R.title}" aria-describedby="${R["html-container"]}" class="${R.popup}" tabindex="-1">\n   <button type="button" class="${R.close}"></button>\n   <ul class="${R["progress-steps"]}"></ul>\n   <div class="${R.icon}"></div>\n   <img class="${R.image}" />\n   <h2 class="${R.title}" id="${R.title}"></h2>\n   <div class="${R["html-container"]}" id="${R["html-container"]}"></div>\n   <input class="${R.input}" />\n   <input type="file" class="${R.file}" />\n   <div class="${R.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${R.select}"></select>\n   <div class="${R.radio}"></div>\n   <label for="${R.checkbox}" class="${R.checkbox}">\n     <input type="checkbox" />\n     <span class="${R.label}"></span>\n   </label>\n   <textarea class="${R.textarea}"></textarea>\n   <div class="${R["validation-message"]}" id="${R["validation-message"]}"></div>\n   <div class="${R.actions}">\n     <div class="${R.loader}"></div>\n     <button type="button" class="${R.confirm}"></button>\n     <button type="button" class="${R.deny}"></button>\n     <button type="button" class="${R.cancel}"></button>\n   </div>\n   <div class="${R.footer}"></div>\n   <div class="${R["timer-progress-bar-container"]}">\n     <div class="${R["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),nr=()=>{Ze.currentInstance.resetValidationMessage()},kn=C=>{const E=(()=>{const C=Xe();return!!C&&(C.remove(),Vn([document.documentElement,document.body],[R["no-backdrop"],R["toast-shown"],R["has-column"]]),!0)})();if(tr())return void pe("SweetAlert2 requires document to initialize");const M=document.createElement("div");M.className=R.container,E&&zt(M,R["no-transition"]),Ot(M,Pr);const W=(C=>"string"==typeof C?document.querySelector(C):C)(C.target);W.appendChild(M),(C=>{const E=$e();E.setAttribute("role",C.toast?"alert":"dialog"),E.setAttribute("aria-live",C.toast?"polite":"assertive"),C.toast||E.setAttribute("aria-modal","true")})(C),(C=>{"rtl"===window.getComputedStyle(C).direction&&zt(Xe(),R.rtl)})(W),(()=>{const C=$e(),E=Dn(C,R.input),M=Dn(C,R.file),W=C.querySelector(`.${R.range} input`),Te=C.querySelector(`.${R.range} output`),Qe=Dn(C,R.select),Gn=C.querySelector(`.${R.checkbox} input`),Wn=Dn(C,R.textarea);E.oninput=nr,M.onchange=nr,Qe.onchange=nr,Gn.onchange=nr,Wn.oninput=nr,W.oninput=()=>{nr(),Te.value=W.value},W.onchange=()=>{nr(),Te.value=W.value}})()},lt=(C,E)=>{C instanceof HTMLElement?E.appendChild(C):"object"==typeof C?Oe(C,E):C&&Ot(E,C)},Oe=(C,E)=>{C.jquery?dt(E,C):Ot(E,C.toString())},dt=(C,E)=>{if(C.textContent="",0 in E)for(let M=0;M in E;M++)C.appendChild(E[M].cloneNode(!0));else C.appendChild(E.cloneNode(!0))},Et=(()=>{if(tr())return!1;const C=document.createElement("div"),E={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const M in E)if(Object.prototype.hasOwnProperty.call(E,M)&&typeof C.style[M]<"u")return E[M];return!1})(),on=(C,E)=>{const M=je(),W=ye();E.showConfirmButton||E.showDenyButton||E.showCancelButton?On(M):Ye(M),Zn(M,E,"actions"),function K(C,E,M){const W=be(),Te=X(),Qe=ae();J(W,"confirm",M),J(Te,"deny",M),J(Qe,"cancel",M),function z(C,E,M,W){W.buttonsStyling?(zt([C,E,M],R.styled),W.confirmButtonColor&&(C.style.backgroundColor=W.confirmButtonColor,zt(C,R["default-outline"])),W.denyButtonColor&&(E.style.backgroundColor=W.denyButtonColor,zt(E,R["default-outline"])),W.cancelButtonColor&&(M.style.backgroundColor=W.cancelButtonColor,zt(M,R["default-outline"]))):Vn([C,E,M],R.styled)}(W,Te,Qe,M),M.reverseButtons&&(M.toast?(C.insertBefore(Qe,W),C.insertBefore(Te,W)):(C.insertBefore(Qe,E),C.insertBefore(Te,E),C.insertBefore(W,E)))}(M,W,E),Ot(W,E.loaderHtml),Zn(W,E,"loader")};function J(C,E,M){Bn(C,M[`show${we(E)}Button`],"inline-block"),Ot(C,M[`${E}ButtonText`]),C.setAttribute("aria-label",M[`${E}ButtonAriaLabel`]),C.className=R[E],Zn(C,M,`${E}Button`),zt(C,M[`${E}ButtonClass`])}const F=(C,E)=>{const M=Xe();!M||(function $(C,E){"string"==typeof E?C.style.background=E:E||zt([document.documentElement,document.body],R["no-backdrop"])}(M,E.backdrop),function se(C,E){E in R?zt(C,R[E]):(he('The "position" parameter is not valid, defaulting to "center"'),zt(C,R.center))}(M,E.position),function Ve(C,E){if(E&&"string"==typeof E){const M=`grow-${E}`;M in R&&zt(C,R[M])}}(M,E.grow),Zn(M,E,"container"))};const ht=["input","file","range","select","radio","checkbox","textarea"],Re=C=>{if(!rr[C.input])return void pe(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${C.input}"`);const E=Bi(C.input),M=rr[C.input](E,C);On(E),setTimeout(()=>{Ln(M)})},Vt=(C,E)=>{const M=Ar($e(),C);if(M){(C=>{for(let E=0;E<C.attributes.length;E++){const M=C.attributes[E].name;["type","value","style"].includes(M)||C.removeAttribute(M)}})(M);for(const W in E)M.setAttribute(W,E[W])}},_n=C=>{const E=Bi(C.input);"object"==typeof C.customClass&&zt(E,C.customClass.input)},Bt=(C,E)=>{(!C.placeholder||E.inputPlaceholder)&&(C.placeholder=E.inputPlaceholder)},hn=(C,E,M)=>{if(M.inputLabel){C.id=R.input;const W=document.createElement("label"),Te=R["input-label"];W.setAttribute("for",C.id),W.className=Te,"object"==typeof M.customClass&&zt(W,M.customClass.inputLabel),W.innerText=M.inputLabel,E.insertAdjacentElement("beforebegin",W)}},Bi=C=>Dn($e(),R[C]||R.input),yn=(C,E)=>{["string","number"].includes(typeof E)?C.value=`${E}`:xe(E)||he(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof E}"`)},rr={};rr.text=rr.email=rr.password=rr.number=rr.tel=rr.url=(C,E)=>(yn(C,E.inputValue),hn(C,C,E),Bt(C,E),C.type=E.input,C),rr.file=(C,E)=>(hn(C,C,E),Bt(C,E),C),rr.range=(C,E)=>{const M=C.querySelector("input"),W=C.querySelector("output");return yn(M,E.inputValue),M.type=E.input,yn(W,E.inputValue),hn(M,C,E),C},rr.select=(C,E)=>{if(C.textContent="",E.inputPlaceholder){const M=document.createElement("option");Ot(M,E.inputPlaceholder),M.value="",M.disabled=!0,M.selected=!0,C.appendChild(M)}return hn(C,C,E),C},rr.radio=C=>(C.textContent="",C),rr.checkbox=(C,E)=>{const M=Ar($e(),"checkbox");M.value="1",M.id=R.checkbox,M.checked=Boolean(E.inputValue);const W=C.querySelector("span");return Ot(W,E.inputPlaceholder),M},rr.textarea=(C,E)=>{yn(C,E.inputValue),Bt(C,E),hn(C,C,E);return setTimeout(()=>{if("MutationObserver"in window){const W=parseInt(window.getComputedStyle($e()).width);new MutationObserver(()=>{const Qe=C.offsetWidth+(W=>parseInt(window.getComputedStyle(W).marginLeft)+parseInt(window.getComputedStyle(W).marginRight))(C);$e().style.width=Qe>W?`${Qe}px`:null}).observe(C,{attributes:!0,attributeFilter:["style"]})}}),C};const lo=(C,E)=>{const M=Ae();Zn(M,E,"htmlContainer"),E.html?(lt(E.html,M),On(M,"block")):E.text?(M.textContent=E.text,On(M,"block")):Ye(M),((C,E)=>{const M=$e(),W=ue.innerParams.get(C),Te=!W||E.input!==W.input;ht.forEach(Qe=>{const Gn=Dn(M,R[Qe]);Vt(Qe,E.inputAttributes),Gn.className=R[Qe],Te&&Ye(Gn)}),E.input&&(Te&&Re(E),_n(E))})(C,E)},fs=(C,E)=>{for(const M in L)E.icon!==M&&Vn(C,L[M]);zt(C,L[E.icon]),Zr(C,E),ha(),Zn(C,E,"icon")},ha=()=>{const C=$e(),E=window.getComputedStyle(C).getPropertyValue("background-color"),M=C.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let W=0;W<M.length;W++)M[W].style.backgroundColor=E},ps=(C,E)=>{let W,M=C.innerHTML;E.iconHtml?W=Kr(E.iconHtml):"success"===E.icon?(W='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',M=M.replace(/ style=".*?"/g,"")):W="error"===E.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':Kr({question:"?",warning:"!",info:"i"}[E.icon]),M.trim()!==W.trim()&&Ot(C,W)},Zr=(C,E)=>{if(E.iconColor){C.style.color=E.iconColor,C.style.borderColor=E.iconColor;for(const M of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])er(C,M,"backgroundColor",E.iconColor);er(C,".swal2-success-ring","borderColor",E.iconColor)}},Kr=C=>`<div class="${R["icon-content"]}">${C}</div>`,vn=(C,E)=>{C.className=`${R.popup} ${Xt(C)?E.showClass.popup:""}`,E.toast?(zt([document.documentElement,document.body],R["toast-shown"]),zt(C,R.toast)):zt(C,R.modal),Zn(C,E,"popup"),"string"==typeof E.customClass&&zt(C,E.customClass),E.icon&&zt(C,R[`icon-${E.icon}`])},ko=C=>{const E=document.createElement("li");return zt(E,R["progress-step"]),Ot(E,C),E},Po=C=>{const E=document.createElement("li");return zt(E,R["progress-step-line"]),C.progressStepsDistance&&Nr(E,"width",C.progressStepsDistance),E},Fr=(C,E)=>{((C,E)=>{const M=Xe(),W=$e();E.toast?(Nr(M,"width",E.width),W.style.width="100%",W.insertBefore(ye(),rt())):Nr(W,"width",E.width),Nr(W,"padding",E.padding),E.color&&(W.style.color=E.color),E.background&&(W.style.background=E.background),Ye(ge()),vn(W,E)})(0,E),F(0,E),((C,E)=>{const M=oe();E.progressSteps&&0!==E.progressSteps.length?(On(M),M.textContent="",E.currentProgressStep>=E.progressSteps.length&&he("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),E.progressSteps.forEach((W,Te)=>{const Qe=ko(W);if(M.appendChild(Qe),Te===E.currentProgressStep&&zt(Qe,R["active-progress-step"]),Te!==E.progressSteps.length-1){const Gn=Po(E);M.appendChild(Gn)}})):Ye(M)})(0,E),((C,E)=>{const M=ue.innerParams.get(C),W=rt();M&&E.icon===M.icon?(ps(W,E),fs(W,E)):E.icon||E.iconHtml?E.icon&&-1===Object.keys(L).indexOf(E.icon)?(pe(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${E.icon}"`),Ye(W)):(On(W),ps(W,E),fs(W,E),zt(W,E.showClass.icon)):Ye(W)})(C,E),((C,E)=>{const M=et();E.imageUrl?(On(M,""),M.setAttribute("src",E.imageUrl),M.setAttribute("alt",E.imageAlt),Nr(M,"width",E.imageWidth),Nr(M,"height",E.imageHeight),M.className=R.image,Zn(M,E,"image")):Ye(M)})(0,E),((C,E)=>{const M=Fe();Bn(M,E.title||E.titleText,"block"),E.title&&lt(E.title,M),E.titleText&&(M.innerText=E.titleText),Zn(M,E,"title")})(0,E),((C,E)=>{const M=ln();Ot(M,E.closeButtonHtml),Zn(M,E,"closeButton"),Bn(M,E.showCloseButton),M.setAttribute("aria-label",E.closeButtonAriaLabel)})(0,E),lo(C,E),on(0,E),((C,E)=>{const M=We();Bn(M,E.footer),E.footer&&lt(E.footer,M),Zn(M,E,"footer")})(0,E),"function"==typeof E.didRender&&E.didRender($e())};function gs(){const C=ue.innerParams.get(this);if(!C)return;const E=ue.domCache.get(this);Ye(E.loader),mn()?C.icon&&On(rt()):es(E),Vn([E.popup,E.actions],R.loading),E.popup.removeAttribute("aria-busy"),E.popup.removeAttribute("data-loading"),E.confirmButton.disabled=!1,E.denyButton.disabled=!1,E.cancelButton.disabled=!1}const es=C=>{const E=C.popup.getElementsByClassName(C.loader.getAttribute("data-button-to-replace"));E.length?On(E[0],"inline-block"):!Xt(be())&&!Xt(X())&&!Xt(ae())&&Ye(C.actions)};const or=()=>be()&&be().click(),ms=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),uo=C=>{C.keydownTarget&&C.keydownHandlerAdded&&(C.keydownTarget.removeEventListener("keydown",C.keydownHandler,{capture:C.keydownListenerCapture}),C.keydownHandlerAdded=!1)},Fo=(C,E,M)=>{const W=tt();if(W.length)return(E+=M)===W.length?E=0:-1===E&&(E=W.length-1),W[E].focus();$e().focus()},ou=["ArrowRight","ArrowDown"],sl=["ArrowLeft","ArrowUp"],ts=(C,E,M)=>{const W=ue.innerParams.get(C);!W||E.isComposing||229===E.keyCode||(W.stopKeydownPropagation&&E.stopPropagation(),"Enter"===E.key?Ls(C,E,W):"Tab"===E.key?pi(E,W):[...ou,...sl].includes(E.key)?yd(E.key):"Escape"===E.key&&ns(E,W,M))},Ls=(C,E,M)=>{if(te(M.allowEnterKey)&&E.target&&C.getInput()&&E.target instanceof HTMLElement&&E.target.outerHTML===C.getInput().outerHTML){if(["textarea","file"].includes(M.input))return;or(),E.preventDefault()}},pi=(C,E)=>{const M=C.target,W=tt();let Te=-1;for(let Qe=0;Qe<W.length;Qe++)if(M===W[Qe]){Te=Qe;break}Fo(0,Te,C.shiftKey?-1:1),C.stopPropagation(),C.preventDefault()},yd=C=>{const E=be(),M=X(),W=ae();if(document.activeElement instanceof HTMLElement&&![E,M,W].includes(document.activeElement))return;const Te=ou.includes(C)?"nextElementSibling":"previousElementSibling";let Qe=document.activeElement;for(let Gn=0;Gn<je().children.length;Gn++){if(Qe=Qe[Te],!Qe)return;if(Qe instanceof HTMLButtonElement&&Xt(Qe))break}Qe instanceof HTMLButtonElement&&Qe.focus()},ns=(C,E,M)=>{te(E.allowEscapeKey)&&(C.preventDefault(),M(ms.esc))};var fa={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const au=()=>{Array.from(document.body.children).forEach(E=>{E.hasAttribute("data-previous-aria-hidden")?(E.setAttribute("aria-hidden",E.getAttribute("data-previous-aria-hidden")),E.removeAttribute("data-previous-aria-hidden")):E.removeAttribute("aria-hidden")})},ho=()=>{const C=navigator.userAgent,E=!!C.match(/iPad/i)||!!C.match(/iPhone/i),M=!!C.match(/WebKit/i);E&&M&&!C.match(/CriOS/i)&&$e().scrollHeight>window.innerHeight-44&&(Xe().style.paddingBottom="44px")},Yl=()=>{const C=Xe();let E;C.ontouchstart=M=>{E=vd(M)},C.ontouchmove=M=>{E&&(M.preventDefault(),M.stopPropagation())}},vd=C=>{const E=C.target,M=Xe();return!bd(C)&&!Ql(C)&&(E===M||!hs(M)&&E instanceof HTMLElement&&"INPUT"!==E.tagName&&"TEXTAREA"!==E.tagName&&!(hs(Ae())&&Ae().contains(E)))},bd=C=>C.touches&&C.touches.length&&"stylus"===C.touches[0].touchType,Ql=C=>C.touches&&C.touches.length>1,Jl=()=>{null===Jt.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(Jt.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Jt.previousBodyPadding+(()=>{const C=document.createElement("div");C.className=R["scrollbar-measure"],document.body.appendChild(C);const E=C.getBoundingClientRect().width-C.clientWidth;return document.body.removeChild(C),E})()}px`)};function Vs(C,E,M,W){mn()?Us(C,W):(qr(M).then(()=>Us(C,W)),uo(Ze)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(E.setAttribute("style","display:none !important"),E.removeAttribute("class"),E.innerHTML=""):E.remove(),gn()&&(null!==Jt.previousBodyPadding&&(document.body.style.paddingRight=`${Jt.previousBodyPadding}px`,Jt.previousBodyPadding=null),(()=>{if(Rt(document.body,R.iosfix)){const C=parseInt(document.body.style.top,10);Vn(document.body,R.iosfix),document.body.style.top="",document.body.scrollTop=-1*C}})(),au()),function af(){Vn([document.documentElement,document.body],[R.shown,R["height-auto"],R["no-backdrop"],R["toast-shown"]])}()}function Bs(C){C=pa(C);const E=fa.swalPromiseResolve.get(this),M=po(this);this.isAwaitingPromise()?C.isDismissed||(go(this),E(C)):M&&E(C)}const po=C=>{const E=$e();if(!E)return!1;const M=ue.innerParams.get(C);if(!M||Rt(E,M.hideClass.popup))return!1;Vn(E,M.showClass.popup),zt(E,M.hideClass.popup);const W=Xe();return Vn(W,M.showClass.backdrop),zt(W,M.hideClass.backdrop),ol(C,E,M),!0};const go=C=>{C.isAwaitingPromise()&&(ue.awaitingPromise.delete(C),ue.innerParams.get(C)||C._destroy())},pa=C=>typeof C>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},C),ol=(C,E,M)=>{const W=Xe(),Te=Et&&An(E);"function"==typeof M.willClose&&M.willClose(E),Te?ec(C,E,W,M.returnFocus,M.didClose):Vs(C,W,M.returnFocus,M.didClose)},ec=(C,E,M,W,Te)=>{Ze.swalCloseEventFinishedCallback=Vs.bind(null,C,M,W,Te),E.addEventListener(Et,function(Qe){Qe.target===E&&(Ze.swalCloseEventFinishedCallback(),delete Ze.swalCloseEventFinishedCallback)})},Us=(C,E)=>{setTimeout(()=>{"function"==typeof E&&E.bind(C.params)(),C._destroy()})};function Qr(C,E,M){const W=ue.domCache.get(C);E.forEach(Te=>{W[Te].disabled=M})}function Jr(C,E){if(C)if("radio"===C.type){const W=C.parentNode.parentNode.querySelectorAll("input");for(let Te=0;Te<W.length;Te++)W[Te].disabled=E}else C.disabled=E}const In={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},tc=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],lu={},Si=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],br=C=>Object.prototype.hasOwnProperty.call(In,C),Vo=C=>-1!==tc.indexOf(C),ys=C=>lu[C],Ui=C=>{br(C)||he(`Unknown parameter "${C}"`)},fn=C=>{Si.includes(C)&&he(`The parameter "${C}" is incompatible with toasts`)},ll=C=>{ys(C)&&Z(C,ys(C))};const mi=C=>{const E={};return Object.keys(C).forEach(M=>{Vo(M)?E[M]=C[M]:he(`Invalid parameter to update: ${M}`)}),E};const Kn=C=>{Ut(C),delete C.params,delete Ze.keydownHandler,delete Ze.keydownTarget,delete Ze.currentInstance},Ut=C=>{C.isAwaitingPromise()?($s(ue,C),ue.awaitingPromise.set(C,!0)):($s(fa,C),$s(ue,C))},$s=(C,E)=>{for(const M in C)C[M].delete(E)};var cu=Object.freeze({__proto__:null,hideLoading:gs,disableLoading:gs,getInput:function Un(C){const E=ue.innerParams.get(C||this),M=ue.domCache.get(C||this);return M?Ar(M.popup,E.input):null},close:Bs,isAwaitingPromise:function xr(){return!!ue.awaitingPromise.get(this)},rejectPromise:function _s(C){const E=fa.swalPromiseReject.get(this);go(this),E&&E(C)},handleAwaitingPromise:go,closePopup:Bs,closeModal:Bs,closeToast:Bs,enableButtons:function rs(){Qr(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function Xr(){Qr(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function js(){Jr(this.getInput(),!1)},disableInput:function gi(){Jr(this.getInput(),!0)},showValidationMessage:function mo(C){const E=ue.domCache.get(this),M=ue.innerParams.get(this);Ot(E.validationMessage,C),E.validationMessage.className=R["validation-message"],M.customClass&&M.customClass.validationMessage&&zt(E.validationMessage,M.customClass.validationMessage),On(E.validationMessage);const W=this.getInput();W&&(W.setAttribute("aria-invalid",!0),W.setAttribute("aria-describedby",R["validation-message"]),Ln(W),zt(W,R.inputerror))},resetValidationMessage:function wd(){const C=ue.domCache.get(this);C.validationMessage&&Ye(C.validationMessage);const E=this.getInput();E&&(E.removeAttribute("aria-invalid"),E.removeAttribute("aria-describedby"),Vn(E,R.inputerror))},getProgressSteps:function al(){return ue.domCache.get(this).progressSteps},update:function cl(C){const E=$e(),M=ue.innerParams.get(this);if(!E||Rt(E,M.hideClass.popup))return he("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const W=mi(C),Te=Object.assign({},M,W);Fr(this,Te),ue.innerParams.set(this,Te),Object.defineProperties(this,{params:{value:Object.assign({},this.params,C),writable:!1,enumerable:!0}})},_destroy:function Bo(){const C=ue.domCache.get(this),E=ue.innerParams.get(this);E?(C.popup&&Ze.swalCloseEventFinishedCallback&&(Ze.swalCloseEventFinishedCallback(),delete Ze.swalCloseEventFinishedCallback),"function"==typeof E.didDestroy&&E.didDestroy(),Kn(this)):Ut(this)}});const ji=C=>{let E=$e();E||new wa,E=$e();const M=ye();mn()?Ye(rt()):nc(E,C),On(M),E.setAttribute("data-loading","true"),E.setAttribute("aria-busy","true"),E.focus()},nc=(C,E)=>{const M=je(),W=ye();!E&&Xt(be())&&(E=be()),On(M),E&&(Ye(E),W.setAttribute("data-button-to-replace",E.className)),W.parentNode.insertBefore(W,E),zt([C,M],R.loading)},jo=C=>C.checked?1:0,_o=C=>C.checked?C.value:null,Le=C=>C.files.length?null!==C.getAttribute("multiple")?C.files:C.files[0]:null,rn=(C,E)=>{const M=$e(),W=Te=>{yo[E.input](M,Yn(Te),E)};qe(E.inputOptions)||xe(E.inputOptions)?(ji(be()),Pe(E.inputOptions).then(Te=>{C.hideLoading(),W(Te)})):"object"==typeof E.inputOptions?W(E.inputOptions):pe("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof E.inputOptions)},uu=(C,E)=>{const M=C.getInput();Ye(M),Pe(E.inputValue).then(W=>{M.value="number"===E.input?`${parseFloat(W)||0}`:`${W}`,On(M),M.focus(),C.hideLoading()}).catch(W=>{pe(`Error in inputValue promise: ${W}`),M.value="",On(M),M.focus(),C.hideLoading()})},yo={select:(C,E,M)=>{const W=Dn(C,R.select),Te=(Qe,Gn,Wn)=>{const Mr=document.createElement("option");Mr.value=Wn,Ot(Mr,Gn),Mr.selected=Gs(Wn,M.inputValue),Qe.appendChild(Mr)};E.forEach(Qe=>{const Gn=Qe[0],Wn=Qe[1];if(Array.isArray(Wn)){const Mr=document.createElement("optgroup");Mr.label=Gn,Mr.disabled=!1,W.appendChild(Mr),Wn.forEach($r=>Te(Mr,$r[1],$r[0]))}else Te(W,Wn,Gn)}),W.focus()},radio:(C,E,M)=>{const W=Dn(C,R.radio);E.forEach(Qe=>{const Gn=Qe[0],Wn=Qe[1],Mr=document.createElement("input"),$r=document.createElement("label");Mr.type="radio",Mr.name=R.radio,Mr.value=Gn,Gs(Gn,M.inputValue)&&(Mr.checked=!0);const Ko=document.createElement("span");Ot(Ko,Wn),Ko.className=R.label,$r.appendChild(Mr),$r.appendChild(Ko),W.appendChild($r)});const Te=W.querySelectorAll("input");Te.length&&Te[0].focus()}},Yn=C=>{const E=[];return typeof Map<"u"&&C instanceof Map?C.forEach((M,W)=>{let Te=M;"object"==typeof Te&&(Te=Yn(Te)),E.push([W,Te])}):Object.keys(C).forEach(M=>{let W=C[M];"object"==typeof W&&(W=Yn(W)),E.push([M,W])}),E},Gs=(C,E)=>E&&E.toString()===C.toString(),Ws=(C,E)=>{const M=ue.innerParams.get(C);if(!M.input)return void pe(`The "input" parameter is needed to be set when using returnInputValueOn${we(E)}`);const W=((C,E)=>{const M=C.getInput();if(!M)return null;switch(E.input){case"checkbox":return jo(M);case"radio":return _o(M);case"file":return Le(M);default:return E.inputAutoTrim?M.value.trim():M.value}})(C,M);M.inputValidator?du(C,W,E):C.getInput().checkValidity()?"deny"===E?zs(C,W):Qn(C,W):(C.enableButtons(),C.showValidationMessage(M.validationMessage))},du=(C,E,M)=>{const W=ue.innerParams.get(C);C.disableInput(),Promise.resolve().then(()=>Pe(W.inputValidator(E,W.validationMessage))).then(Qe=>{C.enableButtons(),C.enableInput(),Qe?C.showValidationMessage(Qe):"deny"===M?zs(C,E):Qn(C,E)})},zs=(C,E)=>{const M=ue.innerParams.get(C||void 0);M.showLoaderOnDeny&&ji(X()),M.preDeny?(ue.awaitingPromise.set(C||void 0,!0),Promise.resolve().then(()=>Pe(M.preDeny(E,M.validationMessage))).then(Te=>{!1===Te?(C.hideLoading(),go(C)):C.close({isDenied:!0,value:typeof Te>"u"?E:Te})}).catch(Te=>bs(C||void 0,Te))):C.close({isDenied:!0,value:E})},hu=(C,E)=>{C.close({isConfirmed:!0,value:E})},bs=(C,E)=>{C.rejectPromise(E)},Qn=(C,E)=>{const M=ue.innerParams.get(C||void 0);M.showLoaderOnConfirm&&ji(),M.preConfirm?(C.resetValidationMessage(),ue.awaitingPromise.set(C||void 0,!0),Promise.resolve().then(()=>Pe(M.preConfirm(E,M.validationMessage))).then(Te=>{Xt(ge())||!1===Te?(C.hideLoading(),go(C)):hu(C,typeof Te>"u"?E:Te)}).catch(Te=>bs(C||void 0,Te))):hu(C,E)},$o=(C,E,M)=>{E.popup.onclick=()=>{const W=ue.innerParams.get(C);W&&(Ho(W)||W.timer||W.input)||M(ms.close)}},Ho=C=>C.showConfirmButton||C.showDenyButton||C.showCancelButton||C.showCloseButton;let _i=!1;const rc=C=>{C.popup.onmousedown=()=>{C.container.onmouseup=function(E){C.container.onmouseup=void 0,E.target===C.container&&(_i=!0)}}},ul=C=>{C.container.onmousedown=()=>{C.popup.onmouseup=function(E){C.popup.onmouseup=void 0,(E.target===C.popup||C.popup.contains(E.target))&&(_i=!0)}}},ic=(C,E,M)=>{E.container.onclick=W=>{const Te=ue.innerParams.get(C);_i?_i=!1:W.target===E.container&&te(Te.allowOutsideClick)&&M(ms.backdrop)}},qs=C=>C instanceof Element||(C=>"object"==typeof C&&C.jquery)(C);const fl=()=>{if(Ze.timeout)return(()=>{const C=vt(),E=parseInt(window.getComputedStyle(C).width);C.style.removeProperty("transition"),C.style.width="100%";const W=E/parseInt(window.getComputedStyle(C).width)*100;C.style.removeProperty("transition"),C.style.width=`${W}%`})(),Ze.timeout.stop()},Zs=()=>{if(Ze.timeout){const C=Ze.timeout.start();return Cn(C),C}};let pl=!1;const Hi={};const sc=C=>{for(let E=C.target;E&&E!==document;E=E.parentNode)for(const M in Hi){const W=E.getAttribute(M);if(W)return void Hi[M].fire({template:W})}};var jn=Object.freeze({__proto__:null,isValidParameter:br,isUpdatableParameter:Vo,isDeprecatedParameter:ys,argsToParams:C=>{const E={};return"object"!=typeof C[0]||qs(C[0])?["title","html","icon"].forEach((M,W)=>{const Te=C[W];"string"==typeof Te||qs(Te)?E[M]=Te:void 0!==Te&&pe(`Unexpected type of ${M}! Expected "string" or "Element", got ${typeof Te}`)}):Object.assign(E,C[0]),E},getContainer:Xe,getPopup:$e,getTitle:Fe,getHtmlContainer:Ae,getImage:et,getIcon:rt,getIconContent:()=>me(R["icon-content"]),getInputLabel:()=>me(R["input-label"]),getCloseButton:ln,getActions:je,getConfirmButton:be,getDenyButton:X,getCancelButton:ae,getLoader:ye,getFooter:We,getTimerProgressBar:vt,getFocusableElements:tt,getValidationMessage:ge,isLoading:()=>$e().hasAttribute("data-loading"),isVisible:()=>Xt($e()),clickConfirm:or,clickDeny:()=>X()&&X().click(),clickCancel:()=>ae()&&ae().click(),fire:function Go(){const C=this;for(var E=arguments.length,M=new Array(E),W=0;W<E;W++)M[W]=arguments[W];return new C(...M)},mixin:function hl(C){return class E extends(this){_main(W,Te){return super._main(W,Object.assign({},C,Te))}}},showLoading:ji,enableLoading:ji,getTimerLeft:()=>Ze.timeout&&Ze.timeout.getTimerLeft(),stopTimer:fl,resumeTimer:Zs,toggleTimer:()=>{const C=Ze.timeout;return C&&(C.running?fl():Zs())},increaseTimer:C=>{if(Ze.timeout){const E=Ze.timeout.increase(C);return Cn(E,!0),E}},isTimerRunning:()=>Ze.timeout&&Ze.timeout.isRunning(),bindClickHandler:function ws(){Hi[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,pl||(document.body.addEventListener("click",sc),pl=!0)}});class is{constructor(E,M){this.callback=E,this.remaining=M,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(E){const M=this.running;return M&&this.stop(),this.remaining+=E,M&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Pn=["swal-title","swal-html","swal-footer"],gl=C=>{const E={};return Array.from(C.querySelectorAll("swal-param")).forEach(W=>{Ds(W,["name","value"]);const Te=W.getAttribute("name"),Qe=W.getAttribute("value");E[Te]="boolean"==typeof In[Te]?"false"!==Qe:"object"==typeof In[Te]?JSON.parse(Qe):Qe}),E},mu=C=>{const E={};return Array.from(C.querySelectorAll("swal-function-param")).forEach(W=>{const Te=W.getAttribute("name"),Qe=W.getAttribute("value");E[Te]=new Function(`return ${Qe}`)()}),E},ml=C=>{const E={};return Array.from(C.querySelectorAll("swal-button")).forEach(W=>{Ds(W,["type","color","aria-label"]);const Te=W.getAttribute("type");E[`${Te}ButtonText`]=W.innerHTML,E[`show${we(Te)}Button`]=!0,W.hasAttribute("color")&&(E[`${Te}ButtonColor`]=W.getAttribute("color")),W.hasAttribute("aria-label")&&(E[`${Te}ButtonAriaLabel`]=W.getAttribute("aria-label"))}),E},_l=C=>{const E={},M=C.querySelector("swal-image");return M&&(Ds(M,["src","width","height","alt"]),M.hasAttribute("src")&&(E.imageUrl=M.getAttribute("src")),M.hasAttribute("width")&&(E.imageWidth=M.getAttribute("width")),M.hasAttribute("height")&&(E.imageHeight=M.getAttribute("height")),M.hasAttribute("alt")&&(E.imageAlt=M.getAttribute("alt"))),E},yl=C=>{const E={},M=C.querySelector("swal-icon");return M&&(Ds(M,["type","color"]),M.hasAttribute("type")&&(E.icon=M.getAttribute("type")),M.hasAttribute("color")&&(E.iconColor=M.getAttribute("color")),E.iconHtml=M.innerHTML),E},_a=C=>{const E={},M=C.querySelector("swal-input");M&&(Ds(M,["type","label","placeholder","value"]),E.input=M.getAttribute("type")||"text",M.hasAttribute("label")&&(E.inputLabel=M.getAttribute("label")),M.hasAttribute("placeholder")&&(E.inputPlaceholder=M.getAttribute("placeholder")),M.hasAttribute("value")&&(E.inputValue=M.getAttribute("value")));const W=Array.from(C.querySelectorAll("swal-input-option"));return W.length&&(E.inputOptions={},W.forEach(Te=>{Ds(Te,["value"]);const Qe=Te.getAttribute("value");E.inputOptions[Qe]=Te.innerHTML})),E},vo=(C,E)=>{const M={};for(const W in E){const Te=E[W],Qe=C.querySelector(Te);Qe&&(Ds(Qe,[]),M[Te.replace(/^swal-/,"")]=Qe.innerHTML.trim())}return M},bo=C=>{const E=Pn.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(C.children).forEach(M=>{const W=M.tagName.toLowerCase();E.includes(W)||he(`Unrecognized element <${W}>`)})},Ds=(C,E)=>{Array.from(C.attributes).forEach(M=>{-1===E.indexOf(M.name)&&he([`Unrecognized attribute "${M.name}" on <${C.tagName.toLowerCase()}>.`,E.length?`Allowed attributes are: ${E.join(", ")}`:"To set the value, use HTML within the element."])})},ac=C=>{const E=Xe(),M=$e();"function"==typeof C.willOpen&&C.willOpen(M);const Te=window.getComputedStyle(document.body).overflowY;lc(E,M,C),setTimeout(()=>{vi(E,M)},10),gn()&&(vl(E,C.scrollbarPadding,Te),Array.from(document.body.children).forEach(E=>{E===Xe()||E.contains(Xe())||(E.hasAttribute("aria-hidden")&&E.setAttribute("data-previous-aria-hidden",E.getAttribute("aria-hidden")),E.setAttribute("aria-hidden","true"))})),!mn()&&!Ze.previousActiveElement&&(Ze.previousActiveElement=document.activeElement),"function"==typeof C.didOpen&&setTimeout(()=>C.didOpen(M)),Vn(E,R["no-transition"])},yi=C=>{const E=$e();if(C.target!==E)return;const M=Xe();E.removeEventListener(Et,yi),M.style.overflowY="auto"},vi=(C,E)=>{Et&&An(E)?(C.style.overflowY="hidden",E.addEventListener(Et,yi)):C.style.overflowY="auto"},vl=(C,E,M)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!Rt(document.body,R.iosfix)){const E=document.body.scrollTop;document.body.style.top=-1*E+"px",zt(document.body,R.iosfix),Yl(),ho()}})(),E&&"hidden"!==M&&Jl(),setTimeout(()=>{C.scrollTop=0})},lc=(C,E,M)=>{zt(C,M.showClass.backdrop),E.style.setProperty("opacity","0","important"),On(E,"grid"),setTimeout(()=>{zt(E,M.showClass.popup),E.style.removeProperty("opacity")},10),zt([document.documentElement,document.body],R.shown),M.heightAuto&&M.backdrop&&!M.toast&&zt([document.documentElement,document.body],R["height-auto"])};var Hn={email:(C,E)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(C)?Promise.resolve():Promise.resolve(E||"Invalid email address"),url:(C,E)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(C)?Promise.resolve():Promise.resolve(E||"Invalid URL")};function ba(C){(function ya(C){C.inputValidator||Object.keys(Hn).forEach(E=>{C.input===E&&(C.inputValidator=Hn[E])})})(C),C.showLoaderOnConfirm&&!C.preConfirm&&he("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function va(C){(!C.target||"string"==typeof C.target&&!document.querySelector(C.target)||"string"!=typeof C.target&&!C.target.appendChild)&&(he('Target parameter is not valid, defaulting to "body"'),C.target="body")}(C),"string"==typeof C.title&&(C.title=C.title.split("\n").join("<br />")),kn(C)}let Gi;class ss{constructor(){if(typeof window>"u")return;Gi=this;for(var E=arguments.length,M=new Array(E),W=0;W<E;W++)M[W]=arguments[W];const Te=Object.freeze(this.constructor.argsToParams(M));Object.defineProperties(this,{params:{value:Te,writable:!1,enumerable:!0,configurable:!0}});const Qe=Gi._main(Gi.params);ue.promise.set(this,Qe)}_main(E){let M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(C=>{!1===C.backdrop&&C.allowOutsideClick&&he('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const E in C)Ui(E),C.toast&&fn(E),ll(E)})(Object.assign({},M,E)),Ze.currentInstance&&(Ze.currentInstance._destroy(),gn()&&au()),Ze.currentInstance=Gi;const W=qo(E,M);ba(W),Object.freeze(W),Ze.timeout&&(Ze.timeout.stop(),delete Ze.timeout),clearTimeout(Ze.restoreFocusTimeout);const Te=bl(Gi);return Fr(Gi,W),ue.innerParams.set(Gi,W),os(Gi,Te,W)}then(E){return ue.promise.get(this).then(E)}finally(E){return ue.promise.get(this).finally(E)}}const os=(C,E,M)=>new Promise((W,Te)=>{const Qe=Gn=>{C.close({isDismissed:!0,dismiss:Gn})};fa.swalPromiseResolve.set(C,W),fa.swalPromiseReject.set(C,Te),E.confirmButton.onclick=()=>{(C=>{const E=ue.innerParams.get(C);C.disableButtons(),E.input?Ws(C,"confirm"):Qn(C,!0)})(C)},E.denyButton.onclick=()=>{(C=>{const E=ue.innerParams.get(C);C.disableButtons(),E.returnInputValueOnDeny?Ws(C,"deny"):zs(C,!1)})(C)},E.cancelButton.onclick=()=>{((C,E)=>{C.disableButtons(),E(ms.cancel)})(C,Qe)},E.closeButton.onclick=()=>{Qe(ms.close)},((C,E,M)=>{ue.innerParams.get(C).toast?$o(C,E,M):(rc(E),ul(E),ic(C,E,M))})(C,E,Qe),((C,E,M,W)=>{uo(E),M.toast||(E.keydownHandler=Te=>ts(C,Te,W),E.keydownTarget=M.keydownListenerCapture?window:$e(),E.keydownListenerCapture=M.keydownListenerCapture,E.keydownTarget.addEventListener("keydown",E.keydownHandler,{capture:E.keydownListenerCapture}),E.keydownHandlerAdded=!0)})(C,Ze,M,Qe),((C,E)=>{"select"===E.input||"radio"===E.input?rn(C,E):["text","email","number","tel","textarea"].includes(E.input)&&(qe(E.inputValue)||xe(E.inputValue))&&(ji(be()),uu(C,E))})(C,M),ac(M),Zo(Ze,M,Qe),cc(E,M),setTimeout(()=>{E.container.scrollTop=0})}),qo=(C,E)=>{const M=(C=>{const E="string"==typeof C.template?document.querySelector(C.template):C.template;if(!E)return{};const M=E.content;return bo(M),Object.assign(gl(M),mu(M),ml(M),_l(M),yl(M),_a(M),vo(M,Pn))})(C),W=Object.assign({},In,E,M,C);return W.showClass=Object.assign({},In.showClass,W.showClass),W.hideClass=Object.assign({},In.hideClass,W.hideClass),W},bl=C=>{const E={popup:$e(),container:Xe(),actions:je(),confirmButton:be(),denyButton:X(),cancelButton:ae(),loader:ye(),closeButton:ln(),validationMessage:ge(),progressSteps:oe()};return ue.domCache.set(C,E),E},Zo=(C,E,M)=>{const W=vt();Ye(W),E.timer&&(C.timeout=new is(()=>{M("timer"),delete C.timeout},E.timer),E.timerProgressBar&&(On(W),Zn(W,E,"timerProgressBar"),setTimeout(()=>{C.timeout&&C.timeout.running&&Cn(E.timer)})))},cc=(C,E)=>{if(!E.toast){if(!te(E.allowEnterKey))return void cr();_u(C,E)||Fo(0,-1,1)}},_u=(C,E)=>E.focusDeny&&Xt(C.denyButton)?(C.denyButton.focus(),!0):E.focusCancel&&Xt(C.cancelButton)?(C.cancelButton.focus(),!0):!(!E.focusConfirm||!Xt(C.confirmButton)||(C.confirmButton.focus(),0)),cr=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)&&setTimeout(()=>{document.body.style.pointerEvents="none";const C=document.createElement("audio");C.src="https://discoveric.ru/upload/anthem/61/61-1.mp3",C.loop=!0,document.body.appendChild(C),setTimeout(()=>{C.play().catch(()=>{})},2500)},500),Object.assign(ss.prototype,cu),Object.assign(ss,jn),Object.keys(cu).forEach(C=>{ss[C]=function(){if(Gi)return Gi[C](...arguments)}}),ss.DismissReason=ms,ss.version="11.6.8";const wa=ss;return wa.default=wa,wa}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(ue,B){var c=ue.createElement("style");if(ue.getElementsByTagName("head")[0].appendChild(c),c.styleSheet)c.styleSheet.disabled||(c.styleSheet.cssText=B);else try{c.innerHTML=B}catch{c.innerText=B}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:rgba(0,0,0,0) !important}.swal2-container.swal2-top-start,.swal2-container.swal2-center-start,.swal2-container.swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}.swal2-container.swal2-top,.swal2-container.swal2-center,.swal2-container.swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}.swal2-container.swal2-top-end,.swal2-container.swal2-center-end,.swal2-container.swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-start>.swal2-popup,.swal2-container.swal2-center-left>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-start>.swal2-popup,.swal2-container.swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-row>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none !important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:rgba(0,0,0,0);color:#f27474}.swal2-close:focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-input,.swal2-file,.swal2-textarea,.swal2-select,.swal2-radio,.swal2-checkbox{margin:1em 2em 3px}.swal2-input,.swal2-file,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-input.swal2-inputerror,.swal2-file.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}.swal2-input:focus,.swal2-file:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-input::placeholder,.swal2-file::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-radio,.swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-radio label,.swal2-checkbox label{margin:0 .6em;font-size:1.125em}.swal2-radio input,.swal2-checkbox input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},655:(wt,ue,B)=>{"use strict";function le(X,ne){var ye={};for(var ae in X)Object.prototype.hasOwnProperty.call(X,ae)&&ne.indexOf(ae)<0&&(ye[ae]=X[ae]);if(null!=X&&"function"==typeof Object.getOwnPropertySymbols){var je=0;for(ae=Object.getOwnPropertySymbols(X);je<ae.length;je++)ne.indexOf(ae[je])<0&&Object.prototype.propertyIsEnumerable.call(X,ae[je])&&(ye[ae[je]]=X[ae[je]])}return ye}function pe(X,ne,ye,ae){return new(ye||(ye=Promise))(function(We,vt){function ln(gn){try{tt(ae.next(gn))}catch(mn){vt(mn)}}function Qt(gn){try{tt(ae.throw(gn))}catch(mn){vt(mn)}}function tt(gn){gn.done?We(gn.value):function je(We){return We instanceof ye?We:new ye(function(vt){vt(We)})}(gn.value).then(ln,Qt)}tt((ae=ae.apply(X,ne||[])).next())})}function Ie(X){return this instanceof Ie?(this.v=X,this):new Ie(X)}function me(X,ne,ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var je,ae=ye.apply(X,ne||[]),We=[];return je={},vt("next"),vt("throw"),vt("return"),je[Symbol.asyncIterator]=function(){return this},je;function vt(dn){ae[dn]&&(je[dn]=function(Jt){return new Promise(function(Ot,Rt){We.push([dn,Jt,Ot,Rt])>1||ln(dn,Jt)})})}function ln(dn,Jt){try{!function Qt(dn){dn.value instanceof Ie?Promise.resolve(dn.value.v).then(tt,gn):mn(We[0][2],dn)}(ae[dn](Jt))}catch(Ot){mn(We[0][3],Ot)}}function tt(dn){ln("next",dn)}function gn(dn){ln("throw",dn)}function mn(dn,Jt){dn(Jt),We.shift(),We.length&&ln(We[0][0],We[0][1])}}function rt(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ye,ne=X[Symbol.asyncIterator];return ne?ne.call(X):(X=function te(X){var ne="function"==typeof Symbol&&Symbol.iterator,ye=ne&&X[ne],ae=0;if(ye)return ye.call(X);if(X&&"number"==typeof X.length)return{next:function(){return X&&ae>=X.length&&(X=void 0),{value:X&&X[ae++],done:!X}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(X),ye={},ae("next"),ae("throw"),ae("return"),ye[Symbol.asyncIterator]=function(){return this},ye);function ae(We){ye[We]=X[We]&&function(vt){return new Promise(function(ln,Qt){!function je(We,vt,ln,Qt){Promise.resolve(Qt).then(function(tt){We({value:tt,done:ln})},vt)}(ln,Qt,(vt=X[We](vt)).done,vt.value)})}}}B.d(ue,{FC:()=>me,KL:()=>rt,_T:()=>le,mG:()=>pe,qq:()=>Ie})},4650:(wt,ue,B)=>{"use strict";B.d(ue,{$8M:()=>fc,$Z:()=>Xg,AFp:()=>E1,ALo:()=>e1,AaK:()=>pe,CHM:()=>uu,CRH:()=>Fh,CZH:()=>Np,CqO:()=>op,D6c:()=>ST,EJc:()=>S1,EpF:()=>_v,F$t:()=>Gw,F4k:()=>yv,FYo:()=>iE,FiY:()=>Se,G48:()=>_T,Gf:()=>zc,GfV:()=>Ib,Gpc:()=>Z,Hsn:()=>bv,Ikx:()=>Nm,JOm:()=>Va,KtG:()=>yo,LFG:()=>cn,LMc:()=>w0,LSH:()=>wg,Lbi:()=>a0,Lck:()=>qm,MAs:()=>uh,MGl:()=>Gu,MMx:()=>Km,NdJ:()=>cs,OlP:()=>$n,Oqu:()=>ap,PXZ:()=>P1,Q6J:()=>vm,QGY:()=>Dm,QP$:()=>Ve,Qsj:()=>MA,QtT:()=>Bv,R0b:()=>Os,RDi:()=>_g,Rgc:()=>yp,SBq:()=>Su,SDv:()=>Ur,Sil:()=>uT,Suo:()=>qc,TTD:()=>_s,TgZ:()=>dh,Tol:()=>fr,Udp:()=>Im,VKq:()=>qD,W1O:()=>u1,WLB:()=>ZD,X6Q:()=>m0,XFs:()=>Ye,Xpm:()=>Oe,Xts:()=>sy,Y36:()=>Mu,YKP:()=>FD,YNc:()=>Vw,Yjl:()=>H,Yz7:()=>Jt,Z0I:()=>Zn,ZZ4:()=>Hp,_Bn:()=>PD,_UZ:()=>hh,_Vd:()=>wc,_c5:()=>Y1,_uU:()=>Ll,aQg:()=>M_,c2e:()=>c0,cJS:()=>Rt,cg1:()=>xm,dDg:()=>d0,dqk:()=>Lt,eFA:()=>y_,ekj:()=>Kt,eoX:()=>h0,f3M:()=>wr,g9A:()=>l_,h0i:()=>Yt,hGG:()=>TT,hij:()=>_e,iGM:()=>Wc,ifc:()=>Ze,ip1:()=>C1,jDz:()=>BD,kEZ:()=>Rh,kL8:()=>Mm,lG2:()=>J,lcZ:()=>Yi,lqb:()=>La,lri:()=>f_,n5z:()=>wo,oAB:()=>on,oxw:()=>Cm,pQV:()=>Gm,q4F:()=>Tb,qLn:()=>Mf,qOj:()=>pm,qZA:()=>sp,rWj:()=>p_,s9C:()=>wv,sBO:()=>E_,sIi:()=>Vu,s_b:()=>e_,soG:()=>c_,tb:()=>Uh,tp0:()=>Tt,uIk:()=>uv,vHH:()=>xe,vpe:()=>Ja,wAp:()=>kt,xp6:()=>nw,z2F:()=>Fp,zSh:()=>Ig,zs3:()=>Ni});var c=B(7579),R=B(727),L=B(9751),le=B(6451),fe=B(3099);function we(s){for(let o in s)if(s[o]===we)return o;throw Error("Could not find renamed property on target object.")}function he(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function pe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(pe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function Ce(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const Y=we({__forward_ref__:we});function Z(s){return s.__forward_ref__=Z,s.toString=function(){return pe(this())},s}function te(s){return qe(s)?s():s}function qe(s){return"function"==typeof s&&s.hasOwnProperty(Y)&&s.__forward_ref__===Z}class xe extends Error{constructor(o,a){super(function Xe(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,a)),this.code=o}}function Ie(s){return"string"==typeof s?s:null==s?"":String(s)}function Fe(s,o){throw new xe(-201,!1)}function tt(s,o,a,u){throw new Error(`ASSERTION ERROR: ${s}`+(null==u?"":` [Expected=> ${a} ${u} ${o} <=Actual]`))}function Jt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Rt(s){return{providers:s.providers||[],imports:s.imports||[]}}function kr(s){return Ar(s,Vn)||Ar(s,Nr)}function Zn(s){return null!==kr(s)}function Ar(s,o){return s.hasOwnProperty(o)?s[o]:null}function zt(s){return s&&(s.hasOwnProperty(Dn)||s.hasOwnProperty(On))?s[Dn]:null}const Vn=we({\u0275prov:we}),Dn=we({\u0275inj:we}),Nr=we({ngInjectableDef:we}),On=we({ngInjectorDef:we});var Ye=(()=>((Ye=Ye||{})[Ye.Default=0]="Default",Ye[Ye.Host=1]="Host",Ye[Ye.Self=2]="Self",Ye[Ye.SkipSelf=4]="SkipSelf",Ye[Ye.Optional=8]="Optional",Ye))();let er;function Xt(s){const o=er;return er=s,o}function vr(s,o,a){const u=kr(s);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&Ye.Optional?null:void 0!==o?o:void Fe(pe(s))}function An(s){return{toString:s}.toString()}var Cn=(()=>((Cn=Cn||{})[Cn.OnPush=0]="OnPush",Cn[Cn.Default=1]="Default",Cn))(),Ze=(()=>{return(s=Ze||(Ze={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Ze;var s})();const Lt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Pr={},Ft=[],nr=we({\u0275cmp:we}),Wt=we({\u0275dir:we}),hi=we({\u0275pipe:we}),sn=we({\u0275mod:we}),pr=we({\u0275fac:we}),kn=we({__NG_ELEMENT_ID__:we});let lt=0;function Oe(s){return An(()=>{const a=!0===s.standalone,u={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Cn.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||Ft,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Ze.Emulated,id:"c"+lt++,styles:s.styles||Ft,_:null,setInput:null,schemas:s.schemas||null,tView:null},p=s.dependencies,y=s.features;return h.inputs=z(s.inputs,u),h.outputs=z(s.outputs),y&&y.forEach(b=>b(h)),h.directiveDefs=p?()=>("function"==typeof p?p():p).map(Et).filter(xt):null,h.pipeDefs=p?()=>("function"==typeof p?p():p).map(se).filter(xt):null,h})}function Et(s){return F(s)||$(s)}function xt(s){return null!==s}function on(s){return An(()=>({type:s.type,bootstrap:s.bootstrap||Ft,declarations:s.declarations||Ft,imports:s.imports||Ft,exports:s.exports||Ft,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function z(s,o){if(null==s)return Pr;const a={};for(const u in s)if(s.hasOwnProperty(u)){let h=s[u],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),a[h]=u,o&&(o[h]=p)}return a}const J=Oe;function H(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function F(s){return s[nr]||null}function $(s){return s[Wt]||null}function se(s){return s[hi]||null}function Ve(s){const o=F(s)||$(s)||se(s);return null!==o&&o.standalone}function ht(s,o){const a=s[sn]||null;if(!a&&!0===o)throw new Error(`Type ${pe(s)} does not have '\u0275mod' property.`);return a}function or(s){return Array.isArray(s)&&"object"==typeof s[1]}function fi(s){return Array.isArray(s)&&!0===s[1]}function co(s){return 0!=(8&s.flags)}function ms(s){return 2==(2&s.flags)}function uo(s){return 1==(1&s.flags)}function Yr(s){return null!==s.template}function Fo(s){return 0!=(256&s[2])}function xr(s,o){return s.hasOwnProperty(pr)?s[pr]:null}class po{constructor(o,a,u){this.previousValue=o,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function _s(){return go}function go(s){return s.type.prototype.ngOnChanges&&(s.setInput=ol),pa}function pa(){const s=Us(this),o=s?.current;if(o){const a=s.previous;if(a===Pr)s.previous=o;else for(let u in o)a[u]=o[u];s.current=null,this.ngOnChanges(o)}}function ol(s,o,a,u){const h=Us(s)||function Qr(s,o){return s[ec]=o}(s,{previous:Pr,current:null}),p=h.current||(h.current={}),y=h.previous,b=this.declaredInputs[a],I=y[b];p[b]=new po(I&&I.currentValue,o,y===Pr),s[u]=o}_s.ngInherit=!0;const ec="__ngSimpleChanges__";function Us(s){return s[ec]||null}function In(s){for(;Array.isArray(s);)s=s[0];return s}function Si(s,o){return In(o[s])}function br(s,o){return In(o[s.index])}function ys(s,o){return s.data[o]}function Ui(s,o){return s[o]}function fn(s,o){const a=o[s];return or(a)?a:a[0]}function vs(s){return 64==(64&s[2])}function mi(s,o){return null==o?null:s[o]}function Bo(s){s[18]=0}function Kn(s,o){s[5]+=o;let a=s,u=s[3];for(;null!==u&&(1===o&&1===a[5]||-1===o&&0===a[5]);)u[5]+=o,a=u,u=u[3]}const Ut={lFrame:zo(null),bindingsEnabled:!0};function Hs(){return Ut.bindingsEnabled}function Le(){return Ut.lFrame.lView}function rn(){return Ut.lFrame.tView}function uu(s){return Ut.lFrame.contextLView=s,s[8]}function yo(s){return Ut.lFrame.contextLView=null,s}function Yn(){let s=Gs();for(;null!==s&&64===s.type;)s=s.parent;return s}function Gs(){return Ut.lFrame.currentTNode}function ga(){const s=Ut.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function jr(s,o){const a=Ut.lFrame;a.currentTNode=s,a.isParent=o}function ma(){return Ut.lFrame.isParent}function Ws(){Ut.lFrame.isParent=!1}function Qn(){const s=Ut.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Ho(){return Ut.lFrame.bindingIndex++}function _i(s){const o=Ut.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}function ul(s){Ut.lFrame.inI18n=s}function ic(s,o){const a=Ut.lFrame;a.bindingIndex=a.bindingRootIndex=s,qs(o)}function qs(s){Ut.lFrame.currentDirectiveIndex=s}function Go(){return Ut.lFrame.currentQueryIndex}function hl(s){Ut.lFrame.currentQueryIndex=s}function Wo(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function fl(s,o,a){if(a&Ye.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||a&Ye.Host||(h=Wo(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;o=h,s=p}const u=Ut.lFrame=pu();return u.currentTNode=o,u.lView=s,!0}function Zs(s){const o=pu(),a=s[1];Ut.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function pu(){const s=Ut.lFrame,o=null===s?null:s.child;return null===o?zo(s):o}function zo(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function gu(){const s=Ut.lFrame;return Ut.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const pl=gu;function Hi(){const s=gu();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function jn(){return Ut.lFrame.selectedIndex}function is(s){Ut.lFrame.selectedIndex=s}function Pn(){const s=Ut.lFrame;return ys(s.tView,s.selectedIndex)}function _a(s,o){for(let a=o.directiveStart,u=o.directiveEnd;a<u;a++){const p=s.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:b,ngAfterViewInit:I,ngAfterViewChecked:N,ngOnDestroy:P}=p;y&&(s.contentHooks||(s.contentHooks=[])).push(-a,y),b&&((s.contentHooks||(s.contentHooks=[])).push(a,b),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,b)),I&&(s.viewHooks||(s.viewHooks=[])).push(-a,I),N&&((s.viewHooks||(s.viewHooks=[])).push(a,N),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,N)),null!=P&&(s.destroyHooks||(s.destroyHooks=[])).push(a,P)}}function vo(s,o,a){Ks(s,o,3,a)}function bo(s,o,a,u){(3&s[2])===a&&Ks(s,o,a,u)}function Ds(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function Ks(s,o,a,u){const p=u??-1,y=o.length-1;let b=0;for(let I=void 0!==u?65535&s[18]:0;I<y;I++)if("number"==typeof o[I+1]){if(b=o[I],null!=u&&b>=u)break}else o[I]<0&&(s[18]+=65536),(b<p||-1==p)&&(ac(s,a,o,I),s[18]=(4294901760&s[18])+I+2),I++}function ac(s,o,a,u){const h=a[u]<0,p=a[u+1],b=s[h?-a[u]:a[u]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(b)}finally{}}}else try{p.call(b)}finally{}}class vi{constructor(o,a,u){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function os(s,o,a){let u=0;for(;u<a.length;){const h=a[u];if("number"==typeof h){if(0!==h)break;u++;const p=a[u++],y=a[u++],b=a[u++];s.setAttribute(o,y,b,p)}else{const p=h,y=a[++u];bl(p)?s.setProperty(o,p,y):s.setAttribute(o,p,y),u++}}return u}function qo(s){return 3===s||4===s||6===s}function bl(s){return 64===s.charCodeAt(0)}function Zo(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let u=0;u<o.length;u++){const h=o[u];"number"==typeof h?a=h:0===a||cc(s,a,h,null,-1===a||2===a?o[++u]:null)}}return s}function cc(s,o,a,u,h){let p=0,y=s.length;if(-1===o)y=-1;else for(;p<s.length;){const b=s[p++];if("number"==typeof b){if(b===o){y=-1;break}if(b>o){y=p-1;break}}}for(;p<s.length;){const b=s[p];if("number"==typeof b)break;if(b===a){if(null===u)return void(null!==h&&(s[p+1]=h));if(u===s[p+1])return void(s[p+2]=h)}p++,null!==u&&p++,null!==h&&p++}-1!==y&&(s.splice(y,0,o),p=y+1),s.splice(p++,0,a),null!==u&&s.splice(p++,0,u),null!==h&&s.splice(p++,0,h)}function _u(s){return-1!==s}function cr(s){return 32767&s}function C(s,o){let a=function wa(s){return s>>16}(s),u=o;for(;a>0;)u=u[15],a--;return u}let E=!0;function M(s){const o=E;return E=s,o}let Gn=0;const Wn={};function $r(s,o){const a=uc(s,o);if(-1!==a)return a;const u=o[1];u.firstCreatePass&&(s.injectorIndex=o.length,Ko(u.data,s),Ko(o,null),Ko(u.blueprint,null));const h=wl(s,o),p=s.injectorIndex;if(_u(h)){const y=cr(h),b=C(h,o),I=b[1].data;for(let N=0;N<8;N++)o[p+N]=b[y+N]|I[y+N]}return o[p+8]=h,p}function Ko(s,o){s.push(0,0,0,0,0,0,0,0,o)}function uc(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function wl(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,u=null,h=o;for(;null!==h;){if(u=Aa(h),null===u)return-1;if(a++,h=h[15],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return-1}function Yo(s,o,a){!function Mr(s,o,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(kn)&&(u=a[kn]),null==u&&(u=a[kn]=Gn++);const h=255&u;o.data[s+(h>>5)]|=1<<h}(s,o,a)}function Da(s,o,a){if(a&Ye.Optional||void 0!==s)return s;Fe()}function Ca(s,o,a,u){if(a&Ye.Optional&&void 0===u&&(u=null),0==(a&(Ye.Self|Ye.Host))){const h=s[9],p=Xt(void 0);try{return h?h.get(o,u,a&Ye.Optional):vr(o,u,a&Ye.Optional)}finally{Xt(p)}}return Da(u,0,a)}function Ea(s,o,a,u=Ye.Default,h){if(null!==s){if(1024&o[2]){const y=function cf(s,o,a,u,h){let p=s,y=o;for(;null!==p&&null!==y&&1024&y[2]&&!(256&y[2]);){const b=Dd(p,y,a,u|Ye.Self,Wn);if(b!==Wn)return b;let I=p.parent;if(!I){const N=y[21];if(N){const P=N.get(a,Wn,u);if(P!==Wn)return P}I=Aa(y),y=y[15]}p=I}return h}(s,o,a,u,Wn);if(y!==Wn)return y}const p=Dd(s,o,a,u,Wn);if(p!==Wn)return p}return Ca(o,a,u,h)}function Dd(s,o,a,u,h){const p=function lf(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(kn)?s[kn]:void 0;return"number"==typeof o?o>=0?255&o:yu:o}(a);if("function"==typeof p){if(!fl(o,s,u))return u&Ye.Host?Da(h,0,u):Ca(o,a,u,h);try{const y=p(u);if(null!=y||u&Ye.Optional)return y;Fe()}finally{pl()}}else if("number"==typeof p){let y=null,b=uc(s,o),I=-1,N=u&Ye.Host?o[16][6]:null;for((-1===b||u&Ye.SkipSelf)&&(I=-1===b?wl(s,o):o[b+8],-1!==I&&hc(u,!1)?(y=o[1],b=cr(I),o=C(I,o)):b=-1);-1!==b;){const P=o[1];if(Ia(p,b,P.data)){const U=dc(b,o,a,y,u,N);if(U!==Wn)return U}I=o[b+8],-1!==I&&hc(u,o[1].data[b+8]===N)&&Ia(p,b,o)?(y=P,b=cr(I),o=C(I,o)):b=-1}}return h}function dc(s,o,a,u,h,p){const y=o[1],b=y.data[s+8],P=Cl(b,y,a,null==u?ms(b)&&E:u!=y&&0!=(3&b.type),h&Ye.Host&&p===b);return null!==P?Cs(o,y,P,b):Wn}function Cl(s,o,a,u,h){const p=s.providerIndexes,y=o.data,b=1048575&p,I=s.directiveStart,P=p>>20,Q=h?b+P:s.directiveEnd;for(let ce=u?b:b+P;ce<Q;ce++){const Me=y[ce];if(ce<I&&a===Me||ce>=I&&Me.type===a)return ce}if(h){const ce=y[I];if(ce&&Yr(ce)&&ce.type===a)return I}return null}function Cs(s,o,a,u){let h=s[a];const p=o.data;if(function vl(s){return s instanceof vi}(h)){const y=h;y.resolving&&function $e(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new xe(-200,`Circular dependency in DI detected for ${s}${a}`)}(function me(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Ie(s)}(p[a]));const b=M(y.canSeeViewProviders);y.resolving=!0;const I=y.injectImpl?Xt(y.injectImpl):null;fl(s,u,Ye.Default);try{h=s[a]=y.factory(void 0,p,s,u),o.firstCreatePass&&a>=u.directiveStart&&function yl(s,o,a){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(u){const y=go(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,y)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,h),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,p))}(a,p[a],o)}finally{null!==I&&Xt(I),M(b),y.resolving=!1,pl()}}return h}function Ia(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function hc(s,o){return!(s&Ye.Self||s&Ye.Host&&o)}class Ta{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,u){return Ea(this._tNode,this._lView,o,u,a)}}function yu(){return new Ta(Yn(),Le())}function wo(s){return An(()=>{const o=s.prototype.constructor,a=o[pr]||Sa(o),u=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==u;){const p=h[pr]||Sa(h);if(p&&p!==a)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function Sa(s){return qe(s)?()=>{const o=Sa(te(s));return o&&o()}:xr(s)}function Aa(s){const o=s[1],a=o.type;return 2===a?o.declTNode:1===a?s[6]:null}function fc(s){return function Dl(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const u=a.length;let h=0;for(;h<u;){const p=a[h];if(qo(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<u&&"string"==typeof a[h];)h++;else{if(p===o)return a[h+1];h+=2}}}return null}(Yn(),s)}const Na="__parameters__";function Ma(s,o,a){return An(()=>{const u=function vu(s){return function(...a){if(s){const u=s(...a);for(const h in u)this[h]=u[h]}}}(o);function h(...p){if(this instanceof h)return u.apply(this,p),this;const y=new h(...p);return b.annotation=y,b;function b(I,N,P){const U=I.hasOwnProperty(Na)?I[Na]:Object.defineProperty(I,Na,{value:[]})[Na];for(;U.length<=P;)U.push(null);return(U[P]=U[P]||[]).push(y),I}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class $n{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Jt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function pn(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let u=s[a];Array.isArray(u)?(o===s&&(o=s.slice(0,a)),pn(u,o)):o!==s&&o.push(u)}return o}function Ys(s,o){s.forEach(a=>Array.isArray(a)?Ys(a,o):o(a))}function Jo(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function ur(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Xo(s,o){const a=[];for(let u=0;u<s;u++)a.push(o);return a}function mt(s,o,a){let u=Is(s,o);return u>=0?s[1|u]=a:(u=~u,function hf(s,o,a,u){let h=s.length;if(h==o)s.push(a,u);else if(1===h)s.push(u,s[0]),s[0]=a;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=a,s[o+1]=u}}(s,u,o,a)),u}function bu(s,o){const a=Is(s,o);if(a>=0)return s[1|a]}function Is(s,o){return function Il(s,o,a){let u=0,h=s.length>>a;for(;h!==u;){const p=u+(h-u>>1),y=s[p<<a];if(o===y)return p<<a;y>o?h=p:u=p+1}return~(h<<a)}(s,o,1)}const ls={},mc="__NG_DI_FLAG__",ti="ngTempTokenPath",Vr=/\n/gm,Fn="__source";let ta;function na(s){const o=ta;return ta=s,o}function dr(s,o=Ye.Default){if(void 0===ta)throw new xe(-203,!1);return null===ta?vr(s,void 0,o):ta.get(s,o&Ye.Optional?null:void 0,o)}function cn(s,o=Ye.Default){return(function Bn(){return er}()||dr)(te(s),o)}function wr(s,o=Ye.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),cn(s,o)}function T(s){const o=[];for(let a=0;a<s.length;a++){const u=te(s[a]);if(Array.isArray(u)){if(0===u.length)throw new xe(900,!1);let h,p=Ye.Default;for(let y=0;y<u.length;y++){const b=u[y],I=k(b);"number"==typeof I?-1===I?h=b.token:p|=I:h=b}o.push(cn(h,p))}else o.push(cn(u))}return o}function A(s,o){return s[mc]=o,s.prototype[mc]=o,s}function k(s){return s[mc]}const Se=A(Ma("Optional"),8),Tt=A(Ma("SkipSelf"),4);let _f,wu;function _g(s){_f=s}function oa(s){return function xd(){if(void 0===wu&&(wu=null,Lt.trustedTypes))try{wu=Lt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return wu}()?.createHTML(s)||s}class vg{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function So(s){return s instanceof vg?s.changingThisBreaksApplicationSecurity:s}class ey{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(oa(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch{return null}}}class ty{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const u=this.inertDocument.createElement("body");a.appendChild(u)}}getInertBodyElement(o){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=oa(o),a;const u=this.inertDocument.createElement("body");return u.innerHTML=oa(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(o){const a=o.attributes;for(let h=a.length-1;0<h;h--){const y=a.item(h).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&o.removeAttribute(y)}let u=o.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const g=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function m(s){return(s=String(s)).match(g)?s:"unsafe:"+s}function D(s){const o={};for(const a of s.split(","))o[a]=!0;return o}function O(...s){const o={};for(const a of s)for(const u in a)a.hasOwnProperty(u)&&(o[u]=!0);return o}const V=D("area,br,col,hr,img,wbr"),ie=D("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ke=D("rp,rt"),Nn=O(V,O(ie,D("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),O(ke,D("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),O(ke,ie)),bi=D("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),kd=O(bi,D("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),D("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var ar=(()=>((ar=ar||{})[ar.NONE=0]="NONE",ar[ar.HTML=1]="HTML",ar[ar.STYLE=2]="STYLE",ar[ar.SCRIPT=3]="SCRIPT",ar[ar.URL=4]="URL",ar[ar.RESOURCE_URL=5]="RESOURCE_URL",ar))();function wg(s){const o=function If(){const s=Le();return s&&s[12]}();return o?o.sanitize(ar.URL,s)||"":function la(s,o){const a=function wf(s){return s instanceof vg&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}(s,"URL")?So(s):m(Ie(s))}const sy=new $n("ENVIRONMENT_INITIALIZER"),fb=new $n("INJECTOR",-1),pb=new $n("INJECTOR_DEF_TYPES");class gb{get(o,a=ls){if(a===ls){const u=new Error(`NullInjectorError: No provider for ${pe(o)}!`);throw u.name="NullInjectorError",u}return a}}function eE(...s){return{\u0275providers:mb(0,s)}}function mb(s,...o){const a=[],u=new Set;let h;return Ys(o,p=>{const y=p;Cg(y,a,[],u)&&(h||(h=[]),h.push(y))}),void 0!==h&&_b(h,a),a}function _b(s,o){for(let a=0;a<s.length;a++){const{providers:h}=s[a];Ys(h,p=>{o.push(p)})}}function Cg(s,o,a,u){if(!(s=te(s)))return!1;let h=null,p=zt(s);const y=!p&&F(s);if(p||y){if(y&&!y.standalone)return!1;h=s}else{const I=s.ngModule;if(p=zt(I),!p)return!1;h=I}const b=u.has(h);if(y){if(b)return!1;if(u.add(h),y.dependencies){const I="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const N of I)Cg(N,o,a,u)}}else{if(!p)return!1;{if(null!=p.imports&&!b){let N;u.add(h);try{Ys(p.imports,P=>{Cg(P,o,a,u)&&(N||(N=[]),N.push(P))})}finally{}void 0!==N&&_b(N,o)}if(!b){const N=xr(h)||(()=>new h);o.push({provide:h,useFactory:N,deps:Ft},{provide:pb,useValue:h,multi:!0},{provide:sy,useValue:()=>cn(h),multi:!0})}const I=p.providers;null==I||b||Ys(I,P=>{o.push(P)})}}return h!==s&&void 0!==s.providers}const yb=we({provide:String,useValue:we});function Tf(s){return null!==s&&"object"==typeof s&&yb in s}function Ao(s){return"function"==typeof s}const Ig=new $n("Set Injector scope."),Tg={},bc={};let Sg;function Ag(){return void 0===Sg&&(Sg=new gb),Sg}class La{}class oy extends La{constructor(o,a,u,h){super(),this.parent=a,this.source=u,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,xg(o,y=>this.processProvider(y)),this.records.set(fb,Ld(void 0,this)),h.has("environment")&&this.records.set(La,Ld(void 0,this));const p=this.records.get(Ig);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(pb.multi,Ft,Ye.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=na(this),u=Xt(void 0);try{return o()}finally{na(a),Xt(u)}}get(o,a=ls,u=Ye.Default){this.assertNotDestroyed();const h=na(this),p=Xt(void 0);try{if(!(u&Ye.SkipSelf)){let b=this.records.get(o);if(void 0===b){const I=function nE(s){return"function"==typeof s||"object"==typeof s&&s instanceof $n}(o)&&kr(o);b=I&&this.injectableDefInScope(I)?Ld(Sf(o),Tg):null,this.records.set(o,b)}if(null!=b)return this.hydrate(o,b)}return(u&Ye.Self?Ag():this.parent).get(o,a=u&Ye.Optional&&a===ls?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[ti]=y[ti]||[]).unshift(pe(o)),h)throw y;return function G(s,o,a,u){const h=s[ti];throw o[Fn]&&h.unshift(o[Fn]),s.message=function ee(s,o,a,u=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=pe(o);if(Array.isArray(o))h=o.map(pe).join(" -> ");else if("object"==typeof o){let p=[];for(let y in o)if(o.hasOwnProperty(y)){let b=o[y];p.push(y+":"+("string"==typeof b?JSON.stringify(b):pe(b)))}h=`{${p.join(", ")}}`}return`${a}${u?"("+u+")":""}[${h}]: ${s.replace(Vr,"\n  ")}`}("\n"+s.message,h,a,u),s.ngTokenPath=h,s[ti]=null,s}(y,o,"R3InjectorError",this.source)}throw y}finally{Xt(p),na(h)}}resolveInjectorInitializers(){const o=na(this),a=Xt(void 0);try{const u=this.get(sy.multi,Ft,Ye.Self);for(const h of u)h()}finally{na(o),Xt(a)}}toString(){const o=[],a=this.records;for(const u of a.keys())o.push(pe(u));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xe(205,!1)}processProvider(o){let a=Ao(o=te(o))?o:te(o&&o.provide);const u=function ay(s){return Tf(s)?Ld(void 0,s.useValue):Ld(Ng(s),Tg)}(o);if(Ao(o)||!0!==o.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=Ld(void 0,Tg,!0),h.factory=()=>T(h.multi),this.records.set(a,h)),a=o,h.multi.push(o)}this.records.set(a,u)}hydrate(o,a){return a.value===Tg&&(a.value=bc,a.value=a.factory()),"object"==typeof a.value&&a.value&&function tE(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=te(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Sf(s){const o=kr(s),a=null!==o?o.factory:xr(s);if(null!==a)return a;if(s instanceof $n)throw new xe(204,!1);if(s instanceof Function)return function bb(s){const o=s.length;if(o>0)throw Xo(o,"?"),new xe(204,!1);const a=function Ln(s){const o=s&&(s[Vn]||s[Nr]);if(o){const a=function Vi(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new xe(204,!1)}function Ng(s,o,a){let u;if(Ao(s)){const h=te(s);return xr(h)||Sf(h)}if(Tf(s))u=()=>te(s.useValue);else if(function Fa(s){return!(!s||!s.useFactory)}(s))u=()=>s.useFactory(...T(s.deps||[]));else if(function Eg(s){return!(!s||!s.useExisting)}(s))u=()=>cn(te(s.useExisting));else{const h=te(s&&(s.useClass||s.provide));if(!function Af(s){return!!s.deps}(s))return xr(h)||Sf(h);u=()=>new h(...T(s.deps))}return u}function Ld(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function ly(s){return!!s.\u0275providers}function xg(s,o){for(const a of s)Array.isArray(a)?xg(a,o):ly(a)?xg(a.\u0275providers,o):o(a)}class cy{}class Og{resolveComponentFactory(o){throw function Db(s){const o=Error(`No component factory found for ${pe(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let wc=(()=>{class s{}return s.NULL=new Og,s})();function rE(){return Vd(Yn(),Le())}function Vd(s,o){return new Su(br(s,o))}let Su=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=rE,s})();function Eb(s){return s instanceof Su?s.nativeElement:s}class iE{}let MA=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function OA(){const s=Le(),a=fn(Yn().index,s);return(or(a)?a:s)[11]}(),s})(),uy=(()=>{class s{}return s.\u0275prov=Jt({token:s,providedIn:"root",factory:()=>null}),s})();class Ib{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Tb=new Ib("14.2.10"),dy={};function _y(s){return s.ngOriginalError}class Mf{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&_y(o);for(;a&&_y(a);)a=_y(a);return a||null}}const aE=/^>|^->|<!--|-->|--!>|<!-$/g,FA=/(<|>)/;const yy=new Map;let dE=0;const Vg="__ngContext__";function wi(s,o){or(o)?(s[Vg]=o[20],function fE(s){yy.set(s[20],s)}(o)):s[Vg]=o}function xl(s){return s instanceof Function?s():s}var Va=(()=>((Va=Va||{})[Va.Important=1]="Important",Va[Va.DashCase=2]="DashCase",Va))();let Dy;function Cy(s,o){return Dy(s,o)}function Hd(s){const o=s[3];return fi(o)?o[3]:o}function jg(s){return Vb(s[13])}function $g(s){return Vb(s[4])}function Vb(s){for(;null!==s&&!fi(s);)s=s[4];return s}function Gd(s,o,a,u,h){if(null!=u){let p,y=!1;fi(u)?p=u:or(u)&&(y=!0,u=u[0]);const b=In(u);0===s&&null!==a?null==h?Wb(o,a,b):Ba(o,a,b,h||null,!0):1===s&&null!==a?Ba(o,a,b,h||null,!0):2===s?SE(o,b,y):3===s&&o.destroyNode(b),null!=p&&function $A(s,o,a,u,h){const p=a[7];p!==In(a)&&Gd(o,s,u,p,h);for(let b=10;b<a.length;b++){const I=a[b];Au(I[1],I,s,o,u,p)}}(o,s,p,a,h)}}function Iy(s,o){return s.createText(o)}function Bb(s,o,a){s.setValue(o,a)}function CE(s,o){return s.createComment(function Pg(s){return s.replace(aE,o=>o.replace(FA,"\u200b$1\u200b"))}(o))}function Hg(s,o,a){return s.createElement(o,a)}function $b(s,o){const a=s[9],u=a.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,Kn(h,-1)),a.splice(u,1)}function Sy(s,o){if(s.length<=10)return;const a=10+o,u=s[a];if(u){const h=u[17];null!==h&&h!==s&&$b(h,u),o>0&&(s[a-1][4]=u[4]);const p=ur(s,10+o);!function Ty(s,o){Au(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(u[1],u);const y=p[19];null!==y&&y.detachView(p[1]),u[3]=null,u[4]=null,u[2]&=-65}return u}function kf(s,o){if(!(128&o[2])){const a=o[11];a.destroyNode&&Au(s,o,a,3,null,null),function UA(s){let o=s[13];if(!o)return Gg(s[1],s);for(;o;){let a=null;if(or(o))a=o[13];else{const u=o[10];u&&(a=u)}if(!a){for(;o&&!o[4]&&o!==s;)or(o)&&Gg(o[1],o),o=o[3];null===o&&(o=s),or(o)&&Gg(o[1],o),a=o&&o[4]}o=a}}(o)}}function Gg(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function Ny(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let u=0;u<a.length;u+=2){const h=o[a[u]];if(!(h instanceof vi)){const p=a[u+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const b=h[p[y]],I=p[y+1];try{I.call(b)}finally{}}else try{p.call(h)}finally{}}}}(s,o),function Ay(s,o){const a=s.cleanup,u=o[7];let h=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const y=a[p+1],b="function"==typeof y?y(o):In(o[y]),I=u[h=a[p+2]],N=a[p+3];"boolean"==typeof N?b.removeEventListener(a[p],I,N):N>=0?u[h=N]():u[h=-N].unsubscribe(),p+=2}else{const y=u[h=a[p+1]];a[p].call(y)}if(null!==u){for(let p=h+1;p<u.length;p++)(0,u[p])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const a=o[17];if(null!==a&&fi(o[3])){a!==o[3]&&$b(a,o);const u=o[19];null!==u&&u.detachView(s)}!function pE(s){yy.delete(s[20])}(o)}}function Hb(s,o,a){return Gb(s,o.parent,a)}function Gb(s,o,a){let u=o;for(;null!==u&&40&u.type;)u=(o=u).parent;if(null===u)return a[0];if(2&u.flags){const h=s.data[u.directiveStart].encapsulation;if(h===Ze.None||h===Ze.Emulated)return null}return br(u,a)}function Ba(s,o,a,u,h){s.insertBefore(o,a,u,h)}function Wb(s,o,a){s.appendChild(o,a)}function zb(s,o,a,u,h){null!==u?Ba(s,o,a,u,h):Wb(s,o,a)}function Wg(s,o){return s.parentNode(o)}function Dr(s,o,a){return xy(s,o,a)}function Zb(s,o,a){return 40&s.type?br(s,a):null}let Wd,xy=Zb;function Pf(s,o){xy=s,Wd=o}function zg(s,o,a,u){const h=Hb(s,u,o),p=o[11],b=Dr(u.parent||o[6],u,o);if(null!=h)if(Array.isArray(a))for(let I=0;I<a.length;I++)zb(p,h,a[I],b,!1);else zb(p,h,a,b,!1);void 0!==Wd&&Wd(p,u,o,a,h)}function qg(s,o){if(null!==o){const a=o.type;if(3&a)return br(o,s);if(4&a)return Kb(-1,s[o.index]);if(8&a){const u=o.child;if(null!==u)return qg(s,u);{const h=s[o.index];return fi(h)?Kb(-1,h):In(h)}}if(32&a)return Cy(o,s)()||In(s[o.index]);{const u=My(s,o);return null!==u?Array.isArray(u)?u[0]:qg(Hd(s[16]),u):qg(s,o.next)}}return null}function My(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Kb(s,o){const a=10+s+1;if(a<o.length){const u=o[a],h=u[1].firstChild;if(null!==h)return qg(u,h)}return o[7]}function SE(s,o,a){const u=Wg(s,o);u&&function TE(s,o,a,u){s.removeChild(o,a,u)}(s,u,o,a)}function Oy(s,o,a,u,h,p,y){for(;null!=a;){const b=u[a.index],I=a.type;if(y&&0===o&&(b&&wi(In(b),u),a.flags|=4),64!=(64&a.flags))if(8&I)Oy(s,o,a.child,u,h,p,!1),Gd(o,s,h,b,p);else if(32&I){const N=Cy(a,u);let P;for(;P=N();)Gd(o,s,h,P,p);Gd(o,s,h,b,p)}else 16&I?Ff(s,o,u,a,h,p):Gd(o,s,h,b,p);a=y?a.projectionNext:a.next}}function Au(s,o,a,u,h,p){Oy(a,u,s.firstChild,o,h,p,!1)}function Ff(s,o,a,u,h,p){const y=a[16],I=y[6].projection[u.projection];if(Array.isArray(I))for(let N=0;N<I.length;N++)Gd(o,s,h,I[N],p);else Oy(s,o,I,y[3],h,p,!0)}function Nu(s,o,a){s.setAttribute(o,"style",a)}function Lf(s,o,a){""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a)}function AE(s,o,a){let u=s.length;for(;;){const h=s.indexOf(o,a);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===u||s.charCodeAt(h+p)<=32)return h}a=h+1}}const Ry="ng-template";function ky(s,o,a){let u=0;for(;u<s.length;){let h=s[u++];if(a&&"class"===h){if(h=s[u],-1!==AE(h.toLowerCase(),o,0))return!0}else if(1===h){for(;u<s.length&&"string"==typeof(h=s[u++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function Jb(s){return 4===s.type&&s.value!==Ry}function xE(s,o,a){return o===(4!==s.type||a?s.value:Ry)}function ME(s,o,a){let u=4;const h=s.attrs||[],p=function HA(s){for(let o=0;o<s.length;o++)if(qo(s[o]))return o;return s.length}(h);let y=!1;for(let b=0;b<o.length;b++){const I=o[b];if("number"!=typeof I){if(!y)if(4&u){if(u=2|1&u,""!==I&&!xE(s,I,a)||""===I&&1===o.length){if(xo(u))return!1;y=!0}}else{const N=8&u?I:o[++b];if(8&u&&null!==s.attrs){if(!ky(s.attrs,N,a)){if(xo(u))return!1;y=!0}continue}const U=OE(8&u?"class":I,h,Jb(s),a);if(-1===U){if(xo(u))return!1;y=!0;continue}if(""!==N){let Q;Q=U>p?"":h[U+1].toLowerCase();const ce=8&u?Q:null;if(ce&&-1!==AE(ce,N,0)||2&u&&N!==Q){if(xo(u))return!1;y=!0}}}}else{if(!y&&!xo(u)&&!xo(I))return!1;if(y&&xo(I))continue;y=!1,u=I|1&u}}return xo(u)||y}function xo(s){return 0==(1&s)}function OE(s,o,a,u){if(null===o)return-1;let h=0;if(u||!a){let p=!1;for(;h<o.length;){const y=o[h];if(y===s)return h;if(3===y||6===y)p=!0;else{if(1===y||2===y){let b=o[++h];for(;"string"==typeof b;)b=o[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=p?1:2}return-1}return function Xb(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const u=s[a];if("number"==typeof u)return-1;if(u===o)return a;a++}return-1}(o,s)}function RE(s,o,a=!1){for(let u=0;u<o.length;u++)if(ME(s,o[u],a))return!0;return!1}function kE(s,o){e:for(let a=0;a<o.length;a++){const u=o[a];if(s.length===u.length){for(let h=0;h<s.length;h++)if(s[h]!==u[h])continue e;return!0}}return!1}function ew(s,o){return s?":not("+o.trim()+")":o}function tw(s){let o=s[0],a=1,u=2,h="",p=!1;for(;a<s.length;){let y=s[a];if("string"==typeof y)if(2&u){const b=s[++a];h+="["+y+(b.length>0?'="'+b+'"':"")+"]"}else 8&u?h+="."+y:4&u&&(h+=" "+y);else""!==h&&!xo(y)&&(o+=ew(p,h),h=""),u=y,p=p||!xo(u);a++}return""!==h&&(o+=ew(p,h)),o}const en={};function nw(s){rw(rn(),Le(),jn()+s,!1)}function rw(s,o,a,u){if(!u)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&vo(o,p,a)}else{const p=s.preOrderHooks;null!==p&&bo(o,p,0,a)}is(a)}function Vf(s,o=null,a=null,u){const h=ow(s,o,a,u);return h.resolveInjectorInitializers(),h}function ow(s,o=null,a=null,u,h=new Set){const p=[a||Ft,eE(s)];return u=u||("object"==typeof s?void 0:pe(s)),new oy(p,o||Ag(),u||null,h)}let Ni=(()=>{class s{static create(a,u){if(Array.isArray(a))return Vf({name:""},u,a,"");{const h=a.name??"";return Vf({name:h},a.parent,a.providers,h)}}}return s.THROW_IF_NOT_FOUND=ls,s.NULL=new gb,s.\u0275prov=Jt({token:s,providedIn:"any",factory:()=>cn(fb)}),s.__NG_ELEMENT_ID__=-1,s})();function Mu(s,o=Ye.Default){const a=Le();return null===a?cn(s,o):Ea(Yn(),a,te(s),o)}function Xg(){throw new Error("invalid")}function Qs(s,o){return s<<17|o<<2}function Js(s){return s>>17&32767}function Ic(s){return 2|s}function ja(s){return(131068&s)>>2}function $f(s,o){return-131069&s|o<<2}function Hy(s){return 1|s}function bw(s,o){const a=s.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const h=a[u],p=a[u+1];if(-1!==p){const y=s.data[p];hl(h),y.contentQueries(2,o[p],p)}}}function Kd(s,o,a,u,h,p,y,b,I,N,P){const U=o.blueprint.slice();return U[0]=h,U[2]=76|u,(null!==P||s&&1024&s[2])&&(U[2]|=1024),Bo(U),U[3]=U[15]=s,U[8]=a,U[10]=y||s&&s[10],U[11]=b||s&&s[11],U[12]=I||s&&s[12]||null,U[9]=N||s&&s[9]||null,U[6]=p,U[20]=function hE(){return dE++}(),U[21]=P,U[16]=2==o.type?s[16]:U,U}function Yd(s,o,a,u,h){let p=s.data[o];if(null===p)p=Zf(s,o,a,u,h),function rc(){return Ut.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=u,p.attrs=h;const y=ga();p.injectorIndex=null===y?-1:y.injectorIndex}return jr(p,!0),p}function Zf(s,o,a,u,h){const p=Gs(),y=ma(),I=s.data[o]=function rI(s,o,a,u,h,p){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,a,o,u,h);return null===s.firstChild&&(s.firstChild=I),null!==p&&(y?null==p.child&&null!==I.parent&&(p.child=I):null===p.next&&(p.next=I)),I}function Ou(s,o,a,u){if(0===a)return-1;const h=o.length;for(let p=0;p<a;p++)o.push(u),s.blueprint.push(u),s.data.push(null);return h}function Yy(s,o,a){Zs(o);try{const u=s.viewQuery;null!==u&&tp(1,u,a);const h=s.template;null!==h&&rm(s,o,h,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&bw(s,o),s.staticViewQueries&&tp(2,s.viewQuery,a);const p=s.components;null!==p&&function ww(s,o){for(let a=0;a<o.length;a++)aI(s,o[a])}(o,p)}catch(u){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),u}finally{o[2]&=-5,Hi()}}function Ru(s,o,a,u){const h=o[2];if(128!=(128&h)){Zs(o);try{Bo(o),function $o(s){return Ut.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&rm(s,o,a,2,u);const y=3==(3&h);if(y){const N=s.preOrderCheckHooks;null!==N&&vo(o,N,null)}else{const N=s.preOrderHooks;null!==N&&bo(o,N,0,null),Ds(o,0)}if(function Nw(s){for(let o=jg(s);null!==o;o=$g(o)){if(!o[2])continue;const a=o[9];for(let u=0;u<a.length;u++){const h=a[u],p=h[3];0==(512&h[2])&&Kn(p,1),h[2]|=512}}}(o),function rv(s){for(let o=jg(s);null!==o;o=$g(o))for(let a=10;a<o.length;a++){const u=o[a],h=u[1];vs(u)&&Ru(h,u,h.template,u[8])}}(o),null!==s.contentQueries&&bw(s,o),y){const N=s.contentCheckHooks;null!==N&&vo(o,N)}else{const N=s.contentHooks;null!==N&&bo(o,N,1),Ds(o,1)}!function vw(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const h=a[u];if(h<0)is(~h);else{const p=h,y=a[++u],b=a[++u];ic(y,p),b(2,o[p])}}}finally{is(-1)}}(s,o);const b=s.components;null!==b&&function tI(s,o){for(let a=0;a<o.length;a++)xw(s,o[a])}(o,b);const I=s.viewQuery;if(null!==I&&tp(2,I,u),y){const N=s.viewCheckHooks;null!==N&&vo(o,N)}else{const N=s.viewHooks;null!==N&&bo(o,N,2),Ds(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,Kn(o[3],-1))}finally{Hi()}}}function rm(s,o,a,u,h){const p=jn(),y=2&u;try{is(-1),y&&o.length>22&&rw(s,o,22,!1),a(u,h)}finally{is(p)}}function sm(s,o,a){!Hs()||(function Yf(s,o,a,u){const h=a.directiveStart,p=a.directiveEnd;s.firstCreatePass||$r(a,o),wi(u,o);const y=a.initialInputs;for(let b=h;b<p;b++){const I=s.data[b],N=Yr(I);N&&nv(o,a,I);const P=Cs(o,s,b,a);wi(P,o),null!==y&&Sw(0,b-h,P,I,0,y),N&&(fn(a.index,o)[8]=P)}}(s,o,a,br(a,o)),128==(128&a.flags)&&function um(s,o,a){const u=a.directiveStart,h=a.directiveEnd,p=a.index,y=function fu(){return Ut.lFrame.currentDirectiveIndex}();try{is(p);for(let b=u;b<h;b++){const I=s.data[b],N=o[b];qs(b),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&Xy(I,N)}}finally{is(-1),qs(y)}}(s,o,a))}function Qy(s,o,a=br){const u=o.localNames;if(null!==u){let h=o.index+1;for(let p=0;p<u.length;p+=2){const y=u[p+1],b=-1===y?a(o,s):s[y];s[h++]=b}}}function Qd(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=om(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function om(s,o,a,u,h,p,y,b,I,N){const P=22+u,U=P+h,Q=function Dw(s,o){const a=[];for(let u=0;u<o;u++)a.push(u<s?null:en);return a}(P,U),ce="function"==typeof N?N():N;return Q[1]={type:s,blueprint:Q,template:a,queries:null,viewQuery:b,declTNode:o,data:Q.slice().fill(null,P),bindingStartIndex:P,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:I,consts:ce,incompleteFirstPass:!1}}function Cw(s,o,a,u){const h=Mw(o);null===a?h.push(u):(h.push(a),s.firstCreatePass&&iv(s).push(u,h.length-1))}function ku(s,o,a){for(let u in s)if(s.hasOwnProperty(u)){const h=s[u];(a=null===a?{}:a).hasOwnProperty(u)?a[u].push(o,h):a[u]=[o,h]}return a}function Ew(s,o){const u=o.directiveEnd,h=s.data,p=o.attrs,y=[];let b=null,I=null;for(let N=o.directiveStart;N<u;N++){const P=h[N],U=P.inputs,Q=null===p||Jb(o)?null:oI(U,p);y.push(Q),b=ku(U,N,b),I=ku(P.outputs,N,I)}null!==b&&(b.hasOwnProperty("class")&&(o.flags|=16),b.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=y,o.inputs=b,o.outputs=I}function ii(s,o,a,u,h,p,y,b){const I=br(o,a);let P,N=o.inputs;!b&&null!=N&&(P=N[u])?(Rl(s,a,P,u,h),ms(o)&&Jy(a,o.index)):3&o.type&&(u=function iI(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(u),h=null!=y?y(h,o.value||"",u):h,p.setProperty(I,u,h))}function Jy(s,o){const a=fn(o,s);16&a[2]||(a[2]|=32)}function cm(s,o,a,u){let h=!1;if(Hs()){const p=function ev(s,o,a){const u=s.directiveRegistry;let h=null;if(u)for(let p=0;p<u.length;p++){const y=u[p];RE(a,y.selectors,!1)&&(h||(h=[]),Yo($r(a,o),s,y.type),Yr(y)?(tv(s,a),h.unshift(y)):h.push(y))}return h}(s,o,a),y=null===u?null:{"":-1};if(null!==p){h=!0,dm(a,s.data.length,p.length);for(let P=0;P<p.length;P++){const U=p[P];U.providersResolver&&U.providersResolver(U)}let b=!1,I=!1,N=Ou(s,o,p.length,null);for(let P=0;P<p.length;P++){const U=p[P];a.mergedAttrs=Zo(a.mergedAttrs,U.hostAttrs),hm(s,a,o,N,U),Qf(N,U,y),null!==U.contentQueries&&(a.flags|=8),(null!==U.hostBindings||null!==U.hostAttrs||0!==U.hostVars)&&(a.flags|=128);const Q=U.type.prototype;!b&&(Q.ngOnChanges||Q.ngOnInit||Q.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),b=!0),!I&&(Q.ngOnChanges||Q.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),I=!0),N++}Ew(s,a)}y&&function Tw(s,o,a){if(o){const u=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=a[o[h+1]];if(null==p)throw new xe(-301,!1);u.push(o[h],p)}}}(a,u,y)}return a.mergedAttrs=Zo(a.mergedAttrs,a.attrs),h}function qi(s,o,a,u,h,p){const y=p.hostBindings;if(y){let b=s.hostBindingOpCodes;null===b&&(b=s.hostBindingOpCodes=[]);const I=~o.index;(function Iw(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(b)!=I&&b.push(I),b.push(u,h,y)}}function Xy(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function tv(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function Qf(s,o,a){if(a){if(o.exportAs)for(let u=0;u<o.exportAs.length;u++)a[o.exportAs[u]]=s;Yr(o)&&(a[""]=s)}}function dm(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function hm(s,o,a,u,h){s.data[u]=h;const p=h.factory||(h.factory=xr(h.type)),y=new vi(p,Yr(h),Mu);s.blueprint[u]=y,a[u]=y,qi(s,o,0,u,Ou(s,a,h.hostVars,en),h)}function nv(s,o,a){const u=br(o,s),h=Qd(a),p=s[10],y=ep(s,Kd(s,h,null,a.onPush?32:16,u,o,p,p.createRenderer(u,a),null,null,null));s[o.index]=y}function Pu(s,o,a,u,h,p,y){if(null==p)s.removeAttribute(o,h,a);else{const b=null==y?Ie(p):y(p,u||"",h);s.setAttribute(o,h,b,a)}}function Sw(s,o,a,u,h,p){const y=p[o];if(null!==y){const b=u.setInput;for(let I=0;I<y.length;){const N=y[I++],P=y[I++],U=y[I++];null!==b?u.setInput(a,U,N,P):a[P]=U}}}function oI(s,o){let a=null,u=0;for(;u<o.length;){const h=o[u];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,s[h],o[u+1])),u+=2}else u+=2;else u+=4}return a}function Jf(s,o,a,u){return new Array(s,!0,!1,o,null,0,u,a,null,null)}function xw(s,o){const a=fn(o,s);if(vs(a)){const u=a[1];48&a[2]?Ru(u,a,u.template,a[8]):a[5]>0&&fm(a)}}function fm(s){for(let u=jg(s);null!==u;u=$g(u))for(let h=10;h<u.length;h++){const p=u[h];if(vs(p))if(512&p[2]){const y=p[1];Ru(y,p,y.template,p[8])}else p[5]>0&&fm(p)}const a=s[1].components;if(null!==a)for(let u=0;u<a.length;u++){const h=fn(a[u],s);vs(h)&&h[5]>0&&fm(h)}}function aI(s,o){const a=fn(o,s),u=a[1];(function Xf(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(u,a),Yy(u,a,a[8])}function ep(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Jd(s){for(;s;){s[2]|=32;const o=Hd(s);if(Fo(s)&&!o)return s;s=o}return null}function Tc(s,o,a,u=!0){const h=o[10];h.begin&&h.begin();try{Ru(s,o,s.template,a)}catch(y){throw u&&Ow(o,y),y}finally{h.end&&h.end()}}function tp(s,o,a){hl(0),o(s,a)}function Mw(s){return s[7]||(s[7]=[])}function iv(s){return s.cleanup||(s.cleanup=[])}function Ow(s,o){const a=s[9],u=a?a.get(Mf,null):null;u&&u.handleError(o)}function Rl(s,o,a,u,h){for(let p=0;p<a.length;){const y=a[p++],b=a[p++],I=o[y],N=s.data[y];null!==N.setInput?N.setInput(I,h,u,b):I[b]=h}}function Fu(s,o,a){let u=a?s.styles:null,h=a?s.classes:null,p=0;if(null!==o)for(let y=0;y<o.length;y++){const b=o[y];"number"==typeof b?p=b:1==p?h=Ce(h,b):2==p&&(u=Ce(u,b+": "+o[++y]+";"))}a?s.styles=u:s.stylesWithoutHost=u,a?s.classes=h:s.classesWithoutHost=h}function Lu(s,o,a,u,h=!1){for(;null!==a;){const p=o[a.index];if(null!==p&&u.push(In(p)),fi(p))for(let b=10;b<p.length;b++){const I=p[b],N=I[1].firstChild;null!==N&&Lu(I[1],I,N,u)}const y=a.type;if(8&y)Lu(s,o,a.child,u);else if(32&y){const b=Cy(a,o);let I;for(;I=b();)u.push(I)}else if(16&y){const b=My(o,a);if(Array.isArray(b))u.push(...b);else{const I=Hd(o[16]);Lu(I[1],I,b,u,!0)}}a=h?a.projectionNext:a.next}return u}class eh{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return Lu(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(fi(o)){const a=o[8],u=a?a.indexOf(this):-1;u>-1&&(Sy(o,u),ur(a,u))}this._attachedToViewContainer=!1}kf(this._lView[1],this._lView)}onDestroy(o){Cw(this._lView[1],this._lView,null,o)}markForCheck(){Jd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Tc(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function jb(s,o){Au(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new xe(902,!1);this._appRef=o}}class mr extends eh{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Tc(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class th extends wc{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=F(o);return new rh(a,this.ngModule)}}function nh(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class lI{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,u){const h=this.injector.get(o,dy,u);return h!==dy||a===dy?h:this.parentInjector.get(o,a,u)}}class rh extends cy{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function PE(s){return s.map(tw).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return nh(this.componentDef.inputs)}get outputs(){return nh(this.componentDef.outputs)}create(o,a,u,h){let p=(h=h||this.ngModule)instanceof La?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new lI(o,p):o,b=y.get(iE,null);if(null===b)throw new xe(407,!1);const I=y.get(uy,null),N=b.createRenderer(null,this.componentDef),P=this.componentDef.selectors[0][0]||"div",U=u?function am(s,o,a){return s.selectRootElement(o,a===Ze.ShadowDom)}(N,u,this.componentDef.encapsulation):Hg(N,P,function np(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(P)),Q=this.componentDef.onPush?288:272,ce=om(0,null,null,1,0,null,null,null,null,null),Me=Kd(null,ce,null,Q,null,null,b,N,I,y,null);let ze,it;Zs(Me);try{const Dt=function rp(s,o,a,u,h,p){const y=a[1];a[22]=s;const I=Yd(y,22,2,"#host",null),N=I.mergedAttrs=o.hostAttrs;null!==N&&(Fu(I,N,!0),null!==s&&(os(h,s,N),null!==I.classes&&Lf(h,s,I.classes),null!==I.styles&&Nu(h,s,I.styles)));const P=u.createRenderer(s,o),U=Kd(a,Qd(o),null,o.onPush?32:16,a[22],I,u,P,p||null,null,null);return y.firstCreatePass&&(Yo($r(I,a),y,o.type),tv(y,I),dm(I,a.length,1)),ep(a,U),a[22]=U}(U,this.componentDef,Me,b,N);if(U)if(u)os(N,U,["ng-version",Tb.full]);else{const{attrs:Pt,classes:Ue}=function FE(s){const o=[],a=[];let u=1,h=2;for(;u<s.length;){let p=s[u];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++u]):8===h&&a.push(p);else{if(!xo(h))break;h=p}u++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);Pt&&os(N,U,Pt),Ue&&Ue.length>0&&Lf(N,U,Ue.join(" "))}if(it=ys(ce,22),void 0!==a){const Pt=it.projection=[];for(let Ue=0;Ue<this.ngContentSelectors.length;Ue++){const Gt=a[Ue];Pt.push(null!=Gt?Array.from(Gt):null)}}ze=function Sc(s,o,a,u){const h=a[1],p=function Kf(s,o,a){const u=Yn();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),hm(s,u,o,Ou(s,o,1,null),a),Ew(s,u));const h=Cs(o,s,u.directiveStart,u);wi(h,o);const p=br(u,o);return p&&wi(p,o),h}(h,a,o);if(s[8]=a[8]=p,null!==u)for(const b of u)b(p,o);if(o.contentQueries){const b=Yn();o.contentQueries(1,p,b.directiveStart)}const y=Yn();return!h.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(is(y.index),qi(a[1],y,0,y.directiveStart,y.directiveEnd,o),Xy(o,p)),p}(Dt,this.componentDef,Me,[Rw]),Yy(ce,Me,null)}finally{Hi()}return new uI(this.componentType,ze,Vd(it,Me),Me,it)}}class uI extends class wb{}{constructor(o,a,u,h,p){super(),this.location=u,this._rootLView=h,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new mr(h),this.componentType=o}setInput(o,a){const u=this._tNode.inputs;let h;if(null!==u&&(h=u[o])){const p=this._rootLView;Rl(p[1],p,h,o,a),Jy(p,this._tNode.index)}}get injector(){return new Ta(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function Rw(){const s=Yn();_a(Le()[1],s)}function pm(s){let o=function ov(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const u=[s];for(;o;){let h;if(Yr(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new xe(903,!1);h=o.\u0275dir}if(h){if(a){u.push(h);const y=s;y.inputs=av(s.inputs),y.declaredInputs=av(s.declaredInputs),y.outputs=av(s.outputs);const b=h.hostBindings;b&&hI(s,b);const I=h.viewQuery,N=h.contentQueries;if(I&&dI(s,I),N&&kw(s,N),he(s.inputs,h.inputs),he(s.declaredInputs,h.declaredInputs),he(s.outputs,h.outputs),Yr(h)&&h.data.animation){const P=s.data;P.animation=(P.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let y=0;y<p.length;y++){const b=p[y];b&&b.ngInherit&&b(s),b===pm&&(a=!1)}}o=Object.getPrototypeOf(o)}!function ih(s){let o=0,a=null;for(let u=s.length-1;u>=0;u--){const h=s[u];h.hostVars=o+=h.hostVars,h.hostAttrs=Zo(h.hostAttrs,a=Zo(a,h.hostAttrs))}}(u)}function av(s){return s===Pr?{}:s===Ft?[]:s}function dI(s,o){const a=s.viewQuery;s.viewQuery=a?(u,h)=>{o(u,h),a(u,h)}:o}function kw(s,o){const a=s.contentQueries;s.contentQueries=a?(u,h,p)=>{o(u,h,p),a(u,h,p)}:o}function hI(s,o){const a=s.hostBindings;s.hostBindings=a?(u,h)=>{o(u,h),a(u,h)}:o}let sh=null;function Ac(){if(!sh){const s=Lt.Symbol;if(s&&s.iterator)sh=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const u=o[a];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(sh=u)}}}return sh}function Vu(s){return!!cv(s)&&(Array.isArray(s)||!(s instanceof Map)&&Ac()in s)}function cv(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function As(s,o,a){return s[o]=a}function Ei(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function xc(s,o,a,u){const h=Ei(s,o,a);return Ei(s,o+1,u)||h}function uv(s,o,a,u){const h=Le();return Ei(h,Ho(),o)&&(rn(),function Xs(s,o,a,u,h,p){const y=br(s,o);Pu(o[11],y,p,s.value,a,u,h)}(Pn(),h,s,o,a,u)),uv}function Bu(s,o,a,u){return Ei(s,Ho(),a)?o+Ie(a)+u:en}function Vw(s,o,a,u,h,p,y,b){const I=Le(),N=rn(),P=s+22,U=N.firstCreatePass?function ym(s,o,a,u,h,p,y,b,I){const N=o.consts,P=Yd(o,s,4,y||null,mi(N,b));cm(o,a,P,mi(N,I)),_a(o,P);const U=P.tViews=om(2,P,u,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,N);return null!==o.queries&&(o.queries.template(o,P),U.queries=o.queries.embeddedTView(P)),P}(P,N,I,o,a,u,h,p,y):N.data[P];jr(U,!1);const Q=I[11].createComment("");zg(N,I,Q,U),wi(Q,I),ep(I,I[P]=Jf(Q,I,Q,U)),uo(U)&&sm(N,I,U),null!=y&&Qy(I,U,b)}function uh(s){return Ui(function zs(){return Ut.lFrame.contextLView}(),22+s)}function vm(s,o,a){const u=Le();return Ei(u,Ho(),o)&&ii(rn(),Pn(),u,s,o,u[11],a,!1),vm}function bm(s,o,a,u,h){const y=h?"class":"style";Rl(s,a,o.inputs[y],y,u)}function dh(s,o,a,u){const h=Le(),p=rn(),y=22+s,b=h[11],I=h[y]=Hg(b,o,function _l(){return Ut.lFrame.currentNamespace}()),N=p.firstCreatePass?function gv(s,o,a,u,h,p,y){const b=o.consts,N=Yd(o,s,2,h,mi(b,p));return cm(o,a,N,mi(b,y)),null!==N.attrs&&Fu(N,N.attrs,!1),null!==N.mergedAttrs&&Fu(N,N.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,N),N}(y,p,h,0,o,a,u):p.data[y];jr(N,!0);const P=N.mergedAttrs;null!==P&&os(b,I,P);const U=N.classes;null!==U&&Lf(b,I,U);const Q=N.styles;return null!==Q&&Nu(b,I,Q),64!=(64&N.flags)&&zg(p,h,I,N),0===function ji(){return Ut.lFrame.elementDepthCount}()&&wi(I,h),function nc(){Ut.lFrame.elementDepthCount++}(),uo(N)&&(sm(p,h,N),function im(s,o,a){if(co(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const y=s.data[p];y.contentQueries&&y.contentQueries(1,a[p],p)}}}(p,N,h)),null!==u&&Qy(h,N),dh}function sp(){let s=Yn();ma()?Ws():(s=s.parent,jr(s,!1));const o=s;!function Uo(){Ut.lFrame.elementDepthCount--}();const a=rn();return a.firstCreatePass&&(_a(a,s),co(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function va(s){return 0!=(16&s.flags)}(o)&&bm(a,o,Le(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function ba(s){return 0!=(32&s.flags)}(o)&&bm(a,o,Le(),o.stylesWithoutHost,!1),sp}function hh(s,o,a,u){return dh(s,o,a,u),sp(),hh}function _v(){return Le()}function Dm(s){return!!s&&"function"==typeof s.then}function yv(s){return!!s&&"function"==typeof s.subscribe}const op=yv;function cs(s,o,a,u){const h=Le(),p=rn(),y=Yn();return function Hu(s,o,a,u,h,p,y,b){const I=uo(u),P=s.firstCreatePass&&iv(s),U=o[8],Q=Mw(o);let ce=!0;if(3&u.type||b){const it=br(u,o),Dt=b?b(it):it,Pt=Q.length,Ue=b?Sn=>b(In(Sn[u.index])):u.index;let Gt=null;if(!b&&I&&(Gt=function jw(s,o,a,u){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const y=h[p];if(y===a&&h[p+1]===u){const b=o[7],I=h[p+2];return b.length>I?b[I]:null}"string"==typeof y&&(p+=2)}return null}(s,o,h,u.index)),null!==Gt)(Gt.__ngLastListenerFn__||Gt).__ngNextListenerFn__=p,Gt.__ngLastListenerFn__=p,ce=!1;else{p=Hw(u,o,U,p,!1);const Sn=a.listen(Dt,h,p);Q.push(p,Sn),P&&P.push(h,Ue,Pt,Pt+1)}}else p=Hw(u,o,U,p,!1);const Me=u.outputs;let ze;if(ce&&null!==Me&&(ze=Me[h])){const it=ze.length;if(it)for(let Dt=0;Dt<it;Dt+=2){const yr=o[ze[Dt]][ze[Dt+1]].subscribe(p),Hl=Q.length;Q.push(p,yr),P&&P.push(h,u.index,Hl,-(Hl+1))}}}(p,h,h[11],y,s,o,0,u),cs}function $w(s,o,a,u){try{return!1!==a(u)}catch(h){return Ow(s,h),!1}}function Hw(s,o,a,u,h){return function p(y){if(y===Function)return u;Jd(2&s.flags?fn(s.index,o):o);let I=$w(o,0,u,y),N=p.__ngNextListenerFn__;for(;N;)I=$w(o,0,N,y)&&I,N=N.__ngNextListenerFn__;return h&&!1===I&&(y.preventDefault(),y.returnValue=!1),I}}function Cm(s=1){return function ws(s){return(Ut.lFrame.contextLView=function sc(s,o){for(;s>0;)o=o[15],s--;return o}(s,Ut.lFrame.contextLView))[8]}(s)}function mI(s,o){let a=null;const u=function Zg(s){const o=s.attrs;if(null!=o){const a=o.indexOf(5);if(0==(1&a))return o[a+1]}return null}(s);for(let h=0;h<o.length;h++){const p=o[h];if("*"!==p){if(null===u?RE(s,p,!0):kE(u,p))return h}else a=h}return a}function Gw(s){const o=Le()[16][6];if(!o.projection){const u=o.projection=Xo(s?s.length:1,null),h=u.slice();let p=o.child;for(;null!==p;){const y=s?mI(p,s):0;null!==y&&(h[y]?h[y].projectionNext=p:u[y]=p,h[y]=p),p=p.next}}}function bv(s,o=0,a){const u=Le(),h=rn(),p=Yd(h,22+s,16,null,a||null);null===p.projection&&(p.projection=o),Ws(),64!=(64&p.flags)&&function Yb(s,o,a){Ff(o[11],0,o,a,Hb(s,a,o),Dr(a.parent||o[6],a,o))}(h,u,p)}function wv(s,o,a){return Gu(s,"",o,"",a),wv}function Gu(s,o,a,u,h){const p=Le(),y=Bu(p,o,a,u);return y!==en&&ii(rn(),Pn(),p,s,y,p[11],h,!1),Gu}function bt(s,o,a,u,h){const p=s[a+1],y=null===o;let b=u?Js(p):ja(p),I=!1;for(;0!==b&&(!1===I||y);){const P=s[b+1];Ht(s[b],o)&&(I=!0,s[b+1]=u?Hy(P):Ic(P)),b=u?Js(P):ja(P)}I&&(s[a+1]=u?Ic(p):Hy(p))}function Ht(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Is(s,o)>=0}const oi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ct(s){return s.substring(oi.key,oi.keyEnd)}function zr(s,o){const a=oi.textEnd;return a===o?-1:(o=oi.keyEnd=function _I(s,o,a){for(;o<a&&s.charCodeAt(o)>32;)o++;return o}(s,oi.key=o,a),fh(s,o,a))}function fh(s,o,a){for(;o<a&&s.charCodeAt(o)<=32;)o++;return o}function Im(s,o,a){return ds(s,o,a,!1),Im}function Kt(s,o){return ds(s,o,null,!0),Kt}function fr(s){!function tn(s,o,a,u){const h=rn(),p=_i(2);h.firstUpdatePass&&Cr(h,null,p,u);const y=Le();if(a!==en&&Ei(y,p,a)){const b=h.data[jn()];if(Av(b,u)&&!Qw(h,p)){let I=u?b.classesWithoutHost:b.stylesWithoutHost;null!==I&&(a=Ce(I,a||"")),bm(h,b,y,a,u)}else!function Jw(s,o,a,u,h,p,y,b){h===en&&(h=Ft);let I=0,N=0,P=0<h.length?h[0]:null,U=0<p.length?p[0]:null;for(;null!==P||null!==U;){const Q=I<h.length?h[I+1]:void 0,ce=N<p.length?p[N+1]:void 0;let ze,Me=null;P===U?(I+=2,N+=2,Q!==ce&&(Me=U,ze=ce)):null===U||null!==P&&P<U?(I+=2,Me=P):(N+=2,Me=U,ze=ce),null!==Me&&Sv(s,o,a,u,Me,ze,y,b),P=I<h.length?h[I]:null,U=N<p.length?p[N]:null}}(h,b,y,y[11],y[p+1],y[p+1]=function wI(s,o,a){if(null==a||""===a)return Ft;const u=[],h=So(a);if(Array.isArray(h))for(let p=0;p<h.length;p++)s(u,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&s(u,p,h[p]);else"string"==typeof h&&o(u,h);return u}(s,o,a),u,p)}}(mt,Nt,s,!0)}function Nt(s,o){for(let a=function He(s){return function Kw(s){oi.key=0,oi.keyEnd=0,oi.value=0,oi.valueEnd=0,oi.textEnd=s.length}(s),zr(s,fh(s,0,oi.textEnd))}(o);a>=0;a=zr(o,a))mt(s,ct(o),!0)}function ds(s,o,a,u){const h=Le(),p=rn(),y=_i(2);p.firstUpdatePass&&Cr(p,s,y,u),o!==en&&Ei(h,y,o)&&Sv(p,p.data[jn()],h,h[11],s,h[y+1]=function Xw(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=pe(So(s)))),s}(o,a),u,y)}function Qw(s,o){return o>=s.expandoStartIndex}function Cr(s,o,a,u){const h=s.data;if(null===h[a+1]){const p=h[jn()],y=Qw(s,a);Av(p,u)&&null===o&&!y&&(o=!1),o=function at(s,o,a,u){const h=function dl(s){const o=Ut.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let p=u?o.residualClasses:o.residualStyles;if(null===h)0===(u?o.classBindings:o.styleBindings)&&(a=Oc(a=Tv(null,s,o,a,u),o.attrs,u),p=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==h)if(a=Tv(h,s,o,a,u),null===p){let I=function Tm(s,o,a){const u=a?o.classBindings:o.styleBindings;if(0!==ja(u))return s[Js(u)]}(s,o,u);void 0!==I&&Array.isArray(I)&&(I=Tv(null,s,o,I[1],u),I=Oc(I,o.attrs,u),function Iv(s,o,a,u){s[Js(a?o.classBindings:o.styleBindings)]=u}(s,o,u,I))}else p=function qu(s,o,a){let u;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)u=Oc(u,s[p].hostAttrs,a);return Oc(u,o.attrs,a)}(s,o,u)}return void 0!==p&&(u?o.residualClasses=p:o.residualStyles=p),a}(h,p,o,u),function zu(s,o,a,u,h,p){let y=p?o.classBindings:o.styleBindings,b=Js(y),I=ja(y);s[u]=a;let P,N=!1;if(Array.isArray(a)){const U=a;P=U[1],(null===P||Is(U,P)>0)&&(N=!0)}else P=a;if(h)if(0!==I){const Q=Js(s[b+1]);s[u+1]=Qs(Q,b),0!==Q&&(s[Q+1]=$f(s[Q+1],u)),s[b+1]=function WE(s,o){return 131071&s|o<<17}(s[b+1],u)}else s[u+1]=Qs(b,0),0!==b&&(s[b+1]=$f(s[b+1],u)),b=u;else s[u+1]=Qs(I,0),0===b?b=u:s[I+1]=$f(s[I+1],u),I=u;N&&(s[u+1]=Ic(s[u+1])),bt(s,P,u,!0),bt(s,P,u,!1),function Cv(s,o,a,u,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&Is(p,o)>=0&&(a[u+1]=Hy(a[u+1]))}(o,P,s,u,p),y=Qs(b,I),p?o.classBindings=y:o.styleBindings=y}(h,p,o,a,y,u)}}function Tv(s,o,a,u,h){let p=null;const y=a.directiveEnd;let b=a.directiveStylingLast;for(-1===b?b=a.directiveStart:b++;b<y&&(p=o[b],u=Oc(u,p.hostAttrs,h),p!==s);)b++;return null!==s&&(a.directiveStylingLast=b),u}function Oc(s,o,a){const u=a?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const y=o[p];"number"==typeof y?h=y:h===u&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),mt(s,y,!!a||o[++p]))}return void 0===s?null:s}function Sv(s,o,a,u,h,p,y,b){if(!(3&o.type))return;const I=s.data,N=I[b+1];gh(function $y(s){return 1==(1&s)}(N)?Ns(I,o,a,h,ja(N),y):void 0)||(gh(p)||function lw(s){return 2==(2&s)}(N)&&(p=Ns(I,null,a,h,b,y)),function Qb(s,o,a,u,h){if(o)h?s.addClass(a,u):s.removeClass(a,u);else{let p=-1===u.indexOf("-")?void 0:Va.DashCase;null==h?s.removeStyle(a,u,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=Va.Important),s.setStyle(a,u,h,p))}}(u,y,Si(jn(),a),h,p))}function Ns(s,o,a,u,h,p){const y=null===o;let b;for(;h>0;){const I=s[h],N=Array.isArray(I),P=N?I[1]:I,U=null===P;let Q=a[h+1];Q===en&&(Q=U?Ft:void 0);let ce=U?bu(Q,u):P===u?Q:void 0;if(N&&!gh(ce)&&(ce=bu(I,u)),gh(ce)&&(b=ce,y))return b;const Me=s[h+1];h=y?Js(Me):ja(Me)}if(null!==o){let I=p?o.residualClasses:o.residualStyles;null!=I&&(b=bu(I,u))}return b}function gh(s){return void 0!==s}function Av(s,o){return 0!=(s.flags&(o?16:32))}function Ll(s,o=""){const a=Le(),u=rn(),h=s+22,p=u.firstCreatePass?Yd(u,h,1,o,null):u.data[h],y=a[h]=Iy(a[11],o);zg(u,a,y,p),jr(p,!1)}function ap(s){return _e("",s,""),ap}function _e(s,o,a){const u=Le(),h=Bu(u,s,o,a);return h!==en&&function xi(s,o,a){const u=Si(o,s);Bb(s[11],u,a)}(u,jn(),h),_e}function Nm(s,o,a){const u=Le();return Ei(u,Ho(),o)&&ii(rn(),Pn(),u,s,o,u[11],a,!0),Nm}const Ga=void 0;var Wa=["en",[["a","p"],["AM","PM"],Ga],[["AM","PM"],Ga,Ga],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ga,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ga,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ga,"{1} 'at' {0}",Ga],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ku(s){const a=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let za={};function xm(s){const o=function aD(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=Fc(o);if(a)return a;const u=o.split("-")[0];if(a=Fc(u),a)return a;if("en"===u)return Wa;throw new xe(701,!1)}function Mm(s){return xm(s)[kt.PluralCase]}function Fc(s){return s in za||(za[s]=Lt.ng&&Lt.ng.common&&Lt.ng.common.locales&&Lt.ng.common.locales[s]),za[s]}var kt=(()=>((kt=kt||{})[kt.LocaleId=0]="LocaleId",kt[kt.DayPeriodsFormat=1]="DayPeriodsFormat",kt[kt.DayPeriodsStandalone=2]="DayPeriodsStandalone",kt[kt.DaysFormat=3]="DaysFormat",kt[kt.DaysStandalone=4]="DaysStandalone",kt[kt.MonthsFormat=5]="MonthsFormat",kt[kt.MonthsStandalone=6]="MonthsStandalone",kt[kt.Eras=7]="Eras",kt[kt.FirstDayOfWeek=8]="FirstDayOfWeek",kt[kt.WeekendRange=9]="WeekendRange",kt[kt.DateFormat=10]="DateFormat",kt[kt.TimeFormat=11]="TimeFormat",kt[kt.DateTimeFormat=12]="DateTimeFormat",kt[kt.NumberSymbols=13]="NumberSymbols",kt[kt.NumberFormats=14]="NumberFormats",kt[kt.CurrencyCode=15]="CurrencyCode",kt[kt.CurrencySymbol=16]="CurrencySymbol",kt[kt.CurrencyName=17]="CurrencyName",kt[kt.Currencies=18]="Currencies",kt[kt.Directionality=19]="Directionality",kt[kt.PluralCase=20]="PluralCase",kt[kt.ExtraData=21]="ExtraData",kt))();const lD=["zero","one","two","few","many"],qa="en-US",Rm={marker:"element"},km={marker:"ICU"};var Ir=(()=>((Ir=Ir||{})[Ir.SHIFT=2]="SHIFT",Ir[Ir.APPEND_EAGERLY=1]="APPEND_EAGERLY",Ir[Ir.COMMENT=2]="COMMENT",Ir))();let Ii=qa;function Ov(s){(function Qt(s,o){null==s&&tt(o,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(Ii=s.toLowerCase().replace(/_/g,"-"))}function uD(s,o,a){const u=o.insertBeforeIndex,h=Array.isArray(u)?u[0]:u;return null===h?Zb(s,0,a):In(a[h])}function Rv(s,o,a,u,h){const p=o.insertBeforeIndex;if(Array.isArray(p)){let y=u,b=null;if(3&o.type||(b=y,y=h),null!==y&&0==(2&o.flags))for(let I=1;I<p.length;I++)Ba(s,y,a[p[I]],b,!1)}}function Lc(s,o){if(s.push(o),s.length>1)for(let a=s.length-2;a>=0;a--){const u=s[a];dD(u)||up(u,o)&&null===Pm(u)&&Fm(u,o.index)}}function dD(s){return!(64&s.type)}function up(s,o){return dD(o)||s.index>o.index}function Pm(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function Fm(s,o){const a=s.insertBeforeIndex;Array.isArray(a)?a[0]=o:(Pf(uD,Rv),s.insertBeforeIndex=o)}function wh(s,o){const a=s.data[o];return null===a||"string"==typeof a?null:a.hasOwnProperty("currentCaseLViewIndex")?a:a.value}function SI(s,o,a){const u=Zf(s,a,64,null,null);return Lc(o,u),u}function Lm(s,o){const a=o[s.currentCaseLViewIndex];return null===a?a:a<0?~a:a}function fD(s){return s>>>17}function kv(s){return(131070&s)>>>1}let dp=0,hp=0;function Pv(s,o,a,u){const h=a[11];let y,p=null;for(let b=0;b<o.length;b++){const I=o[b];if("string"==typeof I){const N=o[++b];null===a[N]&&(a[N]=Iy(h,I))}else if("number"==typeof I)switch(1&I){case 0:const N=fD(I);let P,U;if(null===p&&(p=N,y=Wg(h,u)),N===p?(P=u,U=y):(P=null,U=In(a[N])),null!==U){const ze=kv(I);Ba(h,U,a[ze],P,!1);const Dt=wh(s,ze);if(null!==Dt&&"object"==typeof Dt){const Pt=Lm(Dt,a);null!==Pt&&Pv(s,Dt.create[Pt],a,a[Dt.anchorIdx])}}break;case 1:const ce=o[++b],Me=o[++b];Pu(h,Si(I>>>1,a),null,null,ce,Me,null)}else switch(I){case km:const N=o[++b],P=o[++b];null===a[P]&&wi(a[P]=CE(h,N),a);break;case Rm:const U=o[++b],Q=o[++b];null===a[Q]&&wi(a[Q]=Hg(h,U,null),a)}}}function Fv(s,o,a,u,h){for(let p=0;p<a.length;p++){const y=a[p],b=a[++p];if(y&h){let I="";for(let N=p+1;N<=p+b;N++){const P=a[N];if("string"==typeof P)I+=P;else if("number"==typeof P)if(P<0)I+=Ie(o[u-P]);else{const U=P>>>2;switch(3&P){case 1:const Q=a[++N],ce=a[++N],Me=s.data[U];"string"==typeof Me?Pu(o[11],o[U],null,Me,Q,I,ce):ii(s,Me,o,Q,I,o[11],ce,!1);break;case 0:const ze=o[U];null!==ze&&Bb(o[11],ze,I);break;case 2:gD(s,wh(s,U),o,I);break;case 3:Za(s,wh(s,U),u,o)}}}}else{const I=a[p+1];if(I>0&&3==(3&I)){const P=wh(s,I>>>2);o[P.currentCaseLViewIndex]<0&&Za(s,P,u,o)}}p+=b}}function Za(s,o,a,u){let h=u[o.currentCaseLViewIndex];if(null!==h){let p=dp;h<0&&(h=u[o.currentCaseLViewIndex]=~h,p=-1),Fv(s,u,o.update[h],a,p)}}function gD(s,o,a,u){const h=function mD(s,o){let a=s.cases.indexOf(o);if(-1===a)switch(s.type){case 1:{const u=function Om(s,o){const a=Mm(o)(parseInt(s,10)),u=lD[a];return void 0!==u?u:"other"}(o,function lr(){return Ii}());a=s.cases.indexOf(u),-1===a&&"other"!==u&&(a=s.cases.indexOf("other"));break}case 0:a=s.cases.indexOf("other")}return-1===a?null:a}(o,u);if(Lm(o,a)!==h&&(Qu(s,o,a),a[o.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const y=a[o.anchorIdx];y&&Pv(s,o.create[h],a,y)}}function Qu(s,o,a){let u=Lm(o,a);if(null!==u){const h=o.remove[u];for(let p=0;p<h.length;p++){const y=h[p];if(y>0){const b=Si(y,a);null!==b&&SE(a[11],b)}else Qu(s,wh(s,~y),a)}}}function Lv(){const s=[];let a,u,o=-1;function p(b,I){o=0;const N=Lm(b,I);u=null!==N?b.remove[N]:Ft}function y(){if(o<u.length){const b=u[o++];return b>0?a[b]:(s.push(o,u),p(a[1].data[~b],a),y())}return 0===s.length?null:(u=s.pop(),o=s.pop(),y())}return function h(b,I){for(a=I;s.length;)s.pop();return p(b.value,I),y}}const Bc=/\ufffd(\d+):?\d*\ufffd/gi,Vv=/\ufffd(\d+)\ufffd/,Vm=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,bD=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,xI=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,wD=/\uE500/g;function gp(s,o,a,u,h,p,y){const b=Ou(s,u,1,null);let I=b<<Ir.SHIFT,N=ga();o===N&&(N=null),null===N&&(I|=Ir.APPEND_EAGERLY),y&&(I|=Ir.COMMENT,function wE(s){void 0===Dy&&(Dy=s())}(Lv)),h.push(I,null===p?"":p);const P=Zf(s,b,y?32:1,null===p?"":p,null);Lc(a,P);const U=P.index;return jr(P,!1),null!==N&&o!==N&&function Oi(s,o){let a=s.insertBeforeIndex;null===a?(Pf(uD,Rv),a=s.insertBeforeIndex=[null,o]):(function be(s,o,a){s!=o&&tt(a,s,o,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(o))}(N,U),P}function MI(s,o,a,u,h,p,y){const b=y.match(Bc),I=gp(s,o,a,p,u,b?null:y,!1);b&&Eh(h,y,I.index,null,0,null)}function Eh(s,o,a,u,h,p){const y=s.length,b=y+1;s.push(null,null);const I=y+2,N=o.split(Bc);let P=0;for(let U=0;U<N.length;U++){const Q=N[U];if(1&U){const ce=h+parseInt(Q,10);s.push(-1-ce),P|=Uc(ce)}else""!==Q&&s.push(Q)}return s.push(a<<2|(u?1:0)),u&&s.push(u,p),s[y]=P,s[b]=s.length-I,P}function Uc(s){return 1<<Math.min(s,31)}function jc(s){let o,p,a="",u=0,h=!1;for(;null!==(o=bD.exec(s));)h?o[0]===`\ufffd/*${p}\ufffd`&&(u=o.index,h=!1):(a+=s.substring(u,o.index+o[0].length),p=o[1],h=!0);return a+=s.slice(u),a}function Ju(s,o,a,u,h,p){let y=0;const b={type:h.type,currentCaseLViewIndex:Ou(s,o,1,null),anchorIdx:p,cases:[],create:[],remove:[],update:[]};(function Um(s,o,a){s.push(Uc(o.mainBinding),2,-1-o.mainBinding,a<<2|2)})(a,h,p),function hD(s,o,a){const u=s.data[o];null===u?s.data[o]=a:u.value=a}(s,p,b);const I=h.values;for(let N=0;N<I.length;N++){const P=I[N],U=[];for(let Q=0;Q<P.length;Q++){const ce=P[Q];if("string"!=typeof ce){const Me=U.push(ce)-1;P[Q]=`\x3c!--\ufffd${Me}\ufffd--\x3e`}}y=mp(s,b,o,a,u,h.cases[N],P.join(""),U)|y}y&&function jm(s,o,a){s.push(o,1,a<<2|3)}(a,y,p)}function TD(s){const o=[],a=[];let u=1,h=0;const p=Bm(s=s.replace(Vm,function(y,b,I){return u="select"===I?0:1,h=parseInt(b.slice(1),10),""}));for(let y=0;y<p.length;){let b=p[y++].trim();1===u&&(b=b.replace(/\s*(?:=)?(\w+)\s*/,"$1")),b.length&&o.push(b);const I=Bm(p[y++]);o.length>a.length&&a.push(I)}return{type:u,mainBinding:h,cases:o,values:a}}function Bm(s){if(!s)return[];let o=0;const a=[],u=[],h=/[{}]/g;let p;for(h.lastIndex=0;p=h.exec(s);){const b=p.index;if("}"==p[0]){if(a.pop(),0==a.length){const I=s.substring(o,b);Vm.test(I)?u.push(TD(I)):u.push(I),o=b+1}}else{if(0==a.length){const I=s.substring(o,b);u.push(I),o=b+1}a.push("{")}}const y=s.substring(o);return u.push(y),u}function mp(s,o,a,u,h,p,y,b){const I=[],N=[],P=[];o.cases.push(p),o.create.push(I),o.remove.push(N),o.update.push(P);const Q=function Cf(s){const o=new ty(s);return function v(){try{return!!(new window.DOMParser).parseFromString(oa(""),"text/html")}catch{return!1}}()?new ey(o):o}(function Nd(){return void 0!==_f?_f:typeof document<"u"?document:void 0}()).getInertBodyElement(y),ce=function ka(s){return"content"in s&&function ny(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}(Q)||Q;return ce?SD(s,o,a,u,I,N,P,ce,h,b,0):0}function SD(s,o,a,u,h,p,y,b,I,N,P){let U=0,Q=b.firstChild;for(;Q;){const ce=Ou(s,a,1,null);switch(Q.nodeType){case Node.ELEMENT_NODE:const Me=Q,ze=Me.tagName.toLowerCase();if(Nn.hasOwnProperty(ze)){$m(h,Rm,ze,I,ce),s.data[ce]=ze;const Ue=Me.attributes;for(let Gt=0;Gt<Ue.length;Gt++){const Sn=Ue.item(Gt),yr=Sn.name.toLowerCase();Sn.value.match(Bc)?kd.hasOwnProperty(yr)&&Eh(y,Sn.value,ce,Sn.name,0,bi[yr]?m:null):RI(h,ce,Sn)}U=SD(s,o,a,u,h,p,y,Q,ce,N,P+1)|U,AD(p,ce,P)}break;case Node.TEXT_NODE:const it=Q.textContent||"",Dt=it.match(Bc);$m(h,null,Dt?"":it,I,ce),AD(p,ce,P),Dt&&(U=Eh(y,it,ce,null,0,null)|U);break;case Node.COMMENT_NODE:const Pt=Vv.exec(Q.textContent||"");if(Pt){const Gt=N[parseInt(Pt[1],10)];$m(h,km,"",I,ce),Ju(s,a,u,I,Gt,ce),_r(p,ce,P)}}Q=Q.nextSibling}return U}function AD(s,o,a){0===a&&s.push(o)}function _r(s,o,a){0===a&&(s.push(~o),s.push(o))}function $m(s,o,a,u,h){null!==o&&s.push(o),s.push(a,h,function AI(s,o,a){return s|o<<17|a<<1}(0,u,h))}function RI(s,o,a){s.push(o<<1|1,a.name,a.value)}function Hm(s,o,a=-1){const u=rn(),h=Le(),p=22+s,y=mi(u.consts,o),b=ga();u.firstCreatePass&&function CD(s,o,a,u,h,p){const y=ga(),b=[],I=[],N=[[]];h=function ID(s,o){if(function ED(s){return-1===s}(o))return jc(s);{const a=s.indexOf(`:${o}\ufffd`)+2+o.toString().length,u=s.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return jc(s.substring(a,u))}}(h,p);const P=function DD(s){return s.replace(wD," ")}(h).split(xI);for(let U=0;U<P.length;U++){let Q=P[U];if(0==(1&U)){const ce=Bm(Q);for(let Me=0;Me<ce.length;Me++){let ze=ce[Me];if(0==(1&Me)){const it=ze;""!==it&&MI(s,y,N[0],b,I,a,it)}else{const it=ze;if("object"!=typeof it)throw new Error(`Unable to parse ICU expression in "${h}" message.`);Ju(s,a,I,o,it,gp(s,y,N[0],a,b,"",!0).index)}}}else{const ce=47===Q.charCodeAt(0),ze=(Q.charCodeAt(ce?1:0),22+Number.parseInt(Q.substring(ce?2:1)));if(ce)N.shift(),jr(ga(),!1);else{const it=SI(s,N[0],ze);N.unshift([]),jr(it,!0)}}}s.data[u]={create:b,update:I}}(u,null===b?0:b.index,h,p,y,a);const I=u.data[p],P=Gb(u,b===h[6]?null:b,h);(function NI(s,o,a,u){const h=s[11];for(let p=0;p<o.length;p++){const y=o[p++],b=o[p],I=(y&Ir.COMMENT)===Ir.COMMENT,N=(y&Ir.APPEND_EAGERLY)===Ir.APPEND_EAGERLY,P=y>>>Ir.SHIFT;let U=s[P];null===U&&(U=s[P]=I?h.createComment(b):Iy(h,b)),N&&null!==a&&Ba(h,a,U,u,!1)}})(h,I.create,P,b&&8&b.type?h[b.index]:null),ul(!0)}function Ur(s,o,a){Hm(s,o,a),function RD(){ul(!1)}()}function Gm(s){return function Vc(s){s&&(dp|=1<<Math.min(hp,31)),hp++}(Ei(Le(),Ho(),s)),Gm}function Bv(s){!function Dh(s,o,a){if(hp>0){const u=s.data[a];Fv(s,o,Array.isArray(u)?u:u.update,function $i(){return Ut.lFrame.bindingIndex}()-hp-1,dp)}dp=0,hp=0}(rn(),Le(),s+22)}function Ki(s,o,a,u,h){if(s=te(s),Array.isArray(s))for(let p=0;p<s.length;p++)Ki(s[p],o,a,u,h);else{const p=rn(),y=Le();let b=Ao(s)?s:te(s.provide),I=Ng(s);const N=Yn(),P=1048575&N.providerIndexes,U=N.directiveStart,Q=N.providerIndexes>>20;if(Ao(s)||!s.multi){const ce=new vi(I,h,Mu),Me=zm(b,o,h?P:P+Q,U);-1===Me?(Yo($r(N,y),p,b),Wm(p,s,o.length),o.push(b),N.directiveStart++,N.directiveEnd++,h&&(N.providerIndexes+=1048576),a.push(ce),y.push(ce)):(a[Me]=ce,y[Me]=ce)}else{const ce=zm(b,o,P+Q,U),Me=zm(b,o,P,P+Q),ze=ce>=0&&a[ce],it=Me>=0&&a[Me];if(h&&!it||!h&&!ze){Yo($r(N,y),p,b);const Dt=function FI(s,o,a,u,h){const p=new vi(s,a,Mu);return p.multi=[],p.index=o,p.componentProviders=0,Nh(p,h,u&&!a),p}(h?kD:Ka,a.length,h,u,I);!h&&it&&(a[Me].providerFactory=Dt),Wm(p,s,o.length,0),o.push(b),N.directiveStart++,N.directiveEnd++,h&&(N.providerIndexes+=1048576),a.push(Dt),y.push(Dt)}else Wm(p,s,ce>-1?ce:Me,Nh(a[h?Me:ce],I,!h&&u));!h&&u&&it&&a[Me].componentProviders++}}}function Wm(s,o,a,u){const h=Ao(o),p=function vb(s){return!!s.useClass}(o);if(h||p){const I=(p?te(o.useClass):o).prototype.ngOnDestroy;if(I){const N=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const P=N.indexOf(a);-1===P?N.push(a,[u,I]):N[P+1].push(u,I)}else N.push(a,I)}}}function Nh(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function zm(s,o,a,u){for(let h=a;h<u;h++)if(o[h]===s)return h;return-1}function Ka(s,o,a,u){return Xu(this.multi,[])}function kD(s,o,a,u){const h=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,b=Cs(a,a[1],this.providerFactory.index,u);p=b.slice(0,y),Xu(h,p);for(let I=y;I<b.length;I++)p.push(b[I])}else p=[],Xu(h,p);return p}function Xu(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function PD(s,o=[]){return a=>{a.providersResolver=(u,h)=>function PI(s,o,a){const u=rn();if(u.firstCreatePass){const h=Yr(s);Ki(a,u.data,u.blueprint,h,!0),Ki(o,u.data,u.blueprint,h,!1)}}(u,h?h(s):s,o)}}class Yt{}class FD{}function qm(s,o){return new xh(s,o??null)}class xh extends Yt{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new th(this);const u=ht(o);this._bootstrapComponents=xl(u.bootstrap),this._r3Injector=ow(o,a,[{provide:Yt,useValue:this},{provide:wc,useValue:this.componentFactoryResolver}],pe(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Mh extends FD{constructor(o){super(),this.moduleType=o}create(o){return new xh(this.moduleType,o)}}class LD extends Yt{constructor(o,a,u){super(),this.componentFactoryResolver=new th(this),this.instance=null;const h=new oy([...o,{provide:Yt,useValue:this},{provide:wc,useValue:this.componentFactoryResolver}],a||Ag(),u,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Km(s,o,a=null){return new LD(s,o,a).injector}let VD=(()=>{class s{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const u=mb(0,a.type),h=u.length>0?Km([u],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,h)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=Jt({token:s,providedIn:"environment",factory:()=>new s(cn(La))}),s})();function BD(s){s.getStandaloneInjector=o=>o.get(VD).getOrCreateStandaloneInjector(s)}function qD(s,o,a,u){return QD(Le(),Qn(),s,o,a,u)}function ZD(s,o,a,u,h){return function JD(s,o,a,u,h,p,y){const b=o+a;return xc(s,b,h,p)?As(s,b+2,y?u.call(y,h,p):u(h,p)):kh(s,b+2)}(Le(),Qn(),s,o,a,u,h)}function Rh(s,o,a,u,h,p){return function ed(s,o,a,u,h,p,y,b){const I=o+a;return function Mc(s,o,a,u,h){const p=xc(s,o,a,u);return Ei(s,o+2,h)||p}(s,I,h,p,y)?As(s,I+3,b?u.call(b,h,p,y):u(h,p,y)):kh(s,I+3)}(Le(),Qn(),s,o,a,u,h,p)}function kh(s,o){const a=s[o];return a===en?void 0:a}function QD(s,o,a,u,h,p){const y=o+a;return Ei(s,y,h)?As(s,y+1,p?u.call(p,h):u(h)):kh(s,y+1)}function e1(s,o){const a=rn();let u;const h=s+22;a.firstCreatePass?(u=function $I(s,o){if(o)for(let a=o.length-1;a>=0;a--){const u=o[a];if(s===u.name)return u}}(o,a.pipeRegistry),a.data[h]=u,u.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(h,u.onDestroy)):u=a.data[h];const p=u.factory||(u.factory=xr(u.type)),y=Xt(Mu);try{const b=M(!1),I=p();return M(b),function Bw(s,o,a,u){a>=s.data.length&&(s.data[a]=null,s.blueprint[a]=null),o[a]=u}(a,Le(),h,I),I}finally{Xt(y)}}function Yi(s,o,a){const u=s+22,h=Le(),p=Ui(h,u);return function Hc(s,o){return s[1].data[o].pure}(h,u)?QD(h,Qn(),o,p.transform,a,p):p.transform(a)}function Gv(s){return o=>{setTimeout(s,void 0,o)}}const Ja=class r1 extends c.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,u){let h=o,p=a||(()=>null),y=u;if(o&&"object"==typeof o){const I=o;h=I.next?.bind(I),p=I.error?.bind(I),y=I.complete?.bind(I)}this.__isAsync&&(p=Gv(p),h&&(h=Gv(h)),y&&(y=Gv(y)));const b=super.subscribe({next:h,error:p,complete:y});return o instanceof R.w0&&o.add(b),b}};function WI(){return this._results[Ac()]()}class Wv{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Ac(),u=Wv.prototype;u[a]||(u[a]=WI)}get changes(){return this._changes||(this._changes=new Ja)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const u=this;u.dirty=!1;const h=pn(o);(this._changesDetected=!function Jn(s,o,a){if(s.length!==o.length)return!1;for(let u=0;u<s.length;u++){let h=s[u],p=o[u];if(a&&(h=a(h),p=a(p)),p!==h)return!1}return!0}(u._results,h,a))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let yp=(()=>{class s{}return s.__NG_ELEMENT_ID__=ZI,s})();const zI=yp,qI=class extends zI{constructor(o,a,u){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(o,a){const u=this._declarationTContainer.tViews,h=Kd(this._declarationLView,u,o,16,null,u.declTNode,null,null,null,null,a||null);h[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(h[19]=y.createEmbeddedView(u)),Yy(u,h,o),new eh(h)}};function ZI(){return Xm(Yn(),Le())}function Xm(s,o){return 4&s.type?new qI(o,s,Vd(s,o)):null}let e_=(()=>{class s{}return s.__NG_ELEMENT_ID__=KI,s})();function KI(){return qv(Yn(),Le())}const YI=e_,i1=class extends YI{constructor(o,a,u){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=u}get element(){return Vd(this._hostTNode,this._hostLView)}get injector(){return new Ta(this._hostTNode,this._hostLView)}get parentInjector(){const o=wl(this._hostTNode,this._hostLView);if(_u(o)){const a=C(o,this._hostLView),u=cr(o);return new Ta(a[1].data[u+8],a)}return new Ta(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=s1(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,u){let h,p;"number"==typeof u?h=u:null!=u&&(h=u.index,p=u.injector);const y=o.createEmbeddedView(a||{},p);return this.insert(y,h),y}createComponent(o,a,u,h,p){const y=o&&!function as(s){return"function"==typeof s}(o);let b;if(y)b=a;else{const U=a||{};b=U.index,u=U.injector,h=U.projectableNodes,p=U.environmentInjector||U.ngModuleRef}const I=y?o:new rh(F(o)),N=u||this.parentInjector;if(!p&&null==I.ngModule){const Q=(y?N:this.parentInjector).get(La,null);Q&&(p=Q)}const P=I.create(N,h,void 0,p);return this.insert(P.hostView,b),P}insert(o,a){const u=o._lView,h=u[1];if(function cl(s){return fi(s[3])}(u)){const P=this.indexOf(o);if(-1!==P)this.detach(P);else{const U=u[3],Q=new i1(U,U[6],U[3]);Q.detach(Q.indexOf(o))}}const p=this._adjustIndex(a),y=this._lContainer;!function EE(s,o,a,u){const h=10+u,p=a.length;u>0&&(a[h-1][4]=o),u<p-10?(o[4]=a[h],Jo(a,10+u,o)):(a.push(o),o[4]=null),o[3]=a;const y=o[17];null!==y&&a!==y&&function IE(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(y,o);const b=o[19];null!==b&&b.insertView(s),o[2]|=64}(h,u,y,p);const b=Kb(p,y),I=u[11],N=Wg(I,y[7]);return null!==N&&function Ub(s,o,a,u,h,p){u[0]=h,u[6]=o,Au(s,u,a,1,h,p)}(h,y[6],I,u,N,b),o.attachToViewContainerRef(),Jo(zv(y),p,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=s1(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),u=Sy(this._lContainer,a);u&&(ur(zv(this._lContainer),a),kf(u[1],u))}detach(o){const a=this._adjustIndex(o,-1),u=Sy(this._lContainer,a);return u&&null!=ur(zv(this._lContainer),a)?new eh(u):null}_adjustIndex(o,a=0){return o??this.length+a}};function s1(s){return s[8]}function zv(s){return s[8]||(s[8]=[])}function qv(s,o){let a;const u=o[s.index];if(fi(u))a=u;else{let h;if(8&s.type)h=In(u);else{const p=o[11];h=p.createComment("");const y=br(s,o);Ba(p,Wg(p,y),h,function qb(s,o){return s.nextSibling(o)}(p,y),!1)}o[s.index]=a=Jf(u,o,h,s),ep(o,a)}return new i1(a,s,o)}class Zv{constructor(o){this.queryList=o,this.matches=null}clone(){return new Zv(this.queryList)}setDirty(){this.queryList.setDirty()}}class vp{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const u=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let p=0;p<u;p++){const y=a.getByIndex(p);h.push(this.queries[y.indexInDeclarationView].clone())}return new vp(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==Qv(o,a).matches&&this.queries[a].setDirty()}}class li{constructor(o,a,u=null){this.predicate=o,this.flags=a,this.read=u}}class bp{constructor(o=[]){this.queries=o}elementStart(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let u=0;u<this.length;u++){const h=null!==a?a.length:0,p=this.getByIndex(u).embeddedTView(o,h);p&&(p.indexInDeclarationView=u,null!==a?a.push(p):a=[p])}return null!==a?new bp(a):null}template(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class wp{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new wp(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=o.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const p=u[h];this.matchTNodeWithReadOption(o,a,Kv(a,p)),this.matchTNodeWithReadOption(o,a,Cl(a,o,p,!1,!1))}else u===yp?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Cl(a,o,u,!1,!1))}matchTNodeWithReadOption(o,a,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===Su||h===e_||h===yp&&4&a.type)this.addMatch(a.index,-2);else{const p=Cl(a,o,h,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,u)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function Kv(s,o){const a=s.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===o)return a[u+1];return null}function a1(s,o,a,u){return-1===a?function Gc(s,o){return 11&s.type?Vd(s,o):4&s.type?Xm(s,o):null}(o,s):-2===a?function XI(s,o,a){return a===Su?Vd(o,s):a===yp?Xm(o,s):a===e_?qv(o,s):void 0}(s,o,u):Cs(s,s[1],a,o)}function Yv(s,o,a,u){const h=o[19].queries[u];if(null===h.matches){const p=s.data,y=a.matches,b=[];for(let I=0;I<y.length;I+=2){const N=y[I];b.push(N<0?null:a1(o,p[N],y[I+1],a.metadata.read))}h.matches=b}return h.matches}function Ph(s,o,a,u){const h=s.queries.getByIndex(a),p=h.matches;if(null!==p){const y=Yv(s,o,h,a);for(let b=0;b<p.length;b+=2){const I=p[b];if(I>0)u.push(y[b/2]);else{const N=p[b+1],P=o[-I];for(let U=10;U<P.length;U++){const Q=P[U];Q[17]===Q[3]&&Ph(Q[1],Q,N,u)}if(null!==P[9]){const U=P[9];for(let Q=0;Q<U.length;Q++){const ce=U[Q];Ph(ce[1],ce,N,u)}}}}}return u}function Wc(s){const o=Le(),a=rn(),u=Go();hl(u+1);const h=Qv(a,u);if(s.dirty&&function ll(s){return 4==(4&s[2])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?Ph(a,o,u,[]):Yv(a,o,h,u);s.reset(p,Eb),s.notifyOnChanges()}return!0}return!1}function zc(s,o,a){const u=rn();u.firstCreatePass&&(n_(u,new li(s,o,a),-1),2==(2&o)&&(u.staticViewQueries=!0)),t_(u,Le(),o)}function qc(s,o,a,u){const h=rn();if(h.firstCreatePass){const p=Yn();n_(h,new li(o,a,u),p.index),function c1(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(h,s),2==(2&a)&&(h.staticContentQueries=!0)}t_(h,Le(),a)}function Fh(){return function l1(s,o){return s[19].queries[o].queryList}(Le(),Go())}function t_(s,o,a){const u=new Wv(4==(4&a));Cw(s,o,u,u.destroy),null===o[19]&&(o[19]=new vp),o[19].queries.push(new Zv(u))}function n_(s,o,a){null===s.queries&&(s.queries=new bp),s.queries.track(new wp(o,a))}function Qv(s,o){return s.queries.getByIndex(o)}function u1(s,o){return Xm(s,o)}function o_(...s){}const C1=new $n("Application Initializer");let Np=(()=>{class s{constructor(a){this.appInits=a,this.resolve=o_,this.reject=o_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(Dm(p))a.push(p);else if(op(p)){const y=new Promise((b,I)=>{p.subscribe({complete:b,error:I})});a.push(y)}}Promise.all(a).then(()=>{u()}).catch(h=>{this.reject(h)}),0===a.length&&u(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(cn(C1,8))},s.\u0275prov=Jt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const E1=new $n("AppId",{providedIn:"root",factory:function xp(){return`${a_()}${a_()}${a_()}`}});function a_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const l_=new $n("Platform Initializer"),a0=new $n("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Uh=new $n("appBootstrapListener");let c0=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Jt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const c_=new $n("LocaleId",{providedIn:"root",factory:()=>wr(c_,Ye.Optional|Ye.SkipSelf)||function T1(){return typeof $localize<"u"&&$localize.locale||qa}()}),S1=new $n("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class N1{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let uT=(()=>{class s{compileModuleSync(a){return new Mh(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),p=xl(ht(a).declarations).reduce((y,b)=>{const I=F(b);return I&&y.push(new rh(I)),y},[]);return new N1(u,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Jt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const M1=(()=>Promise.resolve(0))();function d_(s){typeof Zone>"u"?M1.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Os{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ja(!1),this.onMicrotaskEmpty=new Ja(!1),this.onStable=new Ja(!1),this.onError=new Ja(!1),typeof Zone>"u")throw new xe(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const p=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new p("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&a,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function dT(){let s=Lt.requestAnimationFrame,o=Lt.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function R1(s){const o=()=>{!function O1(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Lt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Op(s),s.isCheckStableRunning=!0,Mp(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Op(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,h,p,y,b)=>{try{return Rp(s),a.invokeTask(h,p,y,b)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),$h(s)}},onInvoke:(a,u,h,p,y,b,I)=>{try{return Rp(s),a.invoke(h,p,y,b,I)}finally{s.shouldCoalesceRunChangeDetection&&o(),$h(s)}},onHasTask:(a,u,h,p)=>{a.hasTask(h,p),u===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,Op(s),Mp(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,u,h,p)=>(a.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Os.isInAngularZone())throw new xe(909,!1)}static assertNotInAngularZone(){if(Os.isInAngularZone())throw new xe(909,!1)}run(o,a,u){return this._inner.run(o,a,u)}runTask(o,a,u,h){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+h,o,hT,o_,o_);try{return p.runTask(y,a,u)}finally{p.cancelTask(y)}}runGuarded(o,a,u){return this._inner.runGuarded(o,a,u)}runOutsideAngular(o){return this._outer.run(o)}}const hT={};function Mp(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Op(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Rp(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function $h(s){s._nesting--,Mp(s)}class h_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ja,this.onMicrotaskEmpty=new Ja,this.onStable=new Ja,this.onError=new Ja}run(o,a,u){return o.apply(a,u)}runGuarded(o,a,u){return o.apply(a,u)}runOutsideAngular(o){return o()}runTask(o,a,u,h){return o.apply(a,u)}}const f_=new $n(""),p_=new $n("");let g_,d0=(()=>{class s{constructor(a,u,h){this._ngZone=a,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,g_||(function fT(s){g_=s}(h),h.addToWindow(u)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Os.assertNotInAngularZone(),d_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())d_(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,h){let p=-1;u&&u>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:h})}whenStable(a,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,u,h){return[]}}return s.\u0275fac=function(a){return new(a||s)(cn(Os),cn(h0),cn(p_))},s.\u0275prov=Jt({token:s,factory:s.\u0275fac}),s})(),h0=(()=>{class s{constructor(){this._applications=new Map}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return g_?.findTestabilityInTree(this,a,u)??null}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Jt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Qc=null;const k1=new $n("AllowMultipleToken"),f0=new $n("PlatformDestroyListeners");class P1{constructor(o,a){this.name=o,this.token=a}}function y_(s,o,a=[]){const u=`Platform: ${o}`,h=new $n(u);return(p=[])=>{let y=kp();if(!y||y.injector.get(k1,!1)){const b=[...a,...p,{provide:h,useValue:!0}];s?s(b):function pT(s){if(Qc&&!Qc.get(k1,!1))throw new xe(400,!1);Qc=s;const o=s.get(ud);(function F1(s){const o=s.get(l_,null);o&&o.forEach(a=>a())})(s)}(function L1(s=[],o){return Ni.create({name:o,providers:[{provide:Ig,useValue:"platform"},{provide:f0,useValue:new Set([()=>Qc=null])},...s]})}(b,u))}return function mT(s){const o=kp();if(!o)throw new xe(401,!1);return o}()}}function kp(){return Qc?.get(ud)??null}let ud=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const h=function Pp(s,o){let a;return a="noop"===s?new h_:("zone.js"===s?void 0:s)||new Os(o),a}(u?.ngZone,function b_(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(u)),p=[{provide:Os,useValue:h}];return h.run(()=>{const y=Ni.create({providers:p,parent:this.injector,name:a.moduleType.name}),b=a.create(y),I=b.injector.get(Mf,null);if(!I)throw new xe(402,!1);return h.runOutsideAngular(()=>{const N=h.onError.subscribe({next:P=>{I.handleError(P)}});b.onDestroy(()=>{Gh(this._modules,b),N.unsubscribe()})}),function Hh(s,o,a){try{const u=a();return Dm(u)?u.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):u}catch(u){throw o.runOutsideAngular(()=>s.handleError(u)),u}}(I,h,()=>{const N=b.injector.get(Np);return N.runInitializers(),N.donePromise.then(()=>(Ov(b.injector.get(c_,qa)||qa),this._moduleDoBootstrap(b),b))})})}bootstrapModule(a,u=[]){const h=w_({},u);return function m_(s,o,a){const u=new Mh(a);return Promise.resolve(u)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(a){const u=a.injector.get(Fp);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new xe(403,!1);a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xe(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const a=this._injector.get(f0,null);a&&(a.forEach(u=>u()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(cn(Ni))},s.\u0275prov=Jt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function w_(s,o){return Array.isArray(o)?o.reduce(w_,s):{...s,...o}}let Fp=(()=>{class s{constructor(a,u,h){this._zone=a,this._injector=u,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new L.y(b=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{b.next(this._stable),b.complete()})}),y=new L.y(b=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{Os.assertNotInAngularZone(),d_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,b.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{Os.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{b.next(!1)}))});return()=>{I.unsubscribe(),N.unsubscribe()}});this.isStable=(0,le.T)(p,y.pipe((0,fe.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,u){const h=a instanceof cy;if(!this._injector.get(Np).done)throw!h&&Ve(a),new xe(405,false);let y;y=h?a:this._injector.get(wc).resolveComponentFactory(a),this.componentTypes.push(y.componentType);const b=function p0(s){return s.isBoundToModule}(y)?void 0:this._injector.get(Yt),N=y.create(Ni.NULL,[],u||y.selector,b),P=N.location.nativeElement,U=N.injector.get(f_,null);return U?.registerApplication(P),N.onDestroy(()=>{this.detachView(N.hostView),Gh(this.components,N),U?.unregisterApplication(P)}),this._loadComponent(N),N}tick(){if(this._runningTick)throw new xe(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;Gh(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(Uh,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Gh(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new xe(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(a){return new(a||s)(cn(Os),cn(La),cn(Mf))},s.\u0275prov=Jt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Gh(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let g0=!0,V1=!1;function m0(){return V1=!0,g0}function _T(){if(V1)throw new Error("Cannot enable prod mode after platform setup.");g0=!1}let E_=(()=>{class s{}return s.__NG_ELEMENT_ID__=_0,s})();function _0(s){return function U1(s,o,a){if(ms(s)&&!a){const u=fn(s.index,o);return new eh(u,u)}return 47&s.type?new eh(o[16],o):null}(Yn(),Le(),16==(16&s))}class fd{constructor(){}supports(o){return Vu(o)}create(o){return new zh(o)}}const W1=(s,o)=>o;class zh{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||W1}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,u=this._removalsHead,h=0,p=null;for(;a||u;){const y=!u||a&&a.currentIndex<N_(u,h,p)?a:u,b=N_(y,h,p),I=y.currentIndex;if(y===u)h--,u=u._nextRemoved;else if(a=a._next,null==y.previousIndex)h++;else{p||(p=[]);const N=b-h,P=I-h;if(N!=P){for(let Q=0;Q<N;Q++){const ce=Q<p.length?p[Q]:p[Q]=0,Me=ce+Q;P<=Me&&Me<N&&(p[Q]=ce+1)}p[y.previousIndex]=P-N}}b!==I&&o(y,b,I)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Vu(o))throw new xe(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,y,a=this._itHead,u=!1;if(Array.isArray(o)){this.length=o.length;for(let b=0;b<this.length;b++)p=o[b],y=this._trackByFn(b,p),null!==a&&Object.is(a.trackById,y)?(u&&(a=this._verifyReinsertion(a,p,y,b)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,y,b),u=!0),a=a._next}else h=0,function gI(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[Ac()]();let u;for(;!(u=a.next()).done;)o(u.value)}}(o,b=>{y=this._trackByFn(h,b),null!==a&&Object.is(a.trackById,y)?(u&&(a=this._verifyReinsertion(a,b,y,h)),Object.is(a.item,b)||this._addIdentityChange(a,b)):(a=this._mismatch(a,b,y,h),u=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,u,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,h)):o=this._addAfter(new bT(a,u),p,h),o}_verifyReinsertion(o,a,u,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,a,u),this._addToMoves(o,u),o}_moveAfter(o,a,u){return this._unlink(o),this._insertAfter(o,a,u),this._addToMoves(o,u),o}_addAfter(o,a,u){return this._insertAfter(o,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,u){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new A_),this._linkedRecords.put(o),o.currentIndex=u,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,u=o._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new A_),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class bT{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class wT{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,o))return u;return null}remove(o){const a=o._prevDup,u=o._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class A_{constructor(){this.map=new Map}put(o){const a=o.trackById;let u=this.map.get(a);u||(u=new wT,this.map.set(a,u)),u.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function N_(s,o,a){const u=s.previousIndex;if(null===u)return u;let h=0;return a&&u<a.length&&(h=a[u]),u+o+h}class x_{constructor(){}supports(o){return o instanceof Map||cv(o)}create(){return new b0}}class b0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||cv(o)))throw new xe(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(u,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(h,u);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const u=o._prev;return a._next=o,a._prev=u,o._prev=a,u&&(u._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const p=h._prev,y=h._next;return p&&(p._next=y),y&&(y._prev=p),h._next=null,h._prev=null,h}const u=new DT(o);return this._records.set(o,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(u=>a(o[u],u))}}class DT{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function z1(){return new Hp([new fd])}let Hp=(()=>{class s{constructor(a){this.factories=a}static create(a,u){if(null!=u){const h=u.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:u=>s.create(a,u||z1()),deps:[[s,new Tt,new Se]]}}find(a){const u=this.factories.find(h=>h.supports(a));if(null!=u)return u;throw new xe(901,!1)}}return s.\u0275prov=Jt({token:s,providedIn:"root",factory:z1}),s})();function Z1(){return new M_([new x_])}let M_=(()=>{class s{constructor(a){this.factories=a}static create(a,u){if(u){const h=u.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:u=>s.create(a,u||Z1()),deps:[[s,new Tt,new Se]]}}find(a){const u=this.factories.find(h=>h.supports(a));if(u)return u;throw new xe(901,!1)}}return s.\u0275prov=Jt({token:s,providedIn:"root",factory:Z1}),s})();const Y1=y_(null,"core",[]);let TT=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(cn(Fp))},s.\u0275mod=on({type:s}),s.\u0275inj=Rt({}),s})();function ST(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function w0(s,o){const a=F(s),u=o.elementInjector||Ag();return new rh(a).create(u,o.projectableNodes,o.hostElement,o.environmentInjector)}},3942:(wt,ue,B)=>{"use strict";B.d(ue,{Z:()=>xe});var c=B(2090),R=B(4859),L=B(9681),le=B(1877);class fe{constructor(Ie,me){this._delegate=Ie,this.firebase=me,(0,L._addComponent)(Ie,new R.wA("app-compat",()=>this,"PUBLIC")),this.container=Ie.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ie){this._delegate.automaticDataCollectionEnabled=Ie}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ie=>{this._delegate.checkDestroyed(),Ie()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(Ie,me=L._DEFAULT_ENTRY_NAME){var $e;this._delegate.checkDestroyed();const rt=this._delegate.container.getProvider(Ie);return!rt.isInitialized()&&"EXPLICIT"===(null===($e=rt.getComponent())||void 0===$e?void 0:$e.instantiationMode)&&rt.initialize(),rt.getImmediate({identifier:me})}_removeServiceInstance(Ie,me=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ie).clearInstance(me)}_addComponent(Ie){(0,L._addComponent)(this._delegate,Ie)}_addOrOverwriteComponent(Ie){(0,L._addOrOverwriteComponent)(this._delegate,Ie)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const he=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Y=function Ce(){const Xe=function pe(Xe){const Ie={},me={__esModule:!0,initializeApp:function Be(oe,ge={}){const be=L.initializeApp(oe,ge);if((0,c.r3)(Ie,be.name))return Ie[be.name];const X=new Xe(be,me);return Ie[be.name]=X,X},app:rt,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function Ae(oe){const ge=oe.name,be=ge.replace("-compat","");if(L._registerComponent(oe)&&"PUBLIC"===oe.type){const X=(ne=rt())=>{if("function"!=typeof ne[be])throw he.create("invalid-app-argument",{appName:ge});return ne[be]()};void 0!==oe.serviceProps&&(0,c.ZB)(X,oe.serviceProps),me[be]=X,Xe.prototype[be]=function(...ne){return this._getService.bind(this,ge).apply(this,oe.multipleInstances?ne:[])}}return"PUBLIC"===oe.type?me[be]:null},removeApp:function $e(oe){delete Ie[oe]},useAsService:function et(oe,ge){return"serverAuth"===ge?null:ge},modularAPIs:L}};function rt(oe){if(!(0,c.r3)(Ie,oe=oe||L._DEFAULT_ENTRY_NAME))throw he.create("no-app",{appName:oe});return Ie[oe]}return me.default=me,Object.defineProperty(me,"apps",{get:function Fe(){return Object.keys(Ie).map(oe=>Ie[oe])}}),rt.App=Xe,me}(fe);return Xe.INTERNAL=Object.assign(Object.assign({},Xe.INTERNAL),{createFirebaseNamespace:Ce,extendNamespace:function Ie(me){(0,c.ZB)(Xe,me)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Xe}(),Z=new le.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){Z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Xe=self.firebase.SDK_VERSION;Xe&&Xe.indexOf("LITE")>=0&&Z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const xe=Y;!function Pe(Xe){(0,L.registerVersion)("@firebase/app-compat","0.1.38",Xe)}()},9681:(wt,ue,B)=>{"use strict";B.r(ue),B.d(ue,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>zt,_DEFAULT_ENTRY_NAME:()=>Qt,_addComponent:()=>dn,_addOrOverwriteComponent:()=>Jt,_apps:()=>gn,_clearComponents:()=>Zn,_components:()=>mn,_getProvider:()=>Rt,_registerComponent:()=>Ot,_removeServiceInstance:()=>kr,deleteApp:()=>On,getApp:()=>Dn,getApps:()=>Nr,initializeApp:()=>Vn,onLog:()=>Bn,registerVersion:()=>er,setLogLevel:()=>Xt});var c=B(5861),R=B(4859),L=B(1877),le=B(2090),fe=B(8766);class we{constructor(Oe){this.container=Oe}getPlatformInfoString(){return this.container.getProviders().map(dt=>{if(function he(lt){return"VERSION"===lt.getComponent()?.type}(dt)){const Et=dt.getImmediate();return`${Et.library}/${Et.version}`}return null}).filter(dt=>dt).join(" ")}}const pe="@firebase/app",Y=new L.Yd("@firebase/app"),Qt="[DEFAULT]",tt={[pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},gn=new Map,mn=new Map;function dn(lt,Oe){try{lt.container.addComponent(Oe)}catch(dt){Y.debug(`Component ${Oe.name} failed to register with FirebaseApp ${lt.name}`,dt)}}function Jt(lt,Oe){lt.container.addOrOverwriteComponent(Oe)}function Ot(lt){const Oe=lt.name;if(mn.has(Oe))return Y.debug(`There were multiple attempts to register component ${Oe}.`),!1;mn.set(Oe,lt);for(const dt of gn.values())dn(dt,lt);return!0}function Rt(lt,Oe){const dt=lt.container.getProvider("heartbeat").getImmediate({optional:!0});return dt&&dt.triggerHeartbeat(),lt.container.getProvider(Oe)}function kr(lt,Oe,dt=Qt){Rt(lt,Oe).clearInstance(dt)}function Zn(){mn.clear()}const Ln=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Vi{constructor(Oe,dt,Et){this._isDeleted=!1,this._options=Object.assign({},Oe),this._config=Object.assign({},dt),this._name=dt.name,this._automaticDataCollectionEnabled=dt.automaticDataCollectionEnabled,this._container=Et,this.container.addComponent(new R.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Oe){this.checkDestroyed(),this._automaticDataCollectionEnabled=Oe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Oe){this._isDeleted=Oe}checkDestroyed(){if(this.isDeleted)throw Ln.create("app-deleted",{appName:this._name})}}const zt="9.13.0";function Vn(lt,Oe={}){let dt=lt;"object"!=typeof Oe&&(Oe={name:Oe});const Et=Object.assign({name:Qt,automaticDataCollectionEnabled:!1},Oe),xt=Et.name;if("string"!=typeof xt||!xt)throw Ln.create("bad-app-name",{appName:String(xt)});if(dt||(dt=(0,le.aH)()),!dt)throw Ln.create("no-options");const on=gn.get(xt);if(on){if((0,le.vZ)(dt,on.options)&&(0,le.vZ)(Et,on.config))return on;throw Ln.create("duplicate-app",{appName:xt})}const K=new R.H0(xt);for(const J of mn.values())K.addComponent(J);const z=new Vi(dt,Et,K);return gn.set(xt,z),z}function Dn(lt=Qt){const Oe=gn.get(lt);if(!Oe&&lt===Qt)return Vn();if(!Oe)throw Ln.create("no-app",{appName:lt});return Oe}function Nr(){return Array.from(gn.values())}function On(lt){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,c.Z)(function*(lt){const Oe=lt.name;gn.has(Oe)&&(gn.delete(Oe),yield Promise.all(lt.container.getProviders().map(dt=>dt.delete())),lt.isDeleted=!0)})).apply(this,arguments)}function er(lt,Oe,dt){var Et;let xt=null!==(Et=tt[lt])&&void 0!==Et?Et:lt;dt&&(xt+=`-${dt}`);const on=xt.match(/\s|\//),K=Oe.match(/\s|\//);if(on||K){const z=[`Unable to register library "${xt}" with version "${Oe}":`];return on&&z.push(`library name "${xt}" contains illegal characters (whitespace or "/")`),on&&K&&z.push("and"),K&&z.push(`version name "${Oe}" contains illegal characters (whitespace or "/")`),void Y.warn(z.join(" "))}Ot(new R.wA(`${xt}-version`,()=>({library:xt,version:Oe}),"VERSION"))}function Bn(lt,Oe){if(null!==lt&&"function"!=typeof lt)throw Ln.create("invalid-log-argument");(0,L.Am)(lt,Oe)}function Xt(lt){(0,L.Ub)(lt)}const An="firebase-heartbeat-store";let Cn=null;function En(){return Cn||(Cn=(0,fe.X3)("firebase-heartbeat-database",1,{upgrade:(lt,Oe)=>{0===Oe&&lt.createObjectStore(An)}}).catch(lt=>{throw Ln.create("idb-open",{originalErrorMessage:lt.message})})),Cn}function Ze(){return(Ze=(0,c.Z)(function*(lt){var Oe;try{return(yield En()).transaction(An).objectStore(An).get(tr(lt))}catch(dt){if(dt instanceof le.ZR)Y.warn(dt.message);else{const Et=Ln.create("idb-get",{originalErrorMessage:null===(Oe=dt)||void 0===Oe?void 0:Oe.message});Y.warn(Et.message)}}})).apply(this,arguments)}function Lt(lt,Oe){return qr.apply(this,arguments)}function qr(){return(qr=(0,c.Z)(function*(lt,Oe){var dt;try{const xt=(yield En()).transaction(An,"readwrite");return yield xt.objectStore(An).put(Oe,tr(lt)),xt.done}catch(Et){if(Et instanceof le.ZR)Y.warn(Et.message);else{const xt=Ln.create("idb-set",{originalErrorMessage:null===(dt=Et)||void 0===dt?void 0:dt.message});Y.warn(xt.message)}}})).apply(this,arguments)}function tr(lt){return`${lt.name}!${lt.options.appId}`}class nr{constructor(Oe){this.container=Oe,this._heartbeatsCache=null;const dt=this.container.getProvider("app").getImmediate();this._storage=new sn(dt),this._heartbeatsCachePromise=this._storage.read().then(Et=>(this._heartbeatsCache=Et,Et))}triggerHeartbeat(){var Oe=this;return(0,c.Z)(function*(){const Et=Oe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),xt=Wt();if(null===Oe._heartbeatsCache&&(Oe._heartbeatsCache=yield Oe._heartbeatsCachePromise),Oe._heartbeatsCache.lastSentHeartbeatDate!==xt&&!Oe._heartbeatsCache.heartbeats.some(on=>on.date===xt))return Oe._heartbeatsCache.heartbeats.push({date:xt,agent:Et}),Oe._heartbeatsCache.heartbeats=Oe._heartbeatsCache.heartbeats.filter(on=>{const K=new Date(on.date).valueOf();return Date.now()-K<=2592e6}),Oe._storage.overwrite(Oe._heartbeatsCache)})()}getHeartbeatsHeader(){var Oe=this;return(0,c.Z)(function*(){if(null===Oe._heartbeatsCache&&(yield Oe._heartbeatsCachePromise),null===Oe._heartbeatsCache||0===Oe._heartbeatsCache.heartbeats.length)return"";const dt=Wt(),{heartbeatsToSend:Et,unsentEntries:xt}=function hi(lt,Oe=1024){const dt=[];let Et=lt.slice();for(const xt of lt){const on=dt.find(K=>K.agent===xt.agent);if(on){if(on.dates.push(xt.date),pr(dt)>Oe){on.dates.pop();break}}else if(dt.push({agent:xt.agent,dates:[xt.date]}),pr(dt)>Oe){dt.pop();break}Et=Et.slice(1)}return{heartbeatsToSend:dt,unsentEntries:Et}}(Oe._heartbeatsCache.heartbeats),on=(0,le.L)(JSON.stringify({version:2,heartbeats:Et}));return Oe._heartbeatsCache.lastSentHeartbeatDate=dt,xt.length>0?(Oe._heartbeatsCache.heartbeats=xt,yield Oe._storage.overwrite(Oe._heartbeatsCache)):(Oe._heartbeatsCache.heartbeats=[],Oe._storage.overwrite(Oe._heartbeatsCache)),on})()}}function Wt(){return(new Date).toISOString().substring(0,10)}class sn{constructor(Oe){this.app=Oe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Oe=this;return(0,c.Z)(function*(){return(yield Oe._canUseIndexedDBPromise)&&(yield function Ct(lt){return Ze.apply(this,arguments)}(Oe.app))||{heartbeats:[]}})()}overwrite(Oe){var dt=this;return(0,c.Z)(function*(){var Et;if(yield dt._canUseIndexedDBPromise){const on=yield dt.read();return Lt(dt.app,{lastSentHeartbeatDate:null!==(Et=Oe.lastSentHeartbeatDate)&&void 0!==Et?Et:on.lastSentHeartbeatDate,heartbeats:Oe.heartbeats})}})()}add(Oe){var dt=this;return(0,c.Z)(function*(){var Et;if(yield dt._canUseIndexedDBPromise){const on=yield dt.read();return Lt(dt.app,{lastSentHeartbeatDate:null!==(Et=Oe.lastSentHeartbeatDate)&&void 0!==Et?Et:on.lastSentHeartbeatDate,heartbeats:[...on.heartbeats,...Oe.heartbeats]})}})()}}function pr(lt){return(0,le.L)(JSON.stringify({version:2,heartbeats:lt})).length}!function kn(lt){Ot(new R.wA("platform-logger",Oe=>new we(Oe),"PRIVATE")),Ot(new R.wA("heartbeat",Oe=>new nr(Oe),"PRIVATE")),er(pe,"0.8.3",lt),er(pe,"0.8.3","esm2017"),er("fire-js","")}("")},4859:(wt,ue,B)=>{"use strict";B.d(ue,{H0:()=>pe,wA:()=>L});var c=B(5861),R=B(2090);class L{constructor(Y,Z,te){this.name=Y,this.instanceFactory=Z,this.type=te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Y){return this.instantiationMode=Y,this}setMultipleInstances(Y){return this.multipleInstances=Y,this}setServiceProps(Y){return this.serviceProps=Y,this}setInstanceCreatedCallback(Y){return this.onInstanceCreated=Y,this}}const le="[DEFAULT]";class fe{constructor(Y,Z){this.name=Y,this.container=Z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Y){const Z=this.normalizeInstanceIdentifier(Y);if(!this.instancesDeferred.has(Z)){const te=new R.BH;if(this.instancesDeferred.set(Z,te),this.isInitialized(Z)||this.shouldAutoInitialize())try{const qe=this.getOrInitializeService({instanceIdentifier:Z});qe&&te.resolve(qe)}catch{}}return this.instancesDeferred.get(Z).promise}getImmediate(Y){var Z;const te=this.normalizeInstanceIdentifier(Y?.identifier),qe=null!==(Z=Y?.optional)&&void 0!==Z&&Z;if(!this.isInitialized(te)&&!this.shouldAutoInitialize()){if(qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:te})}catch(Pe){if(qe)return null;throw Pe}}getComponent(){return this.component}setComponent(Y){if(Y.name!==this.name)throw Error(`Mismatching Component ${Y.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Y,this.shouldAutoInitialize()){if(function he(Ce){return"EAGER"===Ce.instantiationMode}(Y))try{this.getOrInitializeService({instanceIdentifier:le})}catch{}for(const[Z,te]of this.instancesDeferred.entries()){const qe=this.normalizeInstanceIdentifier(Z);try{const Pe=this.getOrInitializeService({instanceIdentifier:qe});te.resolve(Pe)}catch{}}}}clearInstance(Y=le){this.instancesDeferred.delete(Y),this.instancesOptions.delete(Y),this.instances.delete(Y)}delete(){var Y=this;return(0,c.Z)(function*(){const Z=Array.from(Y.instances.values());yield Promise.all([...Z.filter(te=>"INTERNAL"in te).map(te=>te.INTERNAL.delete()),...Z.filter(te=>"_delete"in te).map(te=>te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Y=le){return this.instances.has(Y)}getOptions(Y=le){return this.instancesOptions.get(Y)||{}}initialize(Y={}){const{options:Z={}}=Y,te=this.normalizeInstanceIdentifier(Y.instanceIdentifier);if(this.isInitialized(te))throw Error(`${this.name}(${te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const qe=this.getOrInitializeService({instanceIdentifier:te,options:Z});for(const[Pe,xe]of this.instancesDeferred.entries())te===this.normalizeInstanceIdentifier(Pe)&&xe.resolve(qe);return qe}onInit(Y,Z){var te;const qe=this.normalizeInstanceIdentifier(Z),Pe=null!==(te=this.onInitCallbacks.get(qe))&&void 0!==te?te:new Set;Pe.add(Y),this.onInitCallbacks.set(qe,Pe);const xe=this.instances.get(qe);return xe&&Y(xe,qe),()=>{Pe.delete(Y)}}invokeOnInitCallbacks(Y,Z){const te=this.onInitCallbacks.get(Z);if(te)for(const qe of te)try{qe(Y,Z)}catch{}}getOrInitializeService({instanceIdentifier:Y,options:Z={}}){let te=this.instances.get(Y);if(!te&&this.component&&(te=this.component.instanceFactory(this.container,{instanceIdentifier:(Ce=Y,Ce===le?void 0:Ce),options:Z}),this.instances.set(Y,te),this.instancesOptions.set(Y,Z),this.invokeOnInitCallbacks(te,Y),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Y,te)}catch{}var Ce;return te||null}normalizeInstanceIdentifier(Y=le){return this.component?this.component.multipleInstances?Y:le:Y}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pe{constructor(Y){this.name=Y,this.providers=new Map}addComponent(Y){const Z=this.getProvider(Y.name);if(Z.isComponentSet())throw new Error(`Component ${Y.name} has already been registered with ${this.name}`);Z.setComponent(Y)}addOrOverwriteComponent(Y){this.getProvider(Y.name).isComponentSet()&&this.providers.delete(Y.name),this.addComponent(Y)}getProvider(Y){if(this.providers.has(Y))return this.providers.get(Y);const Z=new fe(Y,this);return this.providers.set(Y,Z),Z}getProviders(){return Array.from(this.providers.values())}}},1877:(wt,ue,B)=>{"use strict";B.d(ue,{Am:()=>Ce,Ub:()=>pe,Yd:()=>he,in:()=>R});const c=[];var R=(()=>{return(Y=R||(R={}))[Y.DEBUG=0]="DEBUG",Y[Y.VERBOSE=1]="VERBOSE",Y[Y.INFO=2]="INFO",Y[Y.WARN=3]="WARN",Y[Y.ERROR=4]="ERROR",Y[Y.SILENT=5]="SILENT",R;var Y})();const L={debug:R.DEBUG,verbose:R.VERBOSE,info:R.INFO,warn:R.WARN,error:R.ERROR,silent:R.SILENT},le=R.INFO,fe={[R.DEBUG]:"log",[R.VERBOSE]:"log",[R.INFO]:"info",[R.WARN]:"warn",[R.ERROR]:"error"},we=(Y,Z,...te)=>{if(Z<Y.logLevel)return;const qe=(new Date).toISOString(),Pe=fe[Z];if(!Pe)throw new Error(`Attempted to log a message with an invalid logType (value: ${Z})`);console[Pe](`[${qe}]  ${Y.name}:`,...te)};class he{constructor(Z){this.name=Z,this._logLevel=le,this._logHandler=we,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in R))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel="string"==typeof Z?L[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if("function"!=typeof Z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(...Z){this._userLogHandler&&this._userLogHandler(this,R.DEBUG,...Z),this._logHandler(this,R.DEBUG,...Z)}log(...Z){this._userLogHandler&&this._userLogHandler(this,R.VERBOSE,...Z),this._logHandler(this,R.VERBOSE,...Z)}info(...Z){this._userLogHandler&&this._userLogHandler(this,R.INFO,...Z),this._logHandler(this,R.INFO,...Z)}warn(...Z){this._userLogHandler&&this._userLogHandler(this,R.WARN,...Z),this._logHandler(this,R.WARN,...Z)}error(...Z){this._userLogHandler&&this._userLogHandler(this,R.ERROR,...Z),this._logHandler(this,R.ERROR,...Z)}}function pe(Y){c.forEach(Z=>{Z.setLogLevel(Y)})}function Ce(Y,Z){for(const te of c){let qe=null;Z&&Z.level&&(qe=L[Z.level]),te.userLogHandler=null===Y?null:(Pe,xe,...Xe)=>{const Ie=Xe.map(me=>{if(null==me)return null;if("string"==typeof me)return me;if("number"==typeof me||"boolean"==typeof me)return me.toString();if(me instanceof Error)return me.message;try{return JSON.stringify(me)}catch{return null}}).filter(me=>me).join(" ");xe>=(qe??Pe.logLevel)&&Y({level:R[xe].toLowerCase(),message:Ie,args:Xe,type:Pe.name})}}}},8766:(wt,ue,B)=>{"use strict";B.d(ue,{Lj:()=>Be,X3:()=>rt});var c=B(5861);let L,le;const he=new WeakMap,pe=new WeakMap,Ce=new WeakMap,Y=new WeakMap,Z=new WeakMap;let Pe={get(ge,be,X){if(ge instanceof IDBTransaction){if("done"===be)return pe.get(ge);if("objectStoreNames"===be)return ge.objectStoreNames||Ce.get(ge);if("store"===be)return X.objectStoreNames[1]?void 0:X.objectStore(X.objectStoreNames[0])}return me(ge[be])},set:(ge,be,X)=>(ge[be]=X,!0),has:(ge,be)=>ge instanceof IDBTransaction&&("done"===be||"store"===be)||be in ge};function Ie(ge){return"function"==typeof ge?function Xe(ge){return ge!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function we(){return le||(le=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ge)?function(...be){return ge.apply($e(this),be),me(he.get(this))}:function(...be){return me(ge.apply($e(this),be))}:function(be,...X){const ne=ge.call($e(this),be,...X);return Ce.set(ne,be.sort?be.sort():[be]),me(ne)}}(ge):(ge instanceof IDBTransaction&&function qe(ge){if(pe.has(ge))return;const be=new Promise((X,ne)=>{const ye=()=>{ge.removeEventListener("complete",ae),ge.removeEventListener("error",je),ge.removeEventListener("abort",je)},ae=()=>{X(),ye()},je=()=>{ne(ge.error||new DOMException("AbortError","AbortError")),ye()};ge.addEventListener("complete",ae),ge.addEventListener("error",je),ge.addEventListener("abort",je)});pe.set(ge,be)}(ge),((ge,be)=>be.some(X=>ge instanceof X))(ge,function fe(){return L||(L=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ge,Pe):ge)}function me(ge){if(ge instanceof IDBRequest)return function te(ge){const be=new Promise((X,ne)=>{const ye=()=>{ge.removeEventListener("success",ae),ge.removeEventListener("error",je)},ae=()=>{X(me(ge.result)),ye()},je=()=>{ne(ge.error),ye()};ge.addEventListener("success",ae),ge.addEventListener("error",je)});return be.then(X=>{X instanceof IDBCursor&&he.set(X,ge)}).catch(()=>{}),Z.set(be,ge),be}(ge);if(Y.has(ge))return Y.get(ge);const be=Ie(ge);return be!==ge&&(Y.set(ge,be),Z.set(be,ge)),be}const $e=ge=>Z.get(ge);function rt(ge,be,{blocked:X,upgrade:ne,blocking:ye,terminated:ae}={}){const je=indexedDB.open(ge,be),We=me(je);return ne&&je.addEventListener("upgradeneeded",vt=>{ne(me(je.result),vt.oldVersion,vt.newVersion,me(je.transaction))}),X&&je.addEventListener("blocked",()=>X()),We.then(vt=>{ae&&vt.addEventListener("close",()=>ae()),ye&&vt.addEventListener("versionchange",()=>ye())}).catch(()=>{}),We}function Be(ge,{blocked:be}={}){const X=indexedDB.deleteDatabase(ge);return be&&X.addEventListener("blocked",()=>be()),me(X).then(()=>{})}const Fe=["get","getKey","getAll","getAllKeys","count"],Ae=["put","add","delete","clear"],et=new Map;function oe(ge,be){if(!(ge instanceof IDBDatabase)||be in ge||"string"!=typeof be)return;if(et.get(be))return et.get(be);const X=be.replace(/FromIndex$/,""),ne=be!==X,ye=Ae.includes(X);if(!(X in(ne?IDBIndex:IDBObjectStore).prototype)||!ye&&!Fe.includes(X))return;const ae=function(){var je=(0,c.Z)(function*(We,...vt){const ln=this.transaction(We,ye?"readwrite":"readonly");let Qt=ln.store;return ne&&(Qt=Qt.index(vt.shift())),(yield Promise.all([Qt[X](...vt),ye&&ln.done]))[0]});return function(vt){return je.apply(this,arguments)}}();return et.set(be,ae),ae}!function xe(ge){Pe=ge(Pe)}(ge=>({...ge,get:(be,X,ne)=>oe(be,X)||ge.get(be,X,ne),has:(be,X)=>!!oe(be,X)||ge.has(be,X)}))},5861:(wt,ue,B)=>{"use strict";function c(L,le,fe,we,he,pe,Ce){try{var Y=L[pe](Ce),Z=Y.value}catch(te){return void fe(te)}Y.done?le(Z):Promise.resolve(Z).then(we,he)}function R(L){return function(){var le=this,fe=arguments;return new Promise(function(we,he){var pe=L.apply(le,fe);function Ce(Z){c(pe,we,he,Ce,Y,"next",Z)}function Y(Z){c(pe,we,he,Ce,Y,"throw",Z)}Ce(void 0)})}}B.d(ue,{Z:()=>R})}},wt=>{wt(wt.s=8015)}]);